var $k=Object.defineProperty,Hk=Object.defineProperties;var zk=Object.getOwnPropertyDescriptors;var xd=Object.getOwnPropertySymbols;var yT=Object.prototype.hasOwnProperty,vT=Object.prototype.propertyIsEnumerable;var _T=(n,e,t)=>e in n?$k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hn=(n,e)=>{for(var t in e||={})yT.call(e,t)&&_T(n,t,e[t]);if(xd)for(var t of xd(e))vT.call(e,t)&&_T(n,t,e[t]);return n},pn=(n,e)=>Hk(n,zk(e));var A6=(n,e)=>{var t={};for(var r in n)yT.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&xd)for(var r of xd(n))e.indexOf(r)<0&&vT.call(n,r)&&(t[r]=n[r]);return t};var M=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function lm(n,e){return Object.is(n,e)}var zt=null,Pd=!1,dm=1,er=Symbol("SIGNAL");function be(n){let e=zt;return zt=n,e}function fm(){return zt}var ka={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bu(n){if(Pd)throw new Error("");if(zt===null)return;zt.consumerOnSignalRead(n);let e=zt.nextProducerIndex++;if(Od(zt),e<zt.producerNode.length&&zt.producerNode[e]!==n&&Tu(zt)){let t=zt.producerNode[e];kd(t,zt.producerIndexOfThis[e])}zt.producerNode[e]!==n&&(zt.producerNode[e]=n,zt.producerIndexOfThis[e]=Tu(zt)?wT(n,zt,e):0),zt.producerLastReadVersion[e]=n.version}function ET(){dm++}function hm(n){if(!(Tu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===dm)){if(!n.producerMustRecompute(n)&&!Nd(n)){um(n);return}n.producerRecomputeValue(n),um(n)}}function pm(n){if(n.liveConsumerNode===void 0)return;let e=Pd;Pd=!0;try{for(let t of n.liveConsumerNode)t.dirty||qk(t)}finally{Pd=e}}function gm(){return zt?.consumerAllowSignalWrites!==!1}function qk(n){n.dirty=!0,pm(n),n.consumerMarkedDirty?.(n)}function um(n){n.dirty=!1,n.lastCleanEpoch=dm}function Du(n){return n&&(n.nextProducerIndex=0),be(n)}function Md(n,e){if(be(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Tu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)kd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Nd(n){Od(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(hm(t),r!==t.version))return!0}return!1}function Cu(n){if(Od(n),Tu(n))for(let e=0;e<n.producerNode.length;e++)kd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function wT(n,e,t){if(IT(n),n.liveConsumerNode.length===0&&TT(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=wT(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function kd(n,e){if(IT(n),n.liveConsumerNode.length===1&&TT(n))for(let r=0;r<n.producerNode.length;r++)kd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Od(i),i.producerIndexOfThis[r]=e}}function Tu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Od(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function IT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function TT(n){return n.producerNode!==void 0}function Fd(n,e){let t=Object.create(Wk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(hm(t),bu(t),t.value===Rd)throw t.error;return t.value};return r[er]=t,r}var am=Symbol("UNSET"),cm=Symbol("COMPUTING"),Rd=Symbol("ERRORED"),Wk=pn(hn({},ka),{value:am,dirty:!0,error:null,equal:lm,kind:"computed",producerMustRecompute(n){return n.value===am||n.value===cm},producerRecomputeValue(n){if(n.value===cm)throw new Error("Detected cycle in computations.");let e=n.value;n.value=cm;let t=Du(n),r,i=!1;try{r=n.computation(),be(null),i=e!==am&&e!==Rd&&r!==Rd&&n.equal(e,r)}catch(o){r=Rd,n.error=o}finally{Md(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Gk(){throw new Error}var bT=Gk;function DT(n){bT(n)}function mm(n){bT=n}var Kk=null;function _m(n,e){let t=Object.create(Ld);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(bu(t),t.value);return r[er]=t,r}function Su(n,e){gm()||DT(n),n.equal(n.value,e)||(n.value=e,Yk(n))}function ym(n,e){gm()||DT(n),Su(n,e(n.value))}var Ld=pn(hn({},ka),{equal:lm,value:void 0,kind:"signal"});function Yk(n){n.version++,ET(),pm(n),Kk?.()}function vm(n){let e=be(null);try{return n()}finally{be(e)}}var Em;function Au(){return Em}function no(n){let e=Em;return Em=n,e}var Vd=Symbol("NotFound");function le(n){return typeof n=="function"}function Oa(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Bd=Oa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function vs(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Vt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof Bd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{CT(o)}catch(s){e=e??[],s instanceof Bd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Bd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)CT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&vs(t,e)}remove(e){let{_finalizers:t}=this;t&&vs(t,e),e instanceof n&&e._removeParent(this)}};Vt.EMPTY=(()=>{let n=new Vt;return n.closed=!0,n})();var wm=Vt.EMPTY;function Ud(n){return n instanceof Vt||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function CT(n){le(n)?n():n.unsubscribe()}var ii={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fa={setTimeout(n,e,...t){let{delegate:r}=Fa;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Fa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function jd(n){Fa.setTimeout(()=>{let{onUnhandledError:e}=ii;if(e)e(n);else throw n})}function xu(){}var ST=Im("C",void 0,void 0);function AT(n){return Im("E",void 0,n)}function xT(n){return Im("N",n,void 0)}function Im(n,e,t){return{kind:n,value:e,error:t}}var Es=null;function La(n){if(ii.useDeprecatedSynchronousErrorHandling){let e=!Es;if(e&&(Es={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Es;if(Es=null,t)throw r}}else n()}function PT(n){ii.useDeprecatedSynchronousErrorHandling&&Es&&(Es.errorThrown=!0,Es.error=n)}var ws=class extends Vt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ud(e)&&e.add(this)):this.destination=t1}static create(e,t,r){return new ro(e,t,r)}next(e){this.isStopped?bm(xT(e),this):this._next(e)}error(e){this.isStopped?bm(AT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bm(ST,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Jk=Function.prototype.bind;function Tm(n,e){return Jk.call(n,e)}var Dm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){$d(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){$d(r)}else $d(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){$d(t)}}},ro=class extends ws{constructor(e,t,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ii.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tm(e.next,o),error:e.error&&Tm(e.error,o),complete:e.complete&&Tm(e.complete,o)}):i=e}this.destination=new Dm(i)}};function $d(n){ii.useDeprecatedSynchronousErrorHandling?PT(n):jd(n)}function e1(n){throw n}function bm(n,e){let{onStoppedNotification:t}=ii;t&&Fa.setTimeout(()=>t(n,e))}var t1={closed:!0,next:xu,error:e1,complete:xu};var Va=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vr(n){return n}function RT(...n){return Cm(n)}function Cm(n){return n.length===0?vr:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=r1(t)?t:new ro(t,r,i);return La(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=MT(r),new r((i,o)=>{let s=new ro({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Va](){return this}pipe(...t){return Cm(t)(this)}toPromise(t){return t=MT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function MT(n){var e;return(e=n??ii.Promise)!==null&&e!==void 0?e:Promise}function n1(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function r1(n){return n&&n instanceof ws||n1(n)&&Ud(n)}function Sm(n){return le(n?.lift)}function ce(n){return e=>{if(Sm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,e,t,r,i){return new Am(n,e,t,r,i)}var Am=class extends ws{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xm(){return ce((n,e)=>{let t=null;n._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Pm=class extends me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Sm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Vt;let t=this.getSubject();e.add(this.source.subscribe(ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Vt.EMPTY)}return e}refCount(){return xm()(this)}};var NT=Oa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tr=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Hd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new NT}next(t){La(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){La(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){La(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?wm:(this.currentObservers=null,o.push(t),new Vt(()=>{this.currentObservers=null,vs(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new me;return t.source=this,t}}return n.create=(e,t)=>new Hd(e,t),n})(),Hd=class extends tr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:wm}};var Pu=class extends tr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ru={now(){return(Ru.delegate||Date).now()},delegate:void 0};var Mu=class extends tr{constructor(e=1/0,t=1/0,r=Ru){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var zd=class extends Vt{constructor(e,t){super()}schedule(e,t=0){return this}};var Nu={setInterval(n,e,...t){let{delegate:r}=Nu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Nu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ba=class extends zd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Nu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Nu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vs(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ua=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ua.now=Ru.now;var ja=class extends Ua{constructor(e,t=Ua.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Fo=new ja(Ba),Rm=Fo;var qd=class extends Ba{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Wd=class extends ja{};var Mm=new Wd(qd);var Is=new me(n=>n.complete());function Gd(n){return n&&le(n.schedule)}function Nm(n){return n[n.length-1]}function Kd(n){return le(Nm(n))?n.pop():void 0}function xi(n){return Gd(Nm(n))?n.pop():void 0}function kT(n,e){return typeof Nm(n)=="number"?n.pop():e}function km(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function FT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(h){s(h)}}function c(d){try{l(r.throw(d))}catch(h){s(h)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function OT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ts(n){return this instanceof Ts?(this.v=n,this):new Ts(n)}function LT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(_){return Promise.resolve(_).then(p,h)}}function a(p,_){r[p]&&(i[p]=function(y){return new Promise(function(b,A){o.push([p,y,b,A])>1||c(p,y)})},_&&(i[p]=_(i[p])))}function c(p,_){try{l(r[p](_))}catch(y){m(o[0][3],y)}}function l(p){p.value instanceof Ts?Promise.resolve(p.value.v).then(d,h):m(o[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function m(p,_){p(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function VT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof OT=="function"?OT(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Yd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Qd(n){return le(n?.then)}function Xd(n){return le(n[Va])}function Zd(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function Jd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function i1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ef=i1();function tf(n){return le(n?.[ef])}function nf(n){return LT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ts(t.read());if(i)return yield Ts(void 0);yield yield Ts(r)}}finally{t.releaseLock()}})}function rf(n){return le(n?.getReader)}function Je(n){if(n instanceof me)return n;if(n!=null){if(Xd(n))return o1(n);if(Yd(n))return s1(n);if(Qd(n))return a1(n);if(Zd(n))return BT(n);if(tf(n))return c1(n);if(rf(n))return u1(n)}throw Jd(n)}function o1(n){return new me(e=>{let t=n[Va]();if(le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function s1(n){return new me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function a1(n){return new me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,jd)})}function c1(n){return new me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function BT(n){return new me(e=>{l1(n,e).catch(t=>e.error(t))})}function u1(n){return BT(nf(n))}function l1(n,e){var t,r,i,o;return FT(this,void 0,void 0,function*(){try{for(t=VT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function nr(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Lo(n,e=0){return ce((t,r)=>{t.subscribe(ae(r,i=>nr(r,n,()=>r.next(i),e),()=>nr(r,n,()=>r.complete(),e),i=>nr(r,n,()=>r.error(i),e)))})}function Vo(n,e=0){return ce((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function UT(n,e){return Je(n).pipe(Vo(e),Lo(e))}function jT(n,e){return Je(n).pipe(Vo(e),Lo(e))}function $T(n,e){return new me(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function HT(n,e){return new me(t=>{let r;return nr(t,e,()=>{r=n[ef](),nr(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function of(n,e){if(!n)throw new Error("Iterable cannot be null");return new me(t=>{nr(t,e,()=>{let r=n[Symbol.asyncIterator]();nr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function zT(n,e){return of(nf(n),e)}function qT(n,e){if(n!=null){if(Xd(n))return UT(n,e);if(Yd(n))return $T(n,e);if(Qd(n))return jT(n,e);if(Zd(n))return of(n,e);if(tf(n))return HT(n,e);if(rf(n))return zT(n,e)}throw Jd(n)}function oi(n,e){return e?qT(n,e):Je(n)}function d1(...n){let e=xi(n);return oi(n,e)}function f1(n,e){let t=le(n)?n:()=>n,r=i=>i.error(t());return new me(e?i=>e.schedule(r,0,i):r)}function h1(n){return!!n&&(n instanceof me||le(n.lift)&&le(n.subscribe))}var bs=Oa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function WT(n){return n instanceof Date&&!isNaN(n)}function si(n,e){return ce((t,r)=>{let i=0;t.subscribe(ae(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:p1}=Array;function g1(n,e){return p1(e)?n(...e):n(e)}function sf(n){return si(e=>g1(n,e))}var{isArray:m1}=Array,{getPrototypeOf:_1,prototype:y1,keys:v1}=Object;function af(n){if(n.length===1){let e=n[0];if(m1(e))return{args:e,keys:null};if(E1(e)){let t=v1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function E1(n){return n&&typeof n=="object"&&_1(n)===y1}function cf(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function w1(...n){let e=xi(n),t=Kd(n),{args:r,keys:i}=af(n);if(r.length===0)return oi([],e);let o=new me(I1(r,e,i?s=>cf(i,s):vr));return t?o.pipe(sf(t)):o}function I1(n,e,t=vr){return r=>{GT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)GT(e,()=>{let l=oi(n[c],e),d=!1;l.subscribe(ae(r,h=>{o[c]=h,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function GT(n,e,t){n?nr(t,n,e):e()}function KT(n,e,t,r,i,o,s,a){let c=[],l=0,d=0,h=!1,m=()=>{h&&!c.length&&!l&&e.complete()},p=y=>l<r?_(y):c.push(y),_=y=>{o&&e.next(y),l++;let b=!1;Je(t(y,d++)).subscribe(ae(e,A=>{i?.(A),o?p(A):e.next(A)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<r;){let A=c.shift();s?nr(e,s,()=>_(A)):_(A)}m()}catch(A){e.error(A)}}))};return n.subscribe(ae(e,p,()=>{h=!0,m()})),()=>{a?.()}}function Ds(n,e,t=1/0){return le(e)?Ds((r,i)=>si((o,s)=>e(r,o,i,s))(Je(n(r,i))),t):(typeof e=="number"&&(t=e),ce((r,i)=>KT(r,i,n,t)))}function uf(n=1/0){return Ds(vr,n)}function YT(){return uf(1)}function lf(...n){return YT()(oi(n,xi(n)))}function T1(n){return new me(e=>{Je(n()).subscribe(e)})}function b1(...n){let e=Kd(n),{args:t,keys:r}=af(n),i=new me(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let h=!1;Je(t[d]).subscribe(ae(o,m=>{h||(h=!0,l--),a[d]=m},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(r?cf(r,a):a),o.complete())}))}});return e?i.pipe(sf(e)):i}function QT(n=0,e,t=Rm){let r=-1;return e!=null&&(Gd(e)?t=e:r=e),new me(i=>{let o=WT(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function D1(...n){let e=xi(n),t=kT(n,1/0),r=n;return r.length?r.length===1?Je(r[0]):uf(t)(oi(r,e)):Is}function Bo(n,e){return ce((t,r)=>{let i=0;t.subscribe(ae(r,o=>n.call(e,o,i++)&&r.next(o)))})}function XT(n){return ce((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ae(t,l=>{r=!0,i=l,o||Je(n(l)).subscribe(o=ae(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function C1(n,e=Fo){return XT(()=>QT(n,e))}function ZT(n){return ce((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ae(t,void 0,void 0,s=>{o=Je(n(s,ZT(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function JT(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(ae(s,d=>{let h=l++;c=a?n(c,d,h):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function S1(n,e){return le(e)?Ds(n,e,1):Ds(n,1)}function A1(n,e=Fo){return ce((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,d=e.now();if(d<l){i=this.schedule(void 0,l-d),r.add(i);return}a()}t.subscribe(ae(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function ku(n){return ce((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Om(n){return n<=0?()=>Is:ce((e,t)=>{let r=0;e.subscribe(ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function df(n=x1){return ce((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function x1(){return new bs}function P1(n){return ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function R1(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Bo((i,o)=>n(i,o,r)):vr,Om(1),t?ku(e):df(()=>new bs))}function Fm(n){return n<=0?()=>Is:ce((e,t)=>{let r=[];e.subscribe(ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function M1(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Bo((i,o)=>n(i,o,r)):vr,Fm(1),t?ku(e):df(()=>new bs))}function eb(){return ce((n,e)=>{let t,r=!1;n.subscribe(ae(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function tb(n,e){return ce(JT(n,e,arguments.length>=2,!0))}function nb(n={}){let{connector:e=()=>new tr,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,d=!1,h=!1,m=()=>{a?.unsubscribe(),a=void 0},p=()=>{m(),s=c=void 0,d=h=!1},_=()=>{let y=s;p(),y?.unsubscribe()};return ce((y,b)=>{l++,!h&&!d&&m();let A=c=c??e();b.add(()=>{l--,l===0&&!h&&!d&&(a=Lm(_,i))}),A.subscribe(b),!s&&l>0&&(s=new ro({next:R=>A.next(R),error:R=>{h=!0,m(),a=Lm(p,t,R),A.error(R)},complete:()=>{d=!0,m(),a=Lm(p,r),A.complete()}}),Je(y).subscribe(s))})(o)}}function Lm(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new ro({next:()=>{r.unsubscribe(),n()}});return Je(e(...t)).subscribe(r)}function N1(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,nb({connector:()=>new Mu(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function k1(n){return Bo((e,t)=>n<=t)}function rb(...n){let e=xi(n);return ce((t,r)=>{(e?lf(n,t,e):lf(n,t)).subscribe(r)})}function O1(n,e){return ce((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ae(r,c=>{i?.unsubscribe();let l=0,d=o++;Je(n(c,d)).subscribe(i=ae(r,h=>r.next(e?e(c,h,d,l++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function F1(n){return ce((e,t)=>{Je(n).subscribe(ae(t,()=>t.complete(),xu)),!t.closed&&e.subscribe(t)})}function L1(n,e=!1){return ce((t,r)=>{let i=0;t.subscribe(ae(r,o=>{let s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function V1(n,e,t){let r=le(n)||e||t?{next:n,error:e,complete:t}:n;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):vr}var $m={JSACTION:"jsaction"},Hm={JSACTION:"__jsaction",OWNER:"__owner"},ab={};function B1(n){return n[Hm.JSACTION]}function ib(n,e){n[Hm.JSACTION]=e}function U1(n){return ab[n]}function j1(n,e){ab[n]=e}var Q={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},$1=[Q.MOUSEENTER,Q.MOUSELEAVE,"pointerenter","pointerleave"],gY=[Q.CLICK,Q.DBLCLICK,Q.FOCUSIN,Q.FOCUSOUT,Q.KEYDOWN,Q.KEYUP,Q.KEYPRESS,Q.MOUSEOVER,Q.MOUSEOUT,Q.SUBMIT,Q.TOUCHSTART,Q.TOUCHEND,Q.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],H1=[Q.FOCUS,Q.BLUR,Q.ERROR,Q.LOAD,Q.TOGGLE],zm=n=>H1.indexOf(n)>=0;function z1(n){return n===Q.MOUSEENTER?Q.MOUSEOVER:n===Q.MOUSELEAVE?Q.MOUSEOUT:n===Q.POINTERENTER?Q.POINTEROVER:n===Q.POINTERLEAVE?Q.POINTEROUT:n}function q1(n,e,t,r){let i=!1;zm(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return n.addEventListener(e,t,o),{eventType:e,handler:t,capture:i,passive:r}}function W1(n,e){if(n.removeEventListener){let t=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;n.removeEventListener(e.eventType,e.handler,t)}else n.detachEvent&&n.detachEvent(`on${e.eventType}`,e.handler)}function G1(n){n.preventDefault?n.preventDefault():n.returnValue=!1}var ob=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function K1(n){return n.which===2||n.which==null&&n.button===4}function Y1(n){return ob&&n.metaKey||!ob&&n.ctrlKey||K1(n)||n.shiftKey}function Q1(n,e,t){let r=n.relatedTarget;return(n.type===Q.MOUSEOVER&&e===Q.MOUSEENTER||n.type===Q.MOUSEOUT&&e===Q.MOUSELEAVE||n.type===Q.POINTEROVER&&e===Q.POINTERENTER||n.type===Q.POINTEROUT&&e===Q.POINTERLEAVE)&&(!r||r!==t&&!t.contains(r))}function X1(n,e){let t={};for(let r in n){if(r==="srcElement"||r==="target")continue;let i=r,o=n[i];typeof o!="function"&&(t[i]=o)}return n.type===Q.MOUSEOVER?t.type=Q.MOUSEENTER:n.type===Q.MOUSEOUT?t.type=Q.MOUSELEAVE:n.type===Q.POINTEROVER?t.type=Q.POINTERENTER:t.type=Q.POINTERLEAVE,t.target=t.srcElement=e,t.bubbles=!1,t._originalEvent=n,t}var Z1=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),gf=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,t,r){Z1&&(this.element.style.cursor="pointer"),this.handlerInfos.push(q1(this.element,e,t(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)W1(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},J1={EVENT_ACTION_SEPARATOR:":"};function Uo(n){return n.eventType}function qm(n,e){n.eventType=e}function hf(n){return n.event}function cb(n,e){n.event=e}function ub(n){return n.targetElement}function lb(n,e){n.targetElement=e}function db(n){return n.eic}function eO(n,e){n.eic=e}function tO(n){return n.timeStamp}function nO(n,e){n.timeStamp=e}function pf(n){return n.eia}function fb(n,e,t){n.eia=[e,t]}function Vm(n){n.eia=void 0}function ff(n){return n[1]}function rO(n){return n.eirp}function hb(n,e){n.eirp=e}function pb(n){return n.eir}function gb(n,e){n.eir=e}function mb(n){return{eventType:n.eventType,event:n.event,targetElement:n.targetElement,eic:n.eic,eia:n.eia,timeStamp:n.timeStamp,eirp:n.eirp,eiack:n.eiack,eir:n.eir}}function iO(n,e,t,r,i,o,s,a){return{eventType:n,event:e,targetElement:t,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Bm=class n{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Uo(this.eventInfo)}setEventType(e){qm(this.eventInfo,e)}getEvent(){return hf(this.eventInfo)}setEvent(e){cb(this.eventInfo,e)}getTargetElement(){return ub(this.eventInfo)}setTargetElement(e){lb(this.eventInfo,e)}getContainer(){return db(this.eventInfo)}setContainer(e){eO(this.eventInfo,e)}getTimestamp(){return tO(this.eventInfo)}setTimestamp(e){nO(this.eventInfo,e)}getAction(){let e=pf(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Vm(this.eventInfo);return}fb(this.eventInfo,e.name,e.element)}getIsReplay(){return rO(this.eventInfo)}setIsReplay(e){hb(this.eventInfo,e)}getResolved(){return pb(this.eventInfo)}setResolved(e){gb(this.eventInfo,e)}clone(){return new n(mb(this.eventInfo))}},oO={},sO=/\s*;\s*/,aO=Q.CLICK,Um=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:t=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=t}resolveEventType(e){this.clickModSupport&&Uo(e)===Q.CLICK&&Y1(hf(e))?qm(e,Q.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){pb(e)||(this.populateAction(e,ub(e)),gb(e,!0))}resolveParentAction(e){let t=pf(e),r=t&&ff(t);Vm(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,t){let r=t;for(;r&&r!==db(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!pf(e));)r=this.getParentNode(r);let i=pf(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(Uo(e)===Q.MOUSEENTER||Uo(e)===Q.MOUSELEAVE||Uo(e)===Q.POINTERENTER||Uo(e)===Q.POINTERLEAVE)))if(Q1(hf(e),Uo(e),ff(i))){let o=X1(hf(e),ff(i));cb(e,o),lb(e,ff(i))}else Vm(e)}getParentNode(e){let t=e[Hm.OWNER];if(t)return t;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,t){let r=this.parseActions(e),i=r[Uo(t)];i!==void 0&&fb(t,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,t,r)}parseActions(e){let t=B1(e);if(!t){let r=e.getAttribute($m.JSACTION);if(!r)t=oO,ib(e,t);else{if(t=U1(r),!t){t={};let i=r.split(sO);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(J1.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():aO,d=c?s.substr(a+1).trim():s;t[l]=d}j1(r,t)}ib(e,t)}}return t}addA11yClickSupport(e,t,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=t,this.populateClickOnlyAction=r}},_b=function(n){return n[n.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",n}(_b||{}),jm=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:t,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=t,this.eventReplayer=r}dispatch(e){let t=new Bm(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=t.getAction();if(r&&cO(r.element,t)&&G1(t.getEvent()),this.eventReplayer&&t.getIsReplay()){this.scheduleEventInfoWrapperReplay(t);return}this.dispatchDelegate(t)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function cO(n,e){return n.tagName==="A"&&(e.getEventType()===Q.CLICK||e.getEventType()===Q.CLICKMOD)}var yb=Symbol.for("propagationStopped"),Wm={REPLAY:101};var uO="`preventDefault` called during event replay.";var lO="`composedPath` called during event replay.",mf=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,t=!0){this.dispatchDelegate=e,this.clickModSupport=t,this.actionResolver=new Um({clickModSupport:t}),this.dispatcher=new jm(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&hO(e),dO(e);e.getAction();){if(pO(e),zm(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),fO(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function dO(n){let e=n.getEvent(),t=n.getEvent().stopPropagation.bind(e),r=()=>{e[yb]=!0,t()};Cs(e,"stopPropagation",r),Cs(e,"stopImmediatePropagation",r)}function fO(n){return!!n.getEvent()[yb]}function hO(n){let e=n.getEvent(),t=n.getTargetElement(),r=e.preventDefault.bind(e);Cs(e,"target",t),Cs(e,"eventPhase",Wm.REPLAY),Cs(e,"preventDefault",()=>{throw r(),new Error(uO+"")}),Cs(e,"composedPath",()=>{throw new Error(lO+"")})}function pO(n){let e=n.getEvent(),t=n.getAction()?.element;t&&Cs(e,"currentTarget",t,{configurable:!0})}function Cs(n,e,t,{configurable:r=!1}={}){Object.defineProperty(n,e,{value:t,configurable:r})}function vb(n,e){n.ecrd(t=>{e.dispatch(t)},_b.I_AM_THE_JSACTION_FRAMEWORK)}function gO(n){return n?.q??[]}function mO(n){n&&(sb(n.c,n.et,n.h),sb(n.c,n.etc,n.h,!0))}function sb(n,e,t,r){for(let i=0;i<e.length;i++)n.removeEventListener(e[i],t,r)}var _O=!1,Eb=(()=>{class n{static MOUSE_SPECIAL_SUPPORT=_O;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(t){this.containerManager=t}handleEvent(t,r,i){let o=iO(t,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(t){if(!this.dispatcher){hb(t,!0),this.queuedEventInfos?.push(t);return}this.dispatcher(t)}addEvent(t,r,i){if(t in this.eventHandlers||!this.containerManager||!n.MOUSE_SPECIAL_SUPPORT&&$1.indexOf(t)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[t]=o;let s=z1(r||t);if(s!==t){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(t),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(t,c,a)},i)}replayEarlyEvents(t=window._ejsa){t&&(this.replayEarlyEventInfos(t.q),mO(t),delete window._ejsa)}replayEarlyEventInfos(t){for(let r=0;r<t.length;r++){let i=t[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=mb(i);qm(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(t){let r=[];return this.eventHandlers[t]&&r.push(t),this.browserEventTypeToExtraEventTypes[t]&&r.push(...this.browserEventTypeToExtraEventTypes[t]),r}handler(t){return this.eventHandlers[t]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(t,r){this.ecrd(t,r)}ecrd(t,r){if(this.dispatcher=t,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return n})();function wb(n,e=window){return gO(e._ejsas?.[n])}function Gm(n,e=window){e._ejsas&&(e._ejsas[n]=void 0)}var vD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Ce=class extends Error{code;constructor(e,t){super(vO(e,t)),this.code=e}};function yO(n){return`NG0${Math.abs(n)}`}function vO(n,e){return`${yO(n)}${e?": "+e:""}`}var ED=Symbol("InputSignalNode#UNSET"),EO=pn(hn({},Ld),{transformFn:void 0,applyValueToInputSignal(n,e){Su(n,e)}});function wD(n,e){let t=Object.create(EO);t.value=n,t.transformFn=e?.transform;function r(){if(bu(t),t.value===ED){let i=null;throw new Ce(-950,i)}return t.value}return r[er]=t,r}function Qu(n){return{toString:n}.toString()}var _f="__parameters__";function wO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function ID(n,e,t){return Qu(()=>{let r=wO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,d){let h=c.hasOwnProperty(_f)?c[_f]:Object.defineProperty(c,_f,{value:[]})[_f];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function et(n){for(let e in n)if(n[e]===et)return e;throw Error("Could not find renamed property on target object.")}function IO(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function rr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(rr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function d_(n,e){return n?e?`${n} ${e}`:n:e||""}var TO=et({__forward_ref__:et});function TD(n){return n.__forward_ref__=TD,n.toString=function(){return rr(this())},n}function Ln(n){return bD(n)?n():n}function bD(n){return typeof n=="function"&&n.hasOwnProperty(TO)&&n.__forward_ref__===TD}function je(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function DD(n){return{providers:n.providers||[],imports:n.imports||[]}}function oh(n){return Ib(n,CD)||Ib(n,SD)}function JY(n){return oh(n)!==null}function Ib(n,e){return n.hasOwnProperty(e)?n[e]:null}function bO(n){let e=n&&(n[CD]||n[SD]);return e||null}function Tb(n){return n&&(n.hasOwnProperty(bb)||n.hasOwnProperty(DO))?n[bb]:null}var CD=et({\u0275prov:et}),bb=et({\u0275inj:et}),SD=et({ngInjectableDef:et}),DO=et({ngInjectorDef:et}),de=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=je({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AD(n){return n&&!!n.\u0275providers}var CO=et({\u0275cmp:et}),SO=et({\u0275dir:et}),AO=et({\u0275pipe:et}),xO=et({\u0275mod:et}),xf=et({\u0275fac:et}),Vu=et({__NG_ELEMENT_ID__:et}),Db=et({__NG_ENV_ID__:et});function Za(n){return typeof n=="string"?n:n==null?"":String(n)}function PO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Za(n)}function xD(n,e){throw new Ce(-200,n)}function oy(n,e){throw new Ce(-201,!1)}var De=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(De||{}),f_;function PD(){return f_}function Vr(n){let e=f_;return f_=n,e}function RD(n,e,t){let r=oh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&De.Optional)return null;if(e!==void 0)return e;oy(n,"Injector")}var RO={},Ss=RO,h_="__NG_DI_FLAG__",Pf=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Vd:Ss,r)}},Rf="ngTempTokenPath",MO="ngTokenPath",NO=/\n/gm,kO="\u0275",Cb="__source";function OO(n,e=De.Default){if(Au()===void 0)throw new Ce(-203,!1);if(Au()===null)return RD(n,void 0,e);{let t=Au(),r;return t instanceof Pf?r=t.injector:r=t,r.get(n,e&De.Optional?null:void 0,e)}}function gn(n,e=De.Default){return(PD()||OO)(Ln(n),e)}function q(n,e=De.Default){return gn(n,sh(e))}function sh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function p_(n){let e=[];for(let t=0;t<n.length;t++){let r=Ln(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Ce(900,!1);let i,o=De.Default;for(let s=0;s<r.length;s++){let a=r[s],c=FO(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(gn(i,o))}else e.push(gn(r))}return e}function MD(n,e){return n[h_]=e,n.prototype[h_]=e,n}function FO(n){return n[h_]}function LO(n,e,t,r){let i=n[Rf];throw e[Cb]&&i.unshift(e[Cb]),n.message=VO(`
`+n.message,i,t,r),n[MO]=i,n[Rf]=null,n}function VO(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==kO?n.slice(2):n;let i=rr(e);if(Array.isArray(e))i=e.map(rr).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):rr(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(NO,`
  `)}`}var uo=MD(ID("Optional"),8);var BO=MD(ID("SkipSelf"),4);function Ja(n,e){let t=n.hasOwnProperty(xf);return t?n[xf]:null}function UO(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function jO(n){return n.flat(Number.POSITIVE_INFINITY)}function sy(n,e){n.forEach(t=>Array.isArray(t)?sy(t,e):e(t))}function ND(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Mf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function $O(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function HO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ay(n,e,t){let r=Xu(n,e);return r>=0?n[r|1]=t:(r=~r,HO(n,r,e,t)),r}function Km(n,e){let t=Xu(n,e);if(t>=0)return n[t|1]}function Xu(n,e){return zO(n,e,1)}function zO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var xs={},Vn=[],ec=new de(""),kD=new de("",-1),OD=new de(""),Nf=class{get(e,t=Ss){if(t===Ss){let r=new Error(`NullInjectorError: No provider for ${rr(e)}!`);throw r.name="NullInjectorError",r}return t}};function FD(n,e){let t=n[xO]||null;if(!t&&e===!0)throw new Error(`Type ${rr(n)} does not have '\u0275mod' property.`);return t}function Ho(n){return n[CO]||null}function LD(n){return n[SO]||null}function VD(n){return n[AO]||null}function sc(n){return{\u0275providers:n}}function qO(...n){return{\u0275providers:cy(!0,n),\u0275fromNgModule:!0}}function cy(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return sy(e,s=>{let a=s;g_(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&BD(i,o),t}function BD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];uy(i,o=>{e(o,r)})}}function g_(n,e,t,r){if(n=Ln(n),!n)return!1;let i=null,o=Tb(n),s=!o&&Ho(n);if(!o&&!s){let c=n.ngModule;if(o=Tb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)g_(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{sy(o.imports,d=>{g_(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&BD(l,e)}if(!a){let l=Ja(i)||(()=>new i);e({provide:i,useFactory:l,deps:Vn},i),e({provide:OD,useValue:i,multi:!0},i),e({provide:ec,useValue:()=>gn(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;uy(c,d=>{e(d,l)})}}else return!1;return i!==n&&n.providers!==void 0}function uy(n,e){for(let t of n)AD(t)&&(t=t.\u0275providers),Array.isArray(t)?uy(t,e):e(t)}var WO=et({provide:String,useValue:et});function UD(n){return n!==null&&typeof n=="object"&&WO in n}function GO(n){return!!(n&&n.useExisting)}function KO(n){return!!(n&&n.useFactory)}function tc(n){return typeof n=="function"}function YO(n){return!!n.useClass}var jD=new de(""),wf={},Sb={},Ym;function ah(){return Ym===void 0&&(Ym=new Nf),Ym}var di=class{},Bu=class extends di{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,__(e,s=>this.processProvider(s)),this.records.set(kD,$a(void 0,this)),i.has("environment")&&this.records.set(di,$a(void 0,this));let o=this.records.get(jD);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(OD,Vn,De.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Vd:Ss,r)}destroy(){Fu(this),this._destroyed=!0;let e=be(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),be(e)}}onDestroy(e){return Fu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Fu(this);let t=no(this),r=Vr(void 0),i;try{return e()}finally{no(t),Vr(r)}}get(e,t=Ss,r=De.Default){if(Fu(this),e.hasOwnProperty(Db))return e[Db](this);r=sh(r);let i,o=no(this),s=Vr(void 0);try{if(!(r&De.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=eF(e)&&oh(e);l&&this.injectableDefInScope(l)?c=$a(m_(e),wf):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&De.Self?ah():this.parent;return t=r&De.Optional&&t===Ss?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Rf]=a[Rf]||[]).unshift(rr(e)),o)throw a;return LO(a,e,"R3InjectorError",this.source)}else throw a}finally{Vr(s),no(o)}}resolveInjectorInitializers(){let e=be(null),t=no(this),r=Vr(void 0),i;try{let o=this.get(ec,Vn,De.Self);for(let s of o)s()}finally{no(t),Vr(r),be(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(rr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ln(e);let t=tc(e)?e:Ln(e&&e.provide),r=XO(e);if(!tc(e)&&e.multi===!0){let i=this.records.get(t);i||(i=$a(void 0,wf,!0),i.factory=()=>p_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=be(null);try{return t.value===Sb?xD(rr(e)):t.value===wf&&(t.value=Sb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&JO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{be(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ln(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function m_(n){let e=oh(n),t=e!==null?e.factory:Ja(n);if(t!==null)return t;if(n instanceof de)throw new Ce(204,!1);if(n instanceof Function)return QO(n);throw new Ce(204,!1)}function QO(n){if(n.length>0)throw new Ce(204,!1);let t=bO(n);return t!==null?()=>t.factory(n):()=>new n}function XO(n){if(UD(n))return $a(void 0,n.useValue);{let e=$D(n);return $a(e,wf)}}function $D(n,e,t){let r;if(tc(n)){let i=Ln(n);return Ja(i)||m_(i)}else if(UD(n))r=()=>Ln(n.useValue);else if(KO(n))r=()=>n.useFactory(...p_(n.deps||[]));else if(GO(n))r=(i,o)=>gn(Ln(n.useExisting),o!==void 0&&o&De.Optional?De.Optional:void 0);else{let i=Ln(n&&(n.useClass||n.provide));if(ZO(n))r=()=>new i(...p_(n.deps));else return Ja(i)||m_(i)}return r}function Fu(n){if(n.destroyed)throw new Ce(205,!1)}function $a(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ZO(n){return!!n.deps}function JO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function eF(n){return typeof n=="function"||typeof n=="object"&&n instanceof de}function __(n,e){for(let t of n)Array.isArray(t)?__(t,e):t&&AD(t)?__(t.\u0275providers,e):e(t)}function ac(n,e){let t;n instanceof Bu?(Fu(n),t=n):t=new Pf(n);let r,i=no(t),o=Vr(void 0);try{return e()}finally{no(i),Vr(o)}}function HD(){return PD()!==void 0||Au()!=null}function Zu(n){if(!HD())throw new Ce(-203,!1)}function tF(n){return typeof n=="function"}var wr=0,te=1,oe=2,Wt=3,ui=4,sr=5,fi=6,kf=7,Un=8,Ri=9,io=10,We=11,Uu=12,Ab=13,cc=14,ir=15,Ps=16,Ha=17,oo=18,ch=19,zD=20,$o=21,Qm=22,Rs=23,Br=24,Ga=25,gt=26,qD=1,so=6,ao=7,Of=8,nc=9,Bn=10;function li(n){return Array.isArray(n)&&typeof n[qD]=="object"}function Oi(n){return Array.isArray(n)&&n[qD]===!0}function WD(n){return(n.flags&4)!==0}function Vs(n){return n.componentOffset>-1}function ly(n){return(n.flags&1)===1}function Mi(n){return!!n.template}function ju(n){return(n[oe]&512)!==0}function Bs(n){return(n[oe]&256)===256}var y_=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function GD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var KD=(()=>{let n=()=>YD;return n.ngInherit=!0,n})();function YD(n){return n.type.prototype.ngOnChanges&&(n.setInput=rF),nF}function nF(){let n=XD(this),e=n?.current;if(e){let t=n.previous;if(t===xs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function rF(n,e,t,r,i){let o=this.declaredInputs[r],s=XD(n)||iF(n,{previous:xs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new y_(l&&l.currentValue,t,c===xs),GD(n,e,i,t)}var QD="__ngSimpleChanges__";function XD(n){return n[QD]||null}function iF(n,e){return n[QD]=e}var xb=null;var Ue=function(n,e=null,t){xb?.(n,e,t)},ZD="svg",oF="math";function hi(n){for(;Array.isArray(n);)n=n[wr];return n}function JD(n,e){return hi(e[n])}function pi(n,e){return hi(e[n.index])}function Ju(n,e){return n.data[e]}function sF(n,e){return n[e]}function Ni(n,e){let t=e[n];return li(t)?t:t[wr]}function aF(n){return(n[oe]&4)===4}function dy(n){return(n[oe]&128)===128}function cF(n){return Oi(n[Wt])}function Ff(n,e){return e==null?null:n[e]}function eC(n){n[Ha]=0}function tC(n){n[oe]&1024||(n[oe]|=1024,dy(n)&&uc(n))}function uF(n,e){for(;n>0;)e=e[cc],n--;return e}function uh(n){return!!(n[oe]&9216||n[Br]?.dirty)}function v_(n){n[io].changeDetectionScheduler?.notify(8),n[oe]&64&&(n[oe]|=1024),uh(n)&&uc(n)}function uc(n){n[io].changeDetectionScheduler?.notify(0);let e=Ms(n);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!dy(e)));)e=Ms(e)}function nC(n,e){if(Bs(n))throw new Ce(911,!1);n[$o]===null&&(n[$o]=[]),n[$o].push(e)}function lF(n,e){if(n[$o]===null)return;let t=n[$o].indexOf(e);t!==-1&&n[$o].splice(t,1)}function Ms(n){let e=n[Wt];return Oi(e)?e[Wt]:e}function fy(n){return n[kf]??=[]}function hy(n){return n.cleanup??=[]}function dF(n,e,t,r){let i=fy(e);i.push(t),n.firstCreatePass&&hy(n).push(r,i.length-1)}var pe={lFrame:lC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var E_=!1;function fF(){return pe.lFrame.elementDepthCount}function hF(){pe.lFrame.elementDepthCount++}function pF(){pe.lFrame.elementDepthCount--}function rC(){return pe.bindingsEnabled}function lc(){return pe.skipHydrationRootTNode!==null}function gF(n){return pe.skipHydrationRootTNode===n}function mF(n){pe.skipHydrationRootTNode=n}function _F(){pe.skipHydrationRootTNode=null}function _e(){return pe.lFrame.lView}function Pt(){return pe.lFrame.tView}function eQ(n){return pe.lFrame.contextLView=n,n[Un]}function tQ(n){return pe.lFrame.contextLView=null,n}function jn(){let n=iC();for(;n!==null&&n.type===64;)n=n.parent;return n}function iC(){return pe.lFrame.currentTNode}function yF(){let n=pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function dc(n,e){let t=pe.lFrame;t.currentTNode=n,t.isParent=e}function oC(){return pe.lFrame.isParent}function sC(){pe.lFrame.isParent=!1}function vF(){return pe.lFrame.contextLView}function aC(){return E_}function Lf(n){let e=E_;return E_=n,e}function EF(){return pe.lFrame.bindingIndex}function wF(n){return pe.lFrame.bindingIndex=n}function fc(){return pe.lFrame.bindingIndex++}function py(n){let e=pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function IF(){return pe.lFrame.inI18n}function TF(n,e){let t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,w_(e)}function bF(){return pe.lFrame.currentDirectiveIndex}function w_(n){pe.lFrame.currentDirectiveIndex=n}function DF(n){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function gy(){return pe.lFrame.currentQueryIndex}function lh(n){pe.lFrame.currentQueryIndex=n}function CF(n){let e=n[te];return e.type===2?e.declTNode:e.type===1?n[sr]:null}function cC(n,e,t){if(t&De.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&De.Host);)if(i=CF(o),i===null||(o=o[cc],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=pe.lFrame=uC();return r.currentTNode=e,r.lView=n,!0}function my(n){let e=uC(),t=n[te];pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function uC(){let n=pe.lFrame,e=n===null?null:n.child;return e===null?lC(n):e}function lC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function dC(){let n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var fC=dC;function _y(){let n=dC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function SF(n){return(pe.lFrame.contextLView=uF(n,pe.lFrame.contextLView))[Un]}function qo(){return pe.lFrame.selectedIndex}function Ns(n){pe.lFrame.selectedIndex=n}function el(){let n=pe.lFrame;return Ju(n.tView,n.selectedIndex)}function nQ(){pe.lFrame.currentNamespace=ZD}function hC(){return pe.lFrame.currentNamespace}var pC=!0;function yy(){return pC}function Wo(n){pC=n}function AF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=YD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function gC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function If(n,e,t){mC(n,e,3,t)}function Tf(n,e,t,r){(n[oe]&3)===t&&mC(n,e,t,r)}function Xm(n,e){let t=n[oe];(t&3)===e&&(t&=16383,t+=1,n[oe]=t)}function mC(n,e,t,r){let i=r!==void 0?n[Ha]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ha]+=65536),(a<o||o==-1)&&(xF(n,t,e,c),n[Ha]=(n[Ha]&4294901760)+c+2),c++}function Pb(n,e){Ue(4,n,e);let t=be(null);try{e.call(n)}finally{be(t),Ue(5,n,e)}}function xF(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[oe]>>14<n[Ha]>>16&&(n[oe]&3)===e&&(n[oe]+=16384,Pb(a,o)):Pb(a,o)}var Ka=-1,ks=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function PF(n){return(n.flags&8)!==0}function RF(n){return(n.flags&16)!==0}function MF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];NF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function _C(n){return n===3||n===4||n===6}function NF(n){return n.charCodeAt(0)===64}function $u(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Rb(n,t,i,null,e[++r]):Rb(n,t,i,null,null))}}return n}function Rb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function yC(n){return n!==Ka}function Vf(n){return n&32767}function kF(n){return n>>16}function Bf(n,e){let t=kF(n),r=e;for(;t>0;)r=r[cc],t--;return r}var I_=!0;function Mb(n){let e=I_;return I_=n,e}var OF=256,vC=OF-1,EC=5,FF=0,Pi={};function LF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Vu)&&(r=t[Vu]),r==null&&(r=t[Vu]=FF++);let i=r&vC,o=1<<i;e.data[n+(i>>EC)]|=o}function Uf(n,e){let t=wC(n,e);if(t!==-1)return t;let r=e[te];r.firstCreatePass&&(n.injectorIndex=e.length,Zm(r.data,n),Zm(e,null),Zm(r.blueprint,null));let i=vy(n,e),o=n.injectorIndex;if(yC(i)){let s=Vf(i),a=Bf(i,e),c=a[te].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Zm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function wC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function vy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=CC(i),r===null)return Ka;if(t++,i=i[cc],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ka}function T_(n,e,t){LF(n,e,t)}function VF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(_C(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function IC(n,e,t){if(t&De.Optional||n!==void 0)return n;oy(e,"NodeInjector")}function TC(n,e,t,r){if(t&De.Optional&&r===void 0&&(r=null),(t&(De.Self|De.Host))===0){let i=n[Ri],o=Vr(void 0);try{return i?i.get(e,r,t&De.Optional):RD(e,r,t&De.Optional)}finally{Vr(o)}}return IC(r,e,t)}function bC(n,e,t,r=De.Default,i){if(n!==null){if(e[oe]&2048&&!(r&De.Self)){let s=$F(n,e,t,r,Pi);if(s!==Pi)return s}let o=DC(n,e,t,r,Pi);if(o!==Pi)return o}return TC(e,t,r,i)}function DC(n,e,t,r,i){let o=UF(t);if(typeof o=="function"){if(!cC(e,n,r))return r&De.Host?IC(i,t,r):TC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&De.Optional))oy(t);else return s}finally{fC()}}else if(typeof o=="number"){let s=null,a=wC(n,e),c=Ka,l=r&De.Host?e[ir][sr]:null;for((a===-1||r&De.SkipSelf)&&(c=a===-1?vy(n,e):e[a+8],c===Ka||!kb(r,!1)?a=-1:(s=e[te],a=Vf(c),e=Bf(c,e)));a!==-1;){let d=e[te];if(Nb(o,a,d.data)){let h=BF(a,e,t,s,r,l);if(h!==Pi)return h}c=e[a+8],c!==Ka&&kb(r,e[te].data[a+8]===l)&&Nb(o,a,e)?(s=d,a=Vf(c),e=Bf(c,e)):a=-1}}return i}function BF(n,e,t,r,i,o){let s=e[te],a=s.data[n+8],c=r==null?Vs(a)&&I_:r!=s&&(a.type&3)!==0,l=i&De.Host&&o===a,d=bf(a,s,t,c,l);return d!==null?Hu(e,s,d,a,i):Pi}function bf(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,d=o>>20,h=r?a:a+d,m=i?a+d:l;for(let p=h;p<m;p++){let _=s[p];if(p<c&&t===_||p>=c&&_.type===t)return p}if(i){let p=s[c];if(p&&Mi(p)&&p.type===t)return c}return null}function Hu(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof ks){let a=o;a.resolving&&xD(PO(s[t]));let c=Mb(a.canSeeViewProviders);a.resolving=!0;let l,d=a.injectImpl?Vr(a.injectImpl):null,h=cC(n,r,De.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&AF(t,s[t],e)}finally{d!==null&&Vr(d),Mb(c),a.resolving=!1,fC()}}return o}function UF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Vu)?n[Vu]:void 0;return typeof e=="number"?e>=0?e&vC:jF:e}function Nb(n,e,t){let r=1<<n;return!!(t[e+(n>>EC)]&r)}function kb(n,e){return!(n&De.Self)&&!(n&De.Host&&e)}var As=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return bC(this._tNode,this._lView,e,sh(r),t)}};function jF(){return new As(jn(),_e())}function rQ(n){return Qu(()=>{let e=n.prototype.constructor,t=e[xf]||b_(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[xf]||b_(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function b_(n){return bD(n)?()=>{let e=b_(Ln(n));return e&&e()}:Ja(n)}function $F(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[oe]&2048&&!ju(s);){let a=DC(o,s,t,r|De.Self,Pi);if(a!==Pi)return a;let c=o.parent;if(!c){let l=s[zD];if(l){let d=l.get(t,Pi,r);if(d!==Pi)return d}c=CC(s),s=s[cc]}o=c}return i}function CC(n){let e=n[te],t=e.type;return t===2?e.declTNode:t===1?n[sr]:null}function SC(n){return VF(jn(),n)}function Ob(n,e=null,t=null,r){let i=AC(n,e,t,r);return i.resolveInjectorInitializers(),i}function AC(n,e=null,t=null,r,i=new Set){let o=[t||Vn,qO(n)];return r=r||(typeof n=="object"?void 0:rr(n)),new Bu(o,e||ah(),r||null,i)}var or=class n{static THROW_IF_NOT_FOUND=Ss;static NULL=new Nf;static create(e,t){if(Array.isArray(e))return Ob({name:""},t,e,"");{let r=e.name??"";return Ob({name:r},e.parent,e.providers,r)}}static \u0275prov=je({token:n,providedIn:"any",factory:()=>gn(kD)});static __NG_ELEMENT_ID__=-1};var Fb=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>SC(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},HF=new de("");HF.__NG_ELEMENT_ID__=n=>{let e=jn();if(e===null)throw new Ce(204,!1);if(e.type&2)return e.value;if(n&De.Optional)return null;throw new Ce(204,!1)};var xC=!1,tl=(()=>{class n{static __NG_ELEMENT_ID__=zF;static __NG_ENV_ID__=t=>t}return n})(),jf=class extends tl{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Bs(t)?(e(),()=>{}):(nC(t,e),()=>lF(t,e))}};function zF(){return new jf(_e())}var zo=class{},Ey=new de("",{providedIn:"root",factory:()=>!1});var PC=new de(""),RC=new de(""),hc=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Pu(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=je({token:n,providedIn:"root",factory:()=>new n})}return n})(),nl=(()=>{class n{internalPendingTasks=q(hc);scheduler=q(zo);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return M(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=je({token:n,providedIn:"root",factory:()=>new n})}return n})(),D_=class extends tr{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,HD()&&(this.destroyRef=q(tl,{optional:!0})??void 0,this.pendingTasks=q(hc,{optional:!0})??void 0)}emit(e){let t=be(null);try{super.next(e)}finally{be(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Vt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},jo=D_;function zu(...n){}function MC(n){let e,t;function r(){n=zu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Lb(n){return queueMicrotask(()=>n()),()=>{n=zu}}var wy="isAngularZone",$f=wy+"_ID",qF=0,xt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new jo(!1);onMicrotaskEmpty=new jo(!1);onStable=new jo(!1);onError=new jo(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=xC}=e;if(typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,KF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(wy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Ce(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,WF,zu,zu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},WF={};function Iy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function GF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){MC(()=>{n.callbackScheduled=!1,C_(n),n.isCheckStableRunning=!0,Iy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),C_(n)}function KF(n){let e=()=>{GF(n)},t=qF++;n._inner=n._inner.fork({name:"angular",properties:{[wy]:!0,[$f]:t,[$f+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(YF(c))return r.invokeTask(o,s,a,c);try{return Vb(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Bb(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Vb(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!QF(c)&&e(),Bb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,C_(n),Iy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function C_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Vb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Bb(n){n._nesting--,Iy(n)}var S_=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new jo;onMicrotaskEmpty=new jo;onStable=new jo;onError=new jo;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function YF(n){return NC(n,"__ignore_ng_zone__")}function QF(n){return NC(n,"__scheduler_tick__")}function NC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Os=class{_console=console;handleError(e){this._console.error("ERROR",e)}},XF=new de("",{providedIn:"root",factory:()=>{let n=q(xt),e=q(Os);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Ub(n,e){return wD(n,e)}function ZF(n){return wD(ED,n)}var iQ=(Ub.required=ZF,Ub);function JF(){return pc(jn(),_e())}function pc(n,e){return new gc(pi(n,e))}var gc=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=JF}return n})();function kC(n){return n instanceof gc?n.nativeElement:n}function eL(n){return typeof n=="function"&&n[er]!==void 0}function OC(n,e){let t=_m(n,e?.equal),r=t[er];return t.set=i=>Su(r,i),t.update=i=>ym(r,i),t.asReadonly=tL.bind(t),t}function tL(){let n=this[er];if(n.readonlyFn===void 0){let e=()=>this();e[er]=n,n.readonlyFn=e}return n.readonlyFn}function FC(n){return eL(n)&&typeof n.set=="function"}function nL(){return this._results[Symbol.iterator]()}var A_=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new tr}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=jO(e);(this._changesDetected=!UO(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=nL},rL="ngSkipHydration",iL="ngskiphydration";function LC(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===iL)return!0}return!1}function VC(n){return n.hasAttribute(rL)}function Hf(n){return(n.flags&128)===128}function oL(n){if(Hf(n))return!0;let e=n.parent;for(;e;){if(Hf(n)||LC(e))return!0;e=e.parent}return!1}var BC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(BC||{}),UC=new Map,sL=0;function aL(){return sL++}function cL(n){UC.set(n[ch],n)}function x_(n){UC.delete(n[ch])}var jb="__ngContext__";function rl(n,e){li(e)?(n[jb]=e[ch],cL(e)):n[jb]=e}function jC(n){return HC(n[Uu])}function $C(n){return HC(n[ui])}function HC(n){for(;n!==null&&!Oi(n);)n=n[ui];return n}var P_;function oQ(n){P_=n}function dh(){if(P_!==void 0)return P_;if(typeof document<"u")return document;throw new Ce(210,!1)}var Ya=new de("",{providedIn:"root",factory:()=>uL}),uL="ng",lL=new de(""),zC=new de("",{providedIn:"platform",factory:()=>"unknown"});var sQ=new de(""),aQ=new de("",{providedIn:"root",factory:()=>dh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function dL(){let n=new fh;return n.store=fL(dh(),q(Ya)),n}var fh=(()=>{class n{static \u0275prov=je({token:n,providedIn:"root",factory:dL});store={};onSerializeCallbacks={};get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function fL(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var qC="h",WC="b",hL="f",pL="n",gL="e",mL="t",Ty="c",GC="x",zf="r",_L="i",yL="n",KC="d";var vL="di",EL="s",wL="p";var yf=new de(""),YC=!1,QC=new de("",{providedIn:"root",factory:()=>YC});var XC=new de(""),IL=!1,TL=new de(""),$b=new de("",{providedIn:"root",factory:()=>new Map}),by=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(by||{}),hh=new de(""),Hb=new Set;function Us(n){Hb.has(n)||(Hb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Dy=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=bL}return n})();function bL(){return new Dy(_e(),jn())}var za=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(za||{}),ZC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=je({token:n,providedIn:"root",factory:()=>new n})}return n})(),DL=[za.EarlyRead,za.Write,za.MixedReadWrite,za.Read],CL=(()=>{class n{ngZone=q(xt);scheduler=q(zo);errorHandler=q(Os,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){q(hh,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ue(16),this.executing=!0;for(let r of DL)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ue(17)}register(t){let{view:r}=t;r!==void 0?((r[Ga]??=[]).push(t),uc(r),r[oe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(by.AFTER_NEXT_RENDER,t):t()}static \u0275prov=je({token:n,providedIn:"root",factory:()=>new n})}return n})(),R_=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ga];e&&(this.view[Ga]=e.filter(t=>t!==this))}};function SL(n,e){!e?.injector&&Zu(SL);let t=e?.injector??q(or);return Us("NgAfterRender"),eS(n,t,e,!1)}function JC(n,e){!e?.injector&&Zu(JC);let t=e?.injector??q(or);return Us("NgAfterNextRender"),eS(n,t,e,!0)}function AL(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function eS(n,e,t,r){let i=e.get(ZC);i.impl??=e.get(CL);let o=e.get(hh,null,{optional:!0}),s=t?.phase??za.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(tl):null,c=e.get(Dy,null,{optional:!0}),l=new R_(i.impl,AL(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var Er=function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n}(Er||{}),zb=0,xL=1,qt=function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n}(qt||{});var PL=0,ph=1;var RL=4,ML=5;var NL=7,Qa=8,kL=9,tS=function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n}(tS||{});function Df(n,e){let t=FL(n),r=e[t];if(r!==null){for(let i of r)i();e[t]=null}}function OL(n){Df(1,n),Df(0,n),Df(2,n)}function FL(n){let e=RL;return n===1?e=ML:n===2&&(e=kL),e}function nS(n){return n+1}function il(n,e){let t=n[te],r=nS(e.index);return n[r]}function gh(n,e){let t=nS(e.index);return n.data[t]}function LL(n,e,t){let r=e[te],i=gh(r,t);switch(n){case qt.Complete:return i.primaryTmplIndex;case qt.Loading:return i.loadingTmplIndex;case qt.Error:return i.errorTmplIndex;case qt.Placeholder:return i.placeholderTmplIndex;default:return null}}function qb(n,e){return e===qt.Placeholder?n.placeholderBlockConfig?.[zb]??null:e===qt.Loading?n.loadingBlockConfig?.[zb]??null:null}function VL(n){return n.loadingBlockConfig?.[xL]??null}function Wb(n,e){if(!n||n.length===0)return e;let t=new Set(n);for(let r of e)t.add(r);return n.length===t.size?n:Array.from(t)}function BL(n,e){let t=e.primaryTmplIndex+gt;return Ju(n,t)}var mh="ngb";var UL=(n,e,t)=>{let r=n,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(t),i.set(e,o),r.__jsaction_fns=i},jL=(n,e)=>{let t=n,r=t.getAttribute(mh)??"",i=e.get(r)??new Set;i.has(t)||i.add(t),e.set(r,i)};var $L=n=>{n.removeAttribute($m.JSACTION),n.removeAttribute(mh),n.__jsaction_fns=void 0},HL=new de("",{providedIn:"root",factory:()=>({})});function rS(n,e){let t=e?.__jsaction_fns?.get(n.type);if(!(!t||!e?.isConnected))for(let r of t)r(n)}var Cy=new de("");var zL="__nghData__",iS=zL,qL="__nghDeferData__",WL=qL,Jm="ngh",GL="nghm",oS=()=>null;function KL(n,e,t=!1){let r=n.getAttribute(Jm);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,c={};if(r!==""){let d=e.get(fh,null,{optional:!0});d!==null&&(c=d.get(iS,[])[Number(r)])}let l={data:c,firstChild:n.firstChild??null};return t&&(l.firstChild=n,_h(l,0,n.nextSibling)),a?n.setAttribute(Jm,a):n.removeAttribute(Jm),l}function YL(){oS=KL}function sS(n,e,t=!1){return oS(n,e,t)}function QL(n){let e=n._lView;return e[te].type===2?null:(ju(e)&&(e=e[gt]),e)}function XL(n){return n.textContent?.replace(/\s/gm,"")}function ZL(n){let e=dh(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=XL(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function _h(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function M_(n,e){return n.segmentHeads?.[e]??null}function JL(n){return n.get(TL,!1,{optional:!0})}function eV(n,e){let t=n.data,r=t[gL]?.[e]??null;return r===null&&t[Ty]?.[e]&&(r=Sy(n,e)),r}function aS(n,e){return n.data[Ty]?.[e]??null}function Sy(n,e){let t=aS(n,e)??[],r=0;for(let i of t)r+=i[zf]*(i[GC]??1);return r}function tV(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[KC];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function ol(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[KC];n.disconnectedNodes=t?new Set(t):null}return!!tV(n)?.has(e)}function nV(n,e){let t=e.get(Cy),i=e.get(fh).get(WL,{}),o=!1,s=n,a=null,c=[];for(;!o&&s;){o=t.has(s);let l=t.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][wL]}return{parentBlockPromise:a,hydrationQueue:c}}function e_(n){return!!n&&n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===GL}function Gb(n){for(;n&&n.nodeType===Node.TEXT_NODE;)n=n.previousSibling;return n}function rV(n){for(let r of n.body.childNodes)if(e_(r))return;let e=Gb(n.body.previousSibling);if(e_(e))return;let t=Gb(n.head.lastChild);if(!e_(t))throw new Ce(-507,!1)}function cS(n,e){let t=n.contentQueries;if(t!==null){let r=be(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];lh(o),a.contentQueries(2,e[s],s)}}}finally{be(r)}}}function N_(n,e,t){lh(0);let r=be(null);try{e(n,t)}finally{be(r)}}function uS(n,e,t){if(WD(e)){let r=be(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{be(r)}}}var qu=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(qu||{});var qf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vD})`}};function Ay(n){return n instanceof qf?n.changingThisBreaksApplicationSecurity:n}function iV(n,e){let t=oV(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${vD})`)}return t===e}function oV(n){return n instanceof qf&&n.getTypeName()||null}var sV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function aV(n){return n=String(n),n.match(sV)?n:"unsafe:"+n}var lS=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(lS||{});function cQ(n){let e=cV();return e?e.sanitize(lS.URL,n)||"":iV(n,"URL")?Ay(n):aV(Za(n))}function cV(){let n=_e();return n&&n[io].sanitizer}var uV=/^>|^->|<!--|-->|--!>|<!-$/g,lV=/(<|>)/g,dV="\u200B$1\u200B";function fV(n){return n.replace(uV,e=>e.replace(lV,dV))}function hV(n){return n.ownerDocument.body}function dS(n){return n instanceof Function?n():n}function pV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var fS="ng-template";function gV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&pV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(xy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function xy(n){return n.type===4&&n.value!==fS}function mV(n,e,t){let r=n.type===4&&!t?fS:n.value;return e===r}function _V(n,e,t){let r=4,i=n.attrs,o=i!==null?EV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!ai(r)&&!ai(c))return!1;if(s&&ai(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!mV(n,c,t)||c===""&&e.length===1){if(ai(r))return!1;s=!0}}else if(r&8){if(i===null||!gV(n,i,c,t)){if(ai(r))return!1;s=!0}}else{let l=e[++a],d=yV(c,i,xy(n),t);if(d===-1){if(ai(r))return!1;s=!0;continue}if(l!==""){let h;if(d>o?h="":h=i[d+1].toLowerCase(),r&2&&l!==h){if(ai(r))return!1;s=!0}}}}return ai(r)||s}function ai(n){return(n&1)===0}function yV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return wV(e,n)}function hS(n,e,t=!1){for(let r=0;r<e.length;r++)if(_V(n,e[r],t))return!0;return!1}function vV(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function EV(n){for(let e=0;e<n.length;e++){let t=n[e];if(_C(t))return e}return n.length}function wV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function IV(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Kb(n,e){return n?":not("+e.trim()+")":e}function TV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ai(s)&&(e+=Kb(o,i),i=""),r=s,o=o||!ai(r);t++}return i!==""&&(e+=Kb(o,i)),e}function bV(n){return n.map(TV).join(",")}function DV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ai(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Ur={};function pS(n,e){return n.createText(e)}function CV(n,e,t){n.setValue(e,t)}function gS(n,e){return n.createComment(fV(e))}function Py(n,e,t){return n.createElement(e,t)}function Wf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function mS(n,e,t){n.appendChild(e,t)}function Yb(n,e,t,r,i){r!==null?Wf(n,e,t,r,i):mS(n,e,t)}function Ry(n,e,t){n.removeChild(null,e,t)}function _S(n){n.textContent=""}function SV(n,e,t){n.setAttribute(e,"style",t)}function AV(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function yS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&MF(n,e,r),i!==null&&AV(n,e,i),o!==null&&SV(n,e,o)}function My(n,e,t,r,i,o,s,a,c,l,d){let h=gt+r,m=h+i,p=xV(h,m),_=typeof l=="function"?l():l;return p[te]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:d}}function xV(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ur);return t}function PV(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=My(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ny(n,e,t,r,i,o,s,a,c,l,d){let h=e.blueprint.slice();return h[wr]=i,h[oe]=r|4|128|8|64|1024,(l!==null||n&&n[oe]&2048)&&(h[oe]|=2048),eC(h),h[Wt]=h[cc]=n,h[Un]=t,h[io]=s||n&&n[io],h[We]=a||n&&n[We],h[Ri]=c||n&&n[Ri]||null,h[sr]=o,h[ch]=aL(),h[fi]=d,h[zD]=l,h[ir]=e.type==2?n[ir]:h,h}function RV(n,e,t){let r=pi(e,n),i=PV(t),o=n[io].rendererFactory,s=ky(n,Ny(n,i,null,vS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function vS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function ES(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ky(n,e){return n[Uu]?n[Ab][ui]=e:n[Uu]=e,n[Ab]=e,e}function Gt(n=1){wS(Pt(),_e(),qo()+n,!1)}function wS(n,e,t,r){if(!r)if((e[oe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&If(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Tf(e,o,0,t)}Ns(t)}var yh=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(yh||{});function k_(n,e,t,r){let i=be(null);try{let[o,s,a]=n.inputs[t],c=null;(s&yh.SignalBased)!==0&&(c=e[o][er]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):GD(e,c,o,r)}finally{be(i)}}function IS(n,e,t,r,i){let o=qo(),s=r&2;try{Ns(-1),s&&e.length>gt&&wS(n,e,gt,!1),Ue(s?2:0,i),t(r,i)}finally{Ns(o),Ue(s?3:1,i)}}function Oy(n,e,t){VV(n,e,t),(t.flags&64)===64&&BV(n,e,t)}function TS(n,e,t=pi){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function MV(n,e,t,r){let o=r.get(QC,YC)||t===qu.ShadowDom,s=n.selectRootElement(e,o);return NV(s),s}function NV(n){bS(n)}var bS=()=>null;function kV(n){VC(n)?_S(n):ZL(n)}function OV(){bS=kV}function FV(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function vh(n,e,t,r,i,o,s,a){if(!a&&Ly(e,n,t,r,i)){Vs(e)&&LV(t,e.index);return}if(e.type&3){let c=pi(e,t);r=FV(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function LV(n,e){let t=Ni(e,n);t[oe]&16||(t[oe]|=64)}function VV(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Vs(t)&&RV(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Uf(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Hu(e,n,s,t);if(rl(c,e),o!==null&&HV(e,s-r,c,a,t,o),Mi(a)){let l=Ni(t.index,e);l[Un]=Hu(e,n,s,t)}}}function BV(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=bF();try{Ns(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];w_(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&UV(c,l)}}finally{Ns(-1),w_(s)}}function UV(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function DS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];hS(e,o.selectors,!1)&&(r??=[],Mi(o)?r.unshift(o):r.push(o))}return r}function jV(n,e,t,r,i,o){let s=pi(n,e);$V(e[We],s,o,n.value,t,r,i)}function $V(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Za(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function HV(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];k_(r,t,c,l)}}function Fy(n,e){let t=n[Ri],r=t?t.get(Os,null):null;r&&r.handleError(e)}function Ly(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],d=s[c+1],h=e.data[l];k_(h,t[l],d,i),a=!0}if(o)for(let c of o){let l=t[c],d=e.data[c];k_(d,l,r,i),a=!0}return a}function zV(n,e){let t=Ni(e,n),r=t[te];qV(r,t);let i=t[wr];i!==null&&t[fi]===null&&(t[fi]=sS(i,t[Ri])),Ue(18),Vy(r,t,t[Un]),Ue(19,t[Un])}function qV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Vy(n,e,t){my(e);try{let r=n.viewQuery;r!==null&&N_(1,r,t);let i=n.template;i!==null&&IS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[oo]?.finishViewCreation(n),n.staticContentQueries&&cS(n,e),n.staticViewQueries&&N_(2,n.viewQuery,t);let o=n.components;o!==null&&WV(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[oe]&=-5,_y()}}function WV(n,e){for(let t=0;t<e.length;t++)zV(n,e[t])}function Eh(n,e,t,r){let i=be(null);try{let o=e.tView,a=n[oe]&4096?4096:16,c=Ny(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ps]=l;let d=n[oo];return d!==null&&(c[oo]=d.createEmbeddedView(o)),Vy(o,c,t),c}finally{be(i)}}function Wu(n,e){return!e||e.firstChild===null||Hf(n)}var GV;function By(n,e){return GV(n,e)}var Gf=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Gf||{});function js(n){return(n.flags&32)===32}function qa(n,e,t,r,i){if(r!=null){let o,s=!1;Oi(r)?o=r:li(r)&&(s=!0,r=r[wr]);let a=hi(r);n===0&&t!==null?i==null?mS(e,t,a):Wf(e,t,a,i||null,!0):n===1&&t!==null?Wf(e,t,a,i||null,!0):n===2?Ry(e,a,s):n===3&&e.destroyNode(a),o!=null&&r2(e,n,o,t,i)}}function KV(n,e){CS(n,e),e[wr]=null,e[sr]=null}function YV(n,e,t,r,i,o){r[wr]=i,r[sr]=e,wh(n,r,t,1,i,o)}function CS(n,e){e[io].changeDetectionScheduler?.notify(9),wh(n,e,e[We],2,null,null)}function QV(n){let e=n[Uu];if(!e)return t_(n[te],n);for(;e;){let t=null;if(li(e))t=e[Uu];else{let r=e[Bn];r&&(t=r)}if(!t){for(;e&&!e[ui]&&e!==n;)li(e)&&t_(e[te],e),e=e[Wt];e===null&&(e=n),li(e)&&t_(e[te],e),t=e&&e[ui]}e=t}}function Uy(n,e){let t=n[nc],r=t.indexOf(e);t.splice(r,1)}function jy(n,e){if(Bs(e))return;let t=e[We];t.destroyNode&&wh(n,e,t,3,null,null),QV(e)}function t_(n,e){if(Bs(e))return;let t=be(null);try{e[oe]&=-129,e[oe]|=256,e[Br]&&Cu(e[Br]),ZV(n,e),XV(n,e),e[te].type===1&&e[We].destroy();let r=e[Ps];if(r!==null&&Oi(e[Wt])){r!==e[Wt]&&Uy(r,e);let i=e[oo];i!==null&&i.detachView(n)}x_(e)}finally{be(t)}}function XV(n,e){let t=n.cleanup,r=e[kf];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[kf]=null);let i=e[$o];if(i!==null){e[$o]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Rs];if(o!==null){e[Rs]=null;for(let s of o)s.destroy()}}function ZV(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ks)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ue(4,a,c);try{c.call(a)}finally{Ue(5,a,c)}}else{Ue(4,i,o);try{o.call(i)}finally{Ue(5,i,o)}}}}}function SS(n,e,t){return JV(n,e.parent,t)}function JV(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[wr];if(Vs(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===qu.None||i===qu.Emulated)return null}return pi(r,t)}function AS(n,e,t){return t2(n,e,t)}function e2(n,e,t){return n.type&40?pi(n,t):null}var t2=e2,Qb;function $y(n,e,t,r){let i=SS(n,r,e),o=e[We],s=r.parent||e[sr],a=AS(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Yb(o,i,t[c],a,!1);else Yb(o,i,t,a,!1);Qb!==void 0&&Qb(o,r,e,t,i)}function Lu(n,e){if(e!==null){let t=e.type;if(t&3)return pi(e,n);if(t&4)return O_(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Lu(n,r);{let i=n[e.index];return Oi(i)?O_(-1,i):hi(i)}}else{if(t&128)return Lu(n,e.next);if(t&32)return By(e,n)()||hi(n[e.index]);{let r=xS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ms(n[ir]);return Lu(i,r)}else return Lu(n,e.next)}}}return null}function xS(n,e){if(e!==null){let r=n[ir][sr],i=e.projection;return r.projection[i]}return null}function O_(n,e){let t=Bn+n+1;if(t<e.length){let r=e[t],i=r[te].firstChild;if(i!==null)return Lu(r,i)}return e[ao]}function Hy(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&rl(hi(a),r),t.flags|=2),!js(t))if(c&8)Hy(n,e,t.child,r,i,o,!1),qa(e,n,i,a,o);else if(c&32){let l=By(t,r),d;for(;d=l();)qa(e,n,i,d,o);qa(e,n,i,a,o)}else c&16?PS(n,e,r,t,i,o):qa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function wh(n,e,t,r,i,o){Hy(t,r,n.firstChild,e,i,o,!1)}function n2(n,e,t){let r=e[We],i=SS(n,t,e),o=t.parent||e[sr],s=AS(o,t,e);PS(r,0,e,t,i,s)}function PS(n,e,t,r,i,o){let s=t[ir],c=s[sr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];qa(e,n,i,d,o)}else{let l=c,d=s[Wt];Hf(r)&&(l.flags|=128),Hy(n,e,l,d,i,o,!0)}}function r2(n,e,t,r,i){let o=t[ao],s=hi(t);o!==s&&qa(e,n,r,o,i);for(let a=Bn;a<t.length;a++){let c=t[a];wh(c[te],c,n,e,r,o)}}function i2(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Gf.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gf.Important),n.setStyle(t,r,i,o))}}function Kf(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(hi(o)),Oi(o)&&o2(o,r);let s=t.type;if(s&8)Kf(n,e,t.child,r);else if(s&32){let a=By(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=xS(e,t);if(Array.isArray(a))r.push(...a);else{let c=Ms(e[ir]);Kf(c[te],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function o2(n,e){for(let t=Bn;t<n.length;t++){let r=n[t],i=r[te].firstChild;i!==null&&Kf(r[te],r,i,e)}n[ao]!==n[wr]&&e.push(n[ao])}function RS(n){if(n[Ga]!==null){for(let e of n[Ga])e.impl.addSequence(e);n[Ga].length=0}}var MS=[];function s2(n){return n[Br]??a2(n)}function a2(n){let e=MS.pop()??Object.create(u2);return e.lView=n,e}function c2(n){n.lView[Br]!==n&&(n.lView=null,MS.push(n))}var u2=pn(hn({},ka),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{uc(n.lView)},consumerOnSignalRead(){this.lView[Br]=this}});function l2(n){let e=n[Br]??Object.create(d2);return e.lView=n,e}var d2=pn(hn({},ka),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ms(n.lView);for(;e&&!NS(e[te]);)e=Ms(e);e&&tC(e)},consumerOnSignalRead(){this.lView[Br]=this}});function NS(n){return n.type!==2}function kS(n){if(n[Rs]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Rs])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[oe]&8192)}}var f2=100;function OS(n,e=!0,t=0){let i=n[io].rendererFactory,o=!1;o||i.begin?.();try{h2(n,t)}catch(s){throw e&&Fy(n,s),s}finally{o||i.end?.()}}function h2(n,e){let t=aC();try{Lf(!0),F_(n,e);let r=0;for(;uh(n);){if(r===f2)throw new Ce(103,!1);r++,F_(n,1)}}finally{Lf(t)}}function p2(n,e,t,r){if(Bs(e))return;let i=e[oe],o=!1,s=!1;my(e);let a=!0,c=null,l=null;o||(NS(n)?(l=s2(e),c=Du(l)):fm()===null?(a=!1,l=l2(e),c=Du(l)):e[Br]&&(Cu(e[Br]),e[Br]=null));try{eC(e),wF(n.bindingStartIndex),t!==null&&IS(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let p=n.preOrderCheckHooks;p!==null&&If(e,p,null)}else{let p=n.preOrderHooks;p!==null&&Tf(e,p,0,null),Xm(e,0)}if(s||g2(e),kS(e),FS(e,0),n.contentQueries!==null&&cS(n,e),!o)if(d){let p=n.contentCheckHooks;p!==null&&If(e,p)}else{let p=n.contentHooks;p!==null&&Tf(e,p,1),Xm(e,1)}_2(n,e);let h=n.components;h!==null&&VS(e,h,0);let m=n.viewQuery;if(m!==null&&N_(2,m,r),!o)if(d){let p=n.viewCheckHooks;p!==null&&If(e,p)}else{let p=n.viewHooks;p!==null&&Tf(e,p,2),Xm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Qm]){for(let p of e[Qm])p();e[Qm]=null}o||(RS(e),e[oe]&=-73)}catch(d){throw o||uc(e),d}finally{l!==null&&(Md(l,c),a&&c2(l)),_y()}}function FS(n,e){for(let t=jC(n);t!==null;t=$C(t))for(let r=Bn;r<t.length;r++){let i=t[r];LS(i,e)}}function g2(n){for(let e=jC(n);e!==null;e=$C(e)){if(!(e[oe]&2))continue;let t=e[nc];for(let r=0;r<t.length;r++){let i=t[r];tC(i)}}}function m2(n,e,t){Ue(18);let r=Ni(e,n);LS(r,t),Ue(19,r[Un])}function LS(n,e){dy(n)&&F_(n,e)}function F_(n,e){let r=n[te],i=n[oe],o=n[Br],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Nd(o)),s||=!1,o&&(o.dirty=!1),n[oe]&=-9217,s)p2(r,n,r.template,n[Un]);else if(i&8192){kS(n),FS(n,1);let a=r.components;a!==null&&VS(n,a,1),RS(n)}}function VS(n,e,t){for(let r=0;r<e.length;r++)m2(n,e[r],t)}function _2(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ns(~i);else{let o=i,s=t[++r],a=t[++r];TF(s,o);let c=e[o];Ue(24,c),a(2,c),Ue(25,c)}}}finally{Ns(-1)}}function Ih(n,e){let t=aC()?64:1088;for(n[io].changeDetectionScheduler?.notify(e);n;){n[oe]|=t;let r=Ms(n);if(ju(n)&&!r)return n;n=r}return null}function BS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function y2(n,e){let t=Bn+e;if(t<n.length)return n[t]}function Th(n,e,t,r=!0){let i=e[te];if(v2(i,e,n,t),r){let s=O_(t,n),a=e[We],c=a.parentNode(n[ao]);c!==null&&YV(i,n[sr],a,e,c,s)}let o=e[fi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function US(n,e){let t=Yf(n,e);return t!==void 0&&jy(t[te],t),t}function Yf(n,e){if(n.length<=Bn)return;let t=Bn+e,r=n[t];if(r){let i=r[Ps];i!==null&&i!==n&&Uy(i,r),e>0&&(n[t-1][ui]=r[ui]);let o=Mf(n,Bn+e);KV(r[te],r);let s=o[oo];s!==null&&s.detachView(o[te]),r[Wt]=null,r[ui]=null,r[oe]&=-129}return r}function v2(n,e,t,r){let i=Bn+r,o=t.length;r>0&&(t[i-1][ui]=e),r<o-Bn?(e[ui]=t[i],ND(t,Bn+r,e)):(t.push(e),e[ui]=null),e[Wt]=t;let s=e[Ps];s!==null&&t!==s&&jS(s,e);let a=e[oo];a!==null&&a.insertView(n),v_(e),e[oe]|=128}function jS(n,e){let t=n[nc],r=e[Wt];if(li(r))n[oe]|=2;else{let i=r[Wt][ir];e[ir]!==i&&(n[oe]|=2)}t===null?n[nc]=[e]:t.push(e)}var Gu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[te];return Kf(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Un]}set context(e){this._lView[Un]=e}get destroyed(){return Bs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Wt];if(Oi(e)){let t=e[Of],r=t?t.indexOf(this):-1;r>-1&&(Yf(e,r),Mf(t,r))}this._attachedToViewContainer=!1}jy(this._lView[te],this._lView)}onDestroy(e){nC(this._lView,e)}markForCheck(){Ih(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){v_(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,OS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ju(this._lView),t=this._lView[Ps];t!==null&&!e&&Uy(t,this._lView),CS(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=e;let t=ju(this._lView),r=this._lView[Ps];r!==null&&!t&&jS(r,this._lView),v_(this._lView)}};var Fs=(()=>{class n{static __NG_ELEMENT_ID__=I2}return n})(),E2=Fs,w2=class extends E2{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Eh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Gu(i)}};function I2(){return bh(jn(),_e())}function bh(n,e){return n.type&4?new w2(e,n,pc(n,e)):null}function sl(n,e,t,r,i){let o=n.data[e];if(o===null)o=T2(n,e,t,r,i),IF()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=yF();o.injectorIndex=s===null?-1:s.injectorIndex}return dc(o,!0),o}function T2(n,e,t,r,i){let o=iC(),s=oC(),a=s?o:o&&o.parent,c=n.data[e]=D2(n,a,t,e,r,i);return b2(n,c,o,s),c}function b2(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function D2(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return lc()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var C2=new RegExp(`^(\\d+)*(${WC}|${qC})*(.*)`);function S2(n){let e=n.match(C2),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,d]of o.matchAll(/(f|n)(\d*)/g)){let h=parseInt(d,10)||1;a.push(l,h)}return[s,...a]}function A2(n){return!n.prev&&n.parent?.type===8}function n_(n){return n.index-gt}function x2(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function Dh(n,e,t,r){let i=n_(r),o=x2(n,i);if(o===void 0){let s=n.data[yL];if(s?.[i])o=R2(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(A2(r)){let l=n_(r.parent);o=M_(n,l)}else{let l=pi(c,t);if(a)o=l.firstChild;else{let d=n_(c),h=M_(n,d);if(c.type===2&&h){let p=Sy(n,d)+1;o=Ch(p,h)}else o=l.nextSibling}}}}return o}function Ch(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function P2(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case hL:t=t.firstChild;break;case pL:t=t.nextSibling;break}}return t}function R2(n,e){let[t,...r]=S2(n),i;if(t===qC)i=e[ir][wr];else if(t===WC)i=hV(e[ir][wr]);else{let o=Number(t);i=hi(e[o+gt])}return P2(i,r)}var M2=!1;function N2(n){M2=n}function k2(n){let e=n[fi];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[We];for(let o of r.values())O2(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function O2(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-gt);i&&Ry(n,i,!1)}}function $S(n){let e=n[so]??[],r=n[Wt][We],i=[];for(let o of e)o.data[vL]!==void 0?i.push(o):HS(o,r);n[so]=i}function F2(n){let{lContainer:e}=n,t=e[so];if(t===null)return;let i=e[Wt][We];for(let o of t)HS(o,i)}function HS(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[zf];for(;t<i;){let o=r.nextSibling;Ry(e,r,!1),r=o,t++}}}function Sh(n){$S(n);let e=n[wr];li(e)&&Qf(e);for(let t=Bn;t<n.length;t++)Qf(n[t])}function Qf(n){k2(n);let e=n[te];for(let t=gt;t<e.bindingStartIndex;t++)if(Oi(n[t])){let r=n[t];Sh(r)}else li(n[t])&&Qf(n[t])}function zS(n){let e=n._views;for(let t of e){let r=QL(t);r!==null&&r[wr]!==null&&(li(r)?Qf(r):Sh(r))}}function L2(n,e,t,r){n!==null&&(t.cleanup(e),Sh(n.lContainer),zS(r))}function V2(n,e){let t=[];for(let r of e)for(let i=0;i<(r[GC]??1);i++){let o={data:r,firstChild:null};r[zf]>0&&(o.firstChild=n,n=Ch(r[zf],n)),t.push(o)}return[n,t]}var qS=()=>null;function B2(n,e){let t=n[so];return!e||t===null||t.length===0?null:t[0].data[_L]===e?t.shift():($S(n),null)}function U2(){qS=B2}function Xf(n,e){return qS(n,e)}var j2=class{},WS=class{},L_=class{resolveComponentFactory(e){throw Error(`No component factory found for ${rr(e)}.`)}},Ah=class{static NULL=new L_},Zf=class{},GS=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>$2()}return n})();function $2(){let n=_e(),e=jn(),t=Ni(e.index,n);return(li(t)?t:n)[We]}var H2=(()=>{class n{static \u0275prov=je({token:n,providedIn:"root",factory:()=>null})}return n})();var r_={},Xa=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=sh(r);let i=this.injector.get(e,r_,r);return i!==r_||t===r_?i:this.parentInjector.get(e,t,r)}};function Xb(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=d_(i,a);else if(o==2){let c=a,l=e[++s];r=d_(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function It(n,e=De.Default){let t=_e();if(t===null)return gn(n,e);let r=jn();return bC(r,t,Ln(n),e)}function KS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,l=null,d=q2(s);d===null?a=s:[a,c,l]=d,K2(n,e,t,a,o,c,l)}o!==null&&r!==null&&z2(t,r,o)}function z2(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Ce(-301,!1);r.push(e[i],o)}}function q2(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Mi(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,W2(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function W2(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function G2(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function K2(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let m=0;m<a;m++){let p=r[m];!c&&Mi(p)&&(c=!0,G2(n,t,m)),T_(Uf(t,e),n,p.type)}eB(t,n.data.length,a);for(let m=0;m<a;m++){let p=r[m];p.providersResolver&&p.providersResolver(p)}let l=!1,d=!1,h=ES(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let p=r[m];if(t.mergedAttrs=$u(t.mergedAttrs,p.hostAttrs),Q2(n,t,e,h,p),J2(h,p,i),s!==null&&s.has(p)){let[y,b]=s.get(p);t.directiveToIndex.set(p.type,[h,y+t.directiveStart,b+t.directiveStart])}else(o===null||!o.has(p))&&t.directiveToIndex.set(p.type,h);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let _=p.type.prototype;!l&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!d&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),h++}Y2(n,t,o)}function Y2(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Zb(0,e,i,r),Zb(1,e,i,r),eD(e,r,!1);else{let o=t.get(i);Jb(0,e,o,r),Jb(1,e,o,r),eD(e,r,!0)}}}function Zb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),YS(e,o)}}function Jb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),YS(e,s)}}function YS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function eD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||xy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){s??=[],s.push(l[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Q2(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ja(i.type,!0)),s=new ks(o,Mi(i),It);n.blueprint[r]=s,t[r]=s,X2(n,e,r,ES(n,t,i.hostVars,Ur),i)}function X2(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Z2(s)!=a&&s.push(a),s.push(t,r,o)}}function Z2(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function J2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Mi(e)&&(t[""]=n)}}function eB(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function QS(n,e,t,r,i,o,s,a){let c=e.consts,l=Ff(c,s),d=sl(e,n,2,r,l);return o&&KS(e,t,d,Ff(c,a),i),d.mergedAttrs=$u(d.mergedAttrs,d.attrs),d.attrs!==null&&Xb(d,d.attrs,!1),d.mergedAttrs!==null&&Xb(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function XS(n,e){gC(n,e),WD(e)&&n.queries.elementEnd(e)}var Jf=class extends Ah{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ho(e);return new rc(t,this.ngModule)}};function tB(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&yh.SignalBased)!==0};return i&&(o.transform=i),o})}function nB(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function rB(n,e,t){let r=e instanceof di?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Xa(t,r):t}function iB(n){let e=n.get(Zf,null);if(e===null)throw new Ce(407,!1);let t=n.get(H2,null),r=n.get(zo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function oB(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Py(e,t,t==="svg"?ZD:t==="math"?oF:null)}var rc=class extends WS{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=tB(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=nB(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=bV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ue(22);let o=be(null);try{let s=this.componentDef,a=r?["ng-version","19.2.10"]:DV(this.componentDef.selectors[0]),c=My(0,null,null,1,0,null,null,null,null,[a],null),l=rB(s,i||this.ngModule,e),d=iB(l),h=d.rendererFactory.createRenderer(null,s),m=r?MV(h,r,s.encapsulation,l):oB(s,h),p=Ny(null,c,null,512|vS(s),null,null,d,h,l,null,sS(m,l,!0));p[gt]=m,my(p);let _=null;try{let y=QS(gt,c,p,"#host",()=>[this.componentDef],!0,0);m&&(yS(h,m,y),rl(m,p)),Oy(c,p,y),uS(c,y,p),XS(c,y),t!==void 0&&sB(y,this.ngContentSelectors,t),_=Ni(y.index,p),p[Un]=_[Un],Vy(c,p,null)}catch(y){throw _!==null&&x_(_),x_(p),y}finally{Ue(23),_y()}return new V_(this.componentType,p)}finally{be(o)}}},V_=class extends j2{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Ju(t[te],gt),this.location=pc(this._tNode,t),this.instance=Ni(this._tNode.index,t)[Un],this.hostView=this.changeDetectorRef=new Gu(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Ly(r,i[te],i,e,t);this.previousInputValues.set(e,t);let s=Ni(r.index,i);Ih(s,1)}get injector(){return new As(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sB(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var $s=(()=>{class n{static __NG_ELEMENT_ID__=aB}return n})();function aB(){let n=jn();return JS(n,_e())}var cB=$s,ZS=class extends cB{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return pc(this._hostTNode,this._hostLView)}get injector(){return new As(this._hostTNode,this._hostLView)}get parentInjector(){let e=vy(this._hostTNode,this._hostLView);if(yC(e)){let t=Bf(e,this._hostLView),r=Vf(e),i=t[te].data[r+8];return new As(i,t)}else return new As(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=tD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Bn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Xf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Wu(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!tF(e),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new rc(Ho(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let y=(s?l:this.parentInjector).get(di,null);y&&(o=y)}let d=Ho(c.componentType??{}),h=Xf(this._lContainer,d?.id??null),m=h?.firstChild??null,p=c.create(l,i,m,o);return this.insertImpl(p.hostView,a,Wu(this._hostTNode,h)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(cF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Wt],l=new ZS(c,c[sr],c[Wt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Th(s,i,o,r),e.attachToViewContainerRef(),ND(i_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=tD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Yf(this._lContainer,t);r&&(Mf(i_(this._lContainer),t),jy(r[te],r))}detach(e){let t=this._adjustIndex(e,-1),r=Yf(this._lContainer,t);return r&&Mf(i_(this._lContainer),t)!=null?new Gu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function tD(n){return n[Of]}function i_(n){return n[Of]||(n[Of]=[])}function JS(n,e){let t,r=e[n.index];return Oi(r)?t=r:(t=BS(r,e,null,n),e[n.index]=t,ky(e,t)),eA(t,e,n,r),new ZS(t,n,e)}function uB(n,e){let t=n[We],r=t.createComment(""),i=pi(e,n),o=t.parentNode(i);return Wf(t,o,r,t.nextSibling(i),!1),r}var eA=tA,zy=()=>!1;function lB(n,e,t){return zy(n,e,t)}function tA(n,e,t,r){if(n[ao])return;let i;t.type&8?i=hi(r):i=uB(e,t),n[ao]=i}function dB(n,e,t){if(n[ao]&&n[so])return!0;let r=t[fi],i=e.index-gt;if(!r||oL(e)||ol(r,i))return!1;let s=M_(r,i),a=r.data[Ty]?.[i],[c,l]=V2(s,a);return n[ao]=c,n[so]=l,!0}function fB(n,e,t,r){zy(n,t,e)||tA(n,e,t,r)}function hB(){eA=fB,zy=dB}var B_=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},U_=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Wy(e,t).matches!==null&&this.queries[t].setDirty()}},eh=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=vB(e):this.predicate=e}},j_=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$_=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,pB(t,o)),this.matchTNodeWithReadOption(e,t,bf(t,e,o,!1,!1))}else r===Fs?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,bf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gc||i===$s||i===Fs&&t.type&4)this.addMatch(t.index,-2);else{let o=bf(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function pB(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function gB(n,e){return n.type&11?pc(n,e):n.type&4?bh(n,e):null}function mB(n,e,t,r){return t===-1?gB(e,n):t===-2?_B(n,e,r):Hu(n,n[te],t,e)}function _B(n,e,t){if(t===gc)return pc(e,n);if(t===Fs)return bh(e,n);if(t===$s)return JS(e,n)}function nA(n,e,t,r){let i=e[oo].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let d=o[l];a.push(mB(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function H_(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=nA(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],d=e[-c];for(let h=Bn;h<d.length;h++){let m=d[h];m[Ps]===m[Wt]&&H_(m[te],m,l,r)}if(d[nc]!==null){let h=d[nc];for(let m=0;m<h.length;m++){let p=h[m];H_(p[te],p,l,r)}}}}}return r}function qy(n,e){return n[oo].queries[e].queryList}function rA(n,e,t){let r=new A_((t&4)===4);return dF(n,e,r,r.destroy),(e[oo]??=new U_).queries.push(new B_(r))-1}function yB(n,e,t){let r=Pt();return r.firstCreatePass&&(oA(r,new eh(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),rA(r,_e(),e)}function iA(n,e,t,r){let i=Pt();if(i.firstCreatePass){let o=jn();oA(i,new eh(e,t,r),o.index),EB(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return rA(i,_e(),t)}function vB(n){return n.split(",").map(e=>e.trim())}function oA(n,e,t){n.queries===null&&(n.queries=new j_),n.queries.track(new $_(e,t))}function EB(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Wy(n,e){return n.queries.getByIndex(e)}function sA(n,e){let t=n[te],r=Wy(t,e);return r.crossesNgTemplate?H_(t,n,e,[]):nA(t,n,r,e)}function aA(n,e,t){let r,i=Fd(()=>{r._dirtyCounter();let o=bB(r,n);if(e&&o===void 0)throw new Ce(-951,!1);return o});return r=i[er],r._dirtyCounter=OC(0),r._flatValue=void 0,i}function wB(n){return aA(!0,!1,n)}function IB(n){return aA(!0,!0,n)}function TB(n,e){let t=n[er];t._lView=_e(),t._queryIndex=e,t._queryList=qy(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function bB(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[oe]&4)return e?void 0:Vn;let i=qy(t,r),o=sA(t,r);return i.reset(o,kC),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}function nD(n,e){return wB(e)}function DB(n,e){return IB(e)}var gQ=(nD.required=DB,nD);var ic=class{},CB=class{};var z_=class extends ic{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Jf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=FD(e);this._bootstrapComponents=dS(o.bootstrap),this._r3Injector=AC(e,t,[{provide:ic,useValue:this},{provide:Ah,useValue:this.componentFactoryResolver},...r],rr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},q_=class extends CB{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new z_(this.moduleType,e,[])}};var th=class extends ic{injector;componentFactoryResolver=new Jf(this);instance=null;constructor(e){super();let t=new Bu([...e.providers,{provide:ic,useValue:this},{provide:Ah,useValue:this.componentFactoryResolver}],e.parent||ah(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cA(n,e,t=null){return new th({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var SB=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=cy(!1,t.type),i=r.length>0?cA([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=je({token:n,providedIn:"environment",factory:()=>new n(gn(di))})}return n})();function bn(n){return Qu(()=>{let e=lA(n),t=pn(hn({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===BC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(SB).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||qu.Emulated,styles:n.styles||Vn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Us("NgStandalone"),dA(t);let r=n.dependencies;return t.directiveDefs=rD(r,!1),t.pipeDefs=rD(r,!0),t.id=MB(t),t})}function AB(n){return Ho(n)||LD(n)}function xB(n){return n!==null}function uA(n){return Qu(()=>({type:n.type,bootstrap:n.bootstrap||Vn,declarations:n.declarations||Vn,imports:n.imports||Vn,exports:n.exports||Vn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function PB(n,e){if(n==null)return xs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=yh.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function RB(n){if(n==null)return xs;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function al(n){return Qu(()=>{let e=lA(n);return dA(e),e})}function lA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||xs,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Vn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:PB(n.inputs,e),outputs:RB(n.outputs),debugInfo:null}}function dA(n){n.features?.forEach(e=>e(n))}function rD(n,e){if(!n)return null;let t=e?VD:AB;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(xB)}function MB(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function NB(n){return Object.getPrototypeOf(n.prototype).constructor}function kB(n){let e=NB(n.type),t=!0,r=[n];for(;e;){let i;if(Mi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ce(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=o_(n.inputs),s.declaredInputs=o_(n.declaredInputs),s.outputs=o_(n.outputs);let a=i.hostBindings;a&&BB(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&LB(n,c),l&&VB(n,l),OB(n,i),IO(n.outputs,i.outputs),Mi(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===kB&&(t=!1)}}e=Object.getPrototypeOf(e)}FB(r)}function OB(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function FB(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$u(i.hostAttrs,t=$u(t,i.hostAttrs))}}function o_(n){return n===xs?{}:n===Vn?[]:n}function LB(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function VB(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function BB(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function fA(n){return jB(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function UB(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function jB(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ki(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function $B(n,e,t,r){let i=ki(n,e,t);return ki(n,e+1,r)||i}function HB(n,e,t,r,i,o,s,a,c){let l=e.consts,d=sl(e,n,4,s||null,a||null);rC()&&KS(e,t,d,Ff(l,c),DS),d.mergedAttrs=$u(d.mergedAttrs,d.attrs),gC(e,d);let h=d.tView=My(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function hA(n,e,t,r,i,o,s,a,c,l){let d=t+gt,h=e.firstCreatePass?HB(d,e,n,r,i,o,s,a,c):e.data[d];dc(h,!1);let m=pA(e,n,h,t);yy()&&$y(e,n,m,h),rl(m,n);let p=BS(m,n,m,h);return n[d]=p,ky(n,p),lB(p,h,n),ly(h)&&Oy(e,n,h),c!=null&&TS(n,h,l),h}function Gy(n,e,t,r,i,o,s,a){let c=_e(),l=Pt(),d=Ff(l.consts,o);return hA(c,l,n,e,t,r,i,d,s,a),Gy}var pA=gA;function gA(n,e,t,r){return Wo(!0),e[We].createComment("")}function zB(n,e,t,r){let i=e[fi],o=!i||lc()||js(t)||ol(i,r);if(Wo(o),o)return gA(n,e);let s=i.data[mL]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=Dh(i,n,e,t);_h(i,r,a);let c=Sy(i,r);return Ch(c,a)}function qB(){pA=zB}var WB=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(t,r,i,o){if(!this.cachedInjectors.has(t)){let s=i.length>0?cA(i,r,o):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=je({token:n,providedIn:"environment",factory:()=>new n})}return n})();var GB=new de("");function s_(n,e,t){return n.get(WB).getOrCreateInjector(e,n,t,"")}function KB(n,e,t){if(n instanceof Xa){let i=n.injector,o=n.parentInjector,s=s_(o,e,t);return new Xa(i,s)}let r=n.get(di);if(r!==n){let i=s_(r,e,t);return new Xa(n,i)}return s_(n,e,t)}function Wa(n,e,t,r=!1){let i=t[Wt],o=i[te];if(Bs(i))return;let s=il(i,e),a=s[ph],c=s[NL];if(!(c!==null&&n<c)&&iD(a,n)&&iD(s[PL]??-1,n)){let l=gh(o,e),h=!r&&!0&&(VL(l)!==null||qb(l,qt.Loading)!==null||qb(l,qt.Placeholder))?XB:QB;try{h(n,s,t,e,i)}catch(m){Fy(i,m)}}}function YB(n,e){let t=n[so]?.findIndex(i=>i.data[EL]===e[ph])??-1;return{dehydratedView:t>-1?n[so][t]:null,dehydratedViewIx:t}}function QB(n,e,t,r,i){Ue(20);let o=LL(n,i,r);if(o!==null){e[ph]=n;let s=i[te],a=o+gt,c=Ju(s,a),l=0;US(t,l);let d;if(n===qt.Complete){let _=gh(s,r),y=_.providers;y&&y.length>0&&(d=KB(i[Ri],_,y))}let{dehydratedView:h,dehydratedViewIx:m}=YB(t,e),p=Eh(i,c,null,{injector:d,dehydratedView:h});if(Th(t,p,l,Wu(c,h)),Ih(p,2),m>-1&&t[so]?.splice(m,1),(n===qt.Complete||n===qt.Error)&&Array.isArray(e[Qa])){for(let _ of e[Qa])_();e[Qa]=null}}Ue(21)}function iD(n,e){return n<e}function oD(n,e,t){n.loadingPromise.then(()=>{n.loadingState===Er.COMPLETE?Wa(qt.Complete,e,t):n.loadingState===Er.FAILED&&Wa(qt.Error,e,t)})}var XB=null;var yQ=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var ZB=new de("");var mA=(()=>{class n{static \u0275prov=je({token:n,providedIn:"root",factory:()=>new W_})}return n})(),W_=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ky(n){return!!n&&typeof n.then=="function"}function _A(n){return!!n&&typeof n.subscribe=="function"}var JB=new de("");var yA=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=q(JB,{optional:!0})??[];injector=q(or);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ac(this.injector,i);if(Ky(o))t.push(o);else if(_A(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yy=new de("");function eU(){mm(()=>{throw new Ce(600,!1)})}function tU(n){return n.isBoundToModule}var nU=10;var co=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=q(XF);afterRenderManager=q(ZC);zonelessEnabled=q(Ey);rootEffectScheduler=q(mA);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new tr;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=q(hc).hasPendingTasks.pipe(si(t=>!t));constructor(){q(hh,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=q(di);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=or.NULL){Ue(10);let o=t instanceof WS;if(!this._injector.get(yA).done){let p="";throw new Ce(405,p)}let a;o?a=t:a=this._injector.get(Ah).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=tU(a)?void 0:this._injector.get(ic),l=r||a.selector,d=a.create(i,[],l,c),h=d.location.nativeElement,m=d.injector.get(ZB,null);return m?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Cf(this.components,d),m?.unregisterApplication(h)}),this._loadComponent(d),Ue(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ue(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(by.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Ce(101,!1);let t=be(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,be(t),this.afterTick.next(),Ue(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zf,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<nU;)Ue(14),this.synchronizeOnce(),Ue(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)rU(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>uh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Cf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Yy,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Cf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ce(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function rU(n,e,t,r){if(!t&&!uh(n))return;OS(n,e,t&&!r?0:1)}function iU(n,e,t){let r=e[Ri],i=e[te];if(n.loadingState!==Er.NOT_STARTED)return n.loadingPromise??Promise.resolve();let o=il(e,t),s=BL(i,n);n.loadingState=Er.IN_PROGRESS,Df(1,o);let a=n.dependencyResolverFn,c=r.get(nl).add();return a?(n.loadingPromise=Promise.allSettled(a()).then(l=>{let d=!1,h=[],m=[];for(let p of l)if(p.status==="fulfilled"){let _=p.value,y=Ho(_)||LD(_);if(y)h.push(y);else{let b=VD(_);b&&m.push(b)}}else{d=!0;break}if(d){if(n.loadingState=Er.FAILED,n.errorTmplIndex===null){let p="",_=new Ce(-750,!1);Fy(e,_)}}else{n.loadingState=Er.COMPLETE;let p=s.tView;if(h.length>0){p.directiveRegistry=Wb(p.directiveRegistry,h);let _=h.map(b=>b.type),y=cy(!1,..._);n.providers=y}m.length>0&&(p.pipeRegistry=Wb(p.pipeRegistry,m))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,c()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=Er.COMPLETE,c()}),n.loadingPromise)}function oU(n,e){return e[Ri].get(GB,null,{optional:!0})?.behavior!==tS.Manual}function sU(n,e,t){let r=e[te],i=e[t.index];if(!oU(n,e))return;let o=il(e,t),s=gh(r,t);switch(OL(o),s.loadingState){case Er.NOT_STARTED:Wa(qt.Loading,t,i),iU(s,e,t),s.loadingState===Er.IN_PROGRESS&&oD(s,t,i);break;case Er.IN_PROGRESS:Wa(qt.Loading,t,i),oD(s,t,i);break;case Er.COMPLETE:Wa(qt.Complete,t,i);break;case Er.FAILED:Wa(qt.Error,t,i);break;default:}}function aU(n,e,t){return M(this,null,function*(){let r=n.get(Cy);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=nV(e,n);if(s.length===0)return;o!==null&&s.shift(),lU(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield sD(n,s,t):r.awaitParentBlock(a,()=>M(null,null,function*(){return yield sD(n,s,t)}))})}function sD(n,e,t){return M(this,null,function*(){let r=n.get(Cy),i=r.hydrating,o=n.get(hc),s=o.add();for(let c=0;c<e.length;c++){let l=e[c],d=r.get(l);if(d!=null){if(yield fU(d),yield dU(n),cU(d)){F2(d),aD(e.slice(c),r);break}i.get(l).resolve()}else{uU(c,e,r),aD(e.slice(c),r);break}}let a=e[e.length-1];yield i.get(a)?.promise,o.remove(s),t&&t(e),L2(r.get(a),e,r,n.get(co))})}function cU(n){return il(n.lView,n.tNode)[ph]===qt.Error}function uU(n,e,t){let r=n-1,i=r>-1?t.get(e[r]):null;i&&Sh(i.lContainer)}function aD(n,e){let t=e.hydrating;for(let r in n)t.get(r)?.reject();e.cleanup(n)}function lU(n,e){for(let t of e)n.hydrating.set(t,Promise.withResolvers())}function dU(n){return new Promise(e=>JC(e,{injector:n}))}function fU(n){return M(this,null,function*(){let{tNode:e,lView:t}=n,r=il(t,e);return new Promise(i=>{hU(r,i),sU(2,t,e)})})}function hU(n,e){Array.isArray(n[Qa])||(n[Qa]=[]),n[Qa].push(e)}function Qy(n,e,t,r){let i=_e(),o=fc();if(ki(i,o,e)){let s=Pt(),a=el();jV(a,i,n,e,t,r)}return Qy}function Xy(n,e,t,r){return ki(n,fc(),t)?e+Za(t)+r:Ur}function pU(n,e,t,r,i,o){let s=EF(),a=$B(n,s,t,i);return py(2),a?e+Za(t)+r+Za(i)+o:Ur}function vf(n,e){return n<<17|e<<2}function Ls(n){return n>>17&32767}function gU(n){return(n&2)==2}function mU(n,e){return n&131071|e<<17}function G_(n){return n|2}function oc(n){return(n&131068)>>2}function a_(n,e){return n&-131069|e<<2}function _U(n){return(n&1)===1}function K_(n){return n|1}function yU(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ls(s),c=oc(s);n[r]=t;let l=!1,d;if(Array.isArray(t)){let h=t;d=h[1],(d===null||Xu(h,d)>0)&&(l=!0)}else d=t;if(i)if(c!==0){let m=Ls(n[a+1]);n[r+1]=vf(m,a),m!==0&&(n[m+1]=a_(n[m+1],r)),n[a+1]=mU(n[a+1],r)}else n[r+1]=vf(a,0),a!==0&&(n[a+1]=a_(n[a+1],r)),a=r;else n[r+1]=vf(c,0),a===0?a=r:n[c+1]=a_(n[c+1],r),c=r;l&&(n[r+1]=G_(n[r+1])),cD(n,d,r,!0),cD(n,d,r,!1),vU(e,d,n,r,o),s=vf(a,c),o?e.classBindings=s:e.styleBindings=s}function vU(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Xu(o,e)>=0&&(t[r+1]=K_(t[r+1]))}function cD(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ls(i):oc(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];EU(c,e)&&(a=!0,n[s+1]=r?K_(l):G_(l)),s=r?Ls(l):oc(l)}a&&(n[t+1]=r?G_(i):K_(i))}function EU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Xu(n,e)>=0:!1}var ci={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wU(n){return n.substring(ci.key,ci.keyEnd)}function IU(n){return TU(n),vA(n,EA(n,0,ci.textEnd))}function vA(n,e){let t=ci.textEnd;return t===e?-1:(e=ci.keyEnd=bU(n,ci.key=e,t),EA(n,e,t))}function TU(n){ci.key=0,ci.keyEnd=0,ci.value=0,ci.valueEnd=0,ci.textEnd=n.length}function EA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function bU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Zy(n,e,t){let r=_e(),i=fc();if(ki(r,i,e)){let o=Pt(),s=el();vh(o,s,r,n,e,r[We],t,!1)}return Zy}function Y_(n,e,t,r,i){Ly(e,n,t,i?"class":"style",r)}function Jy(n,e,t){return wA(n,e,t,!1),Jy}function DU(n,e){return wA(n,e,null,!0),DU}function CU(n,e){for(let t=IU(e);t>=0;t=vA(e,t))ay(n,wU(e),!0)}function wA(n,e,t,r){let i=_e(),o=Pt(),s=py(2);if(o.firstUpdatePass&&TA(o,n,s,r),e!==Ur&&ki(i,s,e)){let a=o.data[qo()];bA(o,a,i,i[We],n,i[s+1]=kU(e,t),r,s)}}function SU(n,e,t,r){let i=Pt(),o=py(2);i.firstUpdatePass&&TA(i,null,o,r);let s=_e();if(t!==Ur&&ki(s,o,t)){let a=i.data[qo()];if(DA(a,r)&&!IA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=d_(c,t||"")),Y_(i,a,s,t,r)}else NU(i,a,s,s[We],s[o+1],s[o+1]=MU(n,e,t),r,o)}}function IA(n,e){return e>=n.expandoStartIndex}function TA(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[qo()],s=IA(n,t);DA(o,r)&&e===null&&!s&&(e=!1),e=AU(i,o,e,r),yU(i,o,e,t,s,r)}}function AU(n,e,t,r){let i=DF(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=c_(null,n,e,t,r),t=Ku(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=c_(i,n,e,t,r),o===null){let c=xU(n,e,r);c!==void 0&&Array.isArray(c)&&(c=c_(null,n,e,c[1],r),c=Ku(c,e.attrs,r),PU(n,e,r,c))}else o=RU(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function xU(n,e,t){let r=t?e.classBindings:e.styleBindings;if(oc(r)!==0)return n[Ls(r)]}function PU(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ls(i)]=r}function RU(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ku(r,s,t)}return Ku(r,e.attrs,t)}function c_(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ku(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ku(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ay(n,s,t?!0:e[++o]))}return n===void 0?null:n}function MU(n,e,t){if(t==null||t==="")return Vn;let r=[],i=Ay(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function NU(n,e,t,r,i,o,s,a){i===Ur&&(i=Vn);let c=0,l=0,d=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;d!==null||h!==null;){let m=c<i.length?i[c+1]:void 0,p=l<o.length?o[l+1]:void 0,_=null,y;d===h?(c+=2,l+=2,m!==p&&(_=h,y=p)):h===null||d!==null&&d<h?(c+=2,_=d):(l+=2,_=h,y=p),_!==null&&bA(n,e,t,r,_,y,s,a),d=c<i.length?i[c]:null,h=l<o.length?o[l]:null}}function bA(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],d=_U(l)?uD(c,e,t,i,oc(l),s):void 0;if(!nh(d)){nh(o)||gU(l)&&(o=uD(c,null,t,i,a,s));let h=JD(qo(),t);i2(r,s,h,i,o)}}function uD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),d=l?c[1]:c,h=d===null,m=t[i+1];m===Ur&&(m=h?Vn:void 0);let p=h?Km(m,r):d===r?m:void 0;if(l&&!nh(p)&&(p=Km(c,r)),nh(p)&&(a=p,s))return a;let _=n[i+1];i=s?Ls(_):oc(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Km(c,r))}return a}function nh(n){return n!==void 0}function kU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=rr(Ay(n)))),n}function DA(n,e){return(n.flags&(e?8:16))!==0}function vQ(n,e,t){let r=_e(),i=Xy(r,n,e,t);SU(ay,CU,i,!0)}function EQ(n,e){Us("NgControlFlow");let t=_e(),r=fc(),i=t[r]!==Ur?t[r]:-1,o=i!==-1?lD(t,gt+i):void 0,s=0;if(ki(t,r,n)){let a=be(null);try{if(o!==void 0&&US(o,s),n!==-1){let c=gt+n,l=lD(t,c),d=OU(t[te],c),h=Xf(l,d.tView.ssrId),m=Eh(t,d,e,{dehydratedView:h});Th(l,m,s,Wu(d,h))}}finally{be(a)}}else if(o!==void 0){let a=y2(o,s);a!==void 0&&(a[Un]=e)}}function lD(n,e){return n[e]}function OU(n,e){return Ju(n,e)}function ee(n,e,t,r){let i=_e(),o=Pt(),s=gt+n,a=i[We],c=o.firstCreatePass?QS(s,o,i,e,DS,rC(),t,r):o.data[s],l=CA(o,i,c,a,e,n);i[s]=l;let d=ly(c);return dc(c,!0),yS(a,l,c),!js(c)&&yy()&&$y(o,i,l,c),(fF()===0||d)&&rl(l,i),hF(),d&&(Oy(o,i,c),uS(o,c,i)),r!==null&&TS(i,c),ee}function re(){let n=jn();oC()?sC():(n=n.parent,dc(n,!1));let e=n;gF(e)&&_F(),pF();let t=Pt();return t.firstCreatePass&&XS(t,e),e.classesWithoutHost!=null&&PF(e)&&Y_(t,e,_e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&RF(e)&&Y_(t,e,_e(),e.stylesWithoutHost,!1),re}function Rt(n,e,t,r){return ee(n,e,t,r),re(),Rt}var CA=(n,e,t,r,i,o)=>(Wo(!0),Py(r,i,hC()));function FU(n,e,t,r,i,o){let s=e[fi],a=!s||lc()||js(t)||ol(s,o);if(Wo(a),a)return Py(r,i,hC());let c=Dh(s,n,e,t);return aS(s,o)&&_h(s,o,c.nextSibling),s&&(LC(t)||VC(c))&&Vs(t)&&(mF(t),_S(c)),c}function LU(){CA=FU}var VU=(n,e,t,r)=>(Wo(!0),gS(e[We],""));function BU(n,e,t,r){let i,o=e[fi],s=!o||lc()||ol(o,r)||js(t);if(Wo(s),s)return gS(e[We],"");let a=Dh(o,n,e,t),c=eV(o,r);return _h(o,r,a),i=Ch(c,a),i}function UU(){VU=BU}function wQ(){return _e()}function jU(n,e,t){let r=_e(),i=fc();if(ki(r,i,e)){let o=Pt(),s=el();vh(o,s,r,n,e,r[We],t,!0)}return jU}var rh="en-US";var $U=rh;function HU(n){typeof n=="string"&&($U=n.toLowerCase().replace(/_/g,"-"))}function dD(n,e,t){return function r(i){if(i===Function)return t;let o=Vs(n)?Ni(n.index,e):e;Ih(o,5);let s=e[Un],a=fD(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=fD(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function fD(n,e,t,r){let i=be(null);try{return Ue(6,e,t),t(r)!==!1}catch(o){return zU(n,o),!1}finally{Ue(7,e,t),be(i)}}function zU(n,e){let t=n[Ri],r=t?t.get(Os,null):null;r&&r.handleError(e)}function hD(n,e,t,r,i,o){let s=e[t],a=e[te],l=a.data[t].outputs[r],d=s[l],h=a.firstCreatePass?hy(a):null,m=fy(e),p=d.subscribe(o),_=m.length;m.push(o,p),h&&h.push(i,n.index,_,-(_+1))}var ev=new Map;function qU(n,e){ev.set(n,e)}function WU(n){ev.delete(n)}function GU(n,e,t,r){let i=_e(),o=Pt(),s=jn();return SA(o,i,i[We],s,n,e,r),GU}function KU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[kf],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function SA(n,e,t,r,i,o,s){let a=ly(r),l=n.firstCreatePass?hy(n):null,d=fy(e),h=!0;if(r.type&3||s){let m=pi(r,e),p=s?s(m):m,_=d.length,y=s?A=>s(hi(A[r.index])):r.index,b=null;if(!s&&a&&(b=KU(n,e,i,r.index)),b!==null){let A=b.__ngLastListenerFn__||b;A.__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,h=!1}else{o=dD(r,e,o);let A=e[Ri].get(Ya);ev.get(A)?.(p,i,o);let O=t.listen(p,i,o);d.push(o,O),l&&l.push(i,y,_,_+1)}}else o=dD(r,e,o);if(h){let m=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let _=0;_<p.length;_+=2){let y=p[_],b=p[_+1];hD(r,e,y,b,i,o)}if(m&&m.length)for(let _ of m)hD(r,e,_,i,i,o)}}function IQ(n=1){return SF(n)}function YU(n,e){let t=null,r=vV(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?hS(n,o,!0):IV(r,o))return i}return t}function TQ(n){let e=_e()[ir][sr];if(!e.projection){let t=n?n.length:1,r=e.projection=$O(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?YU(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function bQ(n,e=0,t,r,i,o){let s=_e(),a=Pt(),c=r?n+1:null;c!==null&&hA(s,a,c,r,i,o,null,t);let l=sl(a,gt+n,16,null,t||null);l.projection===null&&(l.projection=e),sC();let h=!s[fi]||lc();s[ir][sr].projection[l.projection]===null&&c!==null?QU(s,a,c):h&&!js(l)&&n2(a,s,l)}function QU(n,e,t){let r=gt+t,i=e.data[r],o=n[r],s=Xf(o,i.tView.ssrId),a=Eh(n,i,void 0,{dehydratedView:s});Th(o,a,0,Wu(i,s))}function XU(n,e,t,r,i){let o=_e(),s=Xy(o,e,t,r);if(s!==Ur){let a=Pt(),c=el();vh(a,c,o,n,s,o[We],i,!1)}return XU}function DQ(n,e,t,r){iA(n,e,t,r)}function CQ(n,e,t){yB(n,e,t)}function SQ(n){let e=_e(),t=Pt(),r=gy();lh(r+1);let i=Wy(t,r);if(n.dirty&&aF(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=sA(e,r);n.reset(o,kC),n.notifyOnChanges()}return!0}return!1}function AQ(){return qy(_e(),gy())}function xQ(n,e,t,r,i){TB(e,iA(n,t,r,i))}function PQ(n=1){lh(gy()+n)}function ZU(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function RQ(n){let e=vF();return sF(e,gt+n)}function Fe(n,e=""){let t=_e(),r=Pt(),i=n+gt,o=r.firstCreatePass?sl(r,i,1,e,null):r.data[i],s=AA(r,t,o,e,n);t[i]=s,yy()&&$y(r,t,s,o),dc(o,!1)}var AA=(n,e,t,r,i)=>(Wo(!0),pS(e[We],r));function JU(n,e,t,r,i){let o=e[fi],s=!o||lc()||js(t)||ol(o,i);return Wo(s),s?pS(e[We],r):Dh(o,n,e,t)}function ej(){AA=JU}function rn(n){return xh("",n,""),rn}function xh(n,e,t){let r=_e(),i=Xy(r,n,e,t);return i!==Ur&&xA(r,qo(),i),xh}function tj(n,e,t,r,i){let o=_e(),s=pU(o,n,e,t,r,i);return s!==Ur&&xA(o,qo(),s),tj}function xA(n,e,t){let r=JD(e,n);CV(n[We],r,t)}function nj(n,e,t){FC(e)&&(e=e());let r=_e(),i=fc();if(ki(r,i,e)){let o=Pt(),s=el();vh(o,s,r,n,e,r[We],t,!1)}return nj}function MQ(n,e){let t=FC(n);return t&&n.set(e),t}function rj(n,e){let t=_e(),r=Pt(),i=jn();return SA(r,t,t[We],i,n,e),rj}var ij={};function oj(n){let e=Pt(),t=_e(),r=n+gt,i=sl(e,r,128,null,null);return dc(i,!1),ZU(e,t,r,ij),oj}function sj(n,e,t){let r=Pt();if(r.firstCreatePass){let i=Mi(n);Q_(t,r.data,r.blueprint,i,!0),Q_(e,r.data,r.blueprint,i,!1)}}function Q_(n,e,t,r,i){if(n=Ln(n),Array.isArray(n))for(let o=0;o<n.length;o++)Q_(n[o],e,t,r,i);else{let o=Pt(),s=_e(),a=jn(),c=tc(n)?n:Ln(n.provide),l=$D(n),d=a.providerIndexes&1048575,h=a.directiveStart,m=a.providerIndexes>>20;if(tc(n)||!n.multi){let p=new ks(l,i,It),_=l_(c,e,i?d:d+m,h);_===-1?(T_(Uf(a,s),o,c),u_(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[_]=p,s[_]=p)}else{let p=l_(c,e,d+m,h),_=l_(c,e,d,d+m),y=p>=0&&t[p],b=_>=0&&t[_];if(i&&!b||!i&&!y){T_(Uf(a,s),o,c);let A=uj(i?cj:aj,t.length,i,r,l);!i&&b&&(t[_].providerFactory=A),u_(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(A),s.push(A)}else{let A=PA(t[i?_:p],l,!i&&r);u_(o,n,p>-1?p:_,A)}!i&&r&&b&&t[_].componentProviders++}}}function u_(n,e,t,r){let i=tc(e),o=YO(e);if(i||o){let c=(o?Ln(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function PA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function l_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function aj(n,e,t,r,i){return X_(this.multi,[])}function cj(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Hu(r,r[te],this.providerFactory.index,i);s=c.slice(0,a),X_(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],X_(o,s);return s}function X_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function uj(n,e,t,r,i){let o=new ks(n,t,It);return o.multi=[],o.index=e,o.componentProviders=0,PA(o,i,r&&!t),o}function NQ(n,e=[]){return t=>{t.providersResolver=(r,i)=>sj(r,i?i(n):n,e)}}function kQ(n,e){return bh(n,e)}var Yu=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},RA=new Yu("19.2.10"),Z_=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},OQ=(()=>{class n{compileModuleSync(t){return new q_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=FD(t),o=dS(i.declarations).reduce((s,a)=>{let c=Ho(a);return c&&s.push(new rc(c)),s},[]);return new Z_(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lj=(()=>{class n{zone=q(xt);changeDetectionScheduler=q(zo);applicationRef=q(co);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dj=new de("",{factory:()=>!1});function MA({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new xt(pn(hn({},NA()),{scheduleInRootZone:t})),[{provide:xt,useFactory:n},{provide:ec,multi:!0,useFactory:()=>{let r=q(lj,{optional:!0});return()=>r.initialize()}},{provide:ec,multi:!0,useFactory:()=>{let r=q(fj);return()=>{r.initialize()}}},e===!0?{provide:PC,useValue:!0}:[],{provide:RC,useValue:t??xC}]}function FQ(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=MA({ngZoneFactory:()=>{let i=NA(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Us("NgZone_CoalesceEvent"),new xt(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return sc([{provide:dj,useValue:!0},{provide:Ey,useValue:!1},r])}function NA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var fj=(()=>{class n{subscription=new Vt;initialized=!1;zone=q(xt);pendingTasks=q(hc);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hj=(()=>{class n{appRef=q(co);taskService=q(hc);ngZone=q(xt);zonelessEnabled=q(Ey);tracing=q(hh,{optional:!0});disableScheduling=q(PC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Vt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($f):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(q(RC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof S_||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Lb:MC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($f+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Lb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pj(){return typeof $localize<"u"&&$localize.locale||rh}var tv=new de("",{providedIn:"root",factory:()=>q(tv,De.Optional|De.SkipSelf)||pj()});var J_=new de(""),gj=new de("");function Ou(n){return!n.moduleRef}function mj(n){let e=Ou(n)?n.r3Injector:n.moduleRef.injector,t=e.get(xt);return t.run(()=>{Ou(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Os,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ou(n)){let o=()=>e.destroy(),s=n.platformInjector.get(J_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(J_);s.add(o),n.moduleRef.onDestroy(()=>{Cf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return yj(r,t,()=>{let o=e.get(yA);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(tv,rh);if(HU(s||rh),!e.get(gj,!0))return Ou(n)?e.get(co):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ou(n)){let c=e.get(co);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return _j(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function _j(n,e){let t=n.injector.get(co);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Ce(-403,!1);e.push(n)}function yj(n,e,t){try{let r=t();return Ky(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Sf=null;function vj(n=[],e){return or.create({name:e,providers:[{provide:jD,useValue:"platform"},{provide:J_,useValue:new Set([()=>Sf=null])},...n]})}function Ej(n=[]){if(Sf)return Sf;let e=vj(n);return Sf=e,eU(),wj(e),e}function wj(n){let e=n.get(lL,null);ac(n,()=>{e?.forEach(t=>t())})}function nv(){return!1}var Ij=(()=>{class n{static __NG_ELEMENT_ID__=Tj}return n})();function Tj(n){return bj(jn(),_e(),(n&16)===16)}function bj(n,e,t){if(Vs(n)&&!t){let r=Ni(n.index,e);return new Gu(r,r)}else if(n.type&175){let r=e[ir];return new Gu(r,e)}return null}var ey=class{constructor(){}supports(e){return fA(e)}create(e){return new ty(e)}},Dj=(n,e)=>e,ty=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Dj}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<pD(r,i,o)?t:r,a=pD(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,d=c-i;if(l!=d){for(let m=0;m<l;m++){let p=m<o.length?o[m]:o[m]=0,_=p+m;d<=_&&_<l&&(o[m]=p+1)}let h=s.previousIndex;o[h]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!fA(e))throw new Ce(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,UB(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ny(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ih),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ih),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ny=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ry=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ih=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ry,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function pD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function gD(){return new rv([new ey])}var rv=(()=>{class n{factories;static \u0275prov=je({token:n,providedIn:"root",factory:gD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||gD()),deps:[[n,new BO,new uo]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Ce(901,!1)}}return n})();function LQ(n){Ue(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Ej(r),o=[MA({}),{provide:zo,useExisting:hj},...t||[]],s=new th({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return mj({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ue(9)}}var Ef=new WeakSet,mD="",Af=[];function _D(n){return n.get(XC,IL)}function VQ(){let n=[{provide:XC,useFactory:()=>{let e=!0;{let t=q(Ya);e=!!window._ejsas?.[t]}return e&&Us("NgEventReplay"),e}}];return n.push({provide:ec,useValue:()=>{let e=q(co),{injector:t}=e;if(!Ef.has(e)){let r=q($b);if(_D(t)){let i=t.get(Ya);qU(i,(o,s,a)=>{o.nodeType===Node.ELEMENT_NODE&&(UL(o,s,a),jL(o,r))})}}},multi:!0},{provide:Yy,useFactory:()=>{let e=q(co),{injector:t}=e;return()=>{!_D(t)||Ef.has(e)||(Ef.add(e),e.onDestroy(()=>{Ef.delete(e);{let r=t.get(Ya);Gm(r),WU(r)}}),e.whenStable().then(()=>{if(e.destroyed)return;let r=t.get(HL);Cj(r,t);let i=t.get($b);i.get(mD)?.forEach($L),i.delete(mD);let o=r.instance;JL(t)?e.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),n}var Cj=(n,e)=>{let t=e.get(Ya),r=window._ejsas[t],i=n.instance=new Eb(new gf(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=wb(t);i.replayEarlyEventInfos(o),Gm(t);let s=new mf(a=>{Sj(e,a,a.currentTarget)});vb(i,s)};function Sj(n,e,t){let r=(t&&t.getAttribute(mh))??"";/d\d+/.test(r)?Aj(r,n,e,t):e.eventPhase===Wm.REPLAY&&rS(e,t)}function Aj(n,e,t,r){Af.push({event:t,currentTarget:r}),aU(e,n,xj)}function xj(n){let e=[...Af],t=new Set(n);Af=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(mh);t.has(o)?rS(r,i):Af.push({event:r,currentTarget:i})}}var yD=!1;function Pj(){yD||(yD=!0,YL(),LU(),ej(),UU(),qB(),hB(),U2(),OV())}function Rj(n){return n.whenStable()}function BQ(){let n=[{provide:yf,useFactory:()=>{let e=!0;return e=!!q(fh,{optional:!0})?.get(iS,null),e&&Us("NgHydration"),e}},{provide:ec,useValue:()=>{N2(!1),q(yf)&&(rV(dh()),Pj())},multi:!0}];return n.push({provide:QC,useFactory:()=>q(yf)},{provide:Yy,useFactory:()=>{if(q(yf)){let e=q(co);return()=>{Rj(e).then(()=>{e.destroyed||zS(e)})}}return()=>{}},multi:!0}),sc(n)}function UQ(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function jQ(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function kA(n){return vm(n)}function Mj(n,e){return Fd(n,e?.equal)}var iy=class{[er];constructor(e){this[er]=e}destroy(){this[er].destroy()}};function OA(n,e){!e?.injector&&Zu(OA);let t=e?.injector??q(or),r=e?.manualCleanup!==!0?t.get(tl):null,i,o=t.get(Dy,null,{optional:!0}),s=t.get(zo);return o!==null&&!e?.forceRoot?(i=Oj(o.view,s,n),r instanceof jf&&r._lView===o.view&&(r=null)):i=Fj(n,t.get(mA),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new iy(i)}var FA=pn(hn({},ka),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:zu,run(){if(this.dirty=!1,this.hasRun&&!Nd(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=Du(this),t=Lf(!1);try{this.maybeCleanup(),this.fn(n)}finally{Lf(t),Md(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),Nj=pn(hn({},FA),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Cu(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),kj=pn(hn({},FA),{consumerMarkedDirty(){this.view[oe]|=8192,uc(this.view),this.notifier.notify(13)},destroy(){Cu(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Rs]?.delete(this)}});function Oj(n,e,t){let r=Object.create(kj);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[Rs]??=new Set,n[Rs].add(r),r.consumerMarkedDirty(r),r}function Fj(n,e,t){let r=Object.create(Nj);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}function $Q(n,e){let t=Ho(n),r=e.elementInjector||ah();return new rc(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var Ph=new de("");var BA=null;function Rh(){return BA}function Lj(n){BA??=n}var iv=class{},ov=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=je({token:n,factory:()=>q(UA),providedIn:"platform"})}return n})();var UA=(()=>{class n extends ov{_location;_history;_doc=q(Ph);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rh().getBaseHref(this._doc)}onPopState(t){let r=Rh().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Rh().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=je({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function jA(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function LA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Go(n){return n&&n[0]!=="?"?`?${n}`:n}var Mh=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=je({token:n,factory:()=>q(HA),providedIn:"root"})}return n})(),$A=new de(""),HA=(()=>{class n extends Mh{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??q(Ph).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jA(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Go(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Go(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Go(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(gn(ov),gn($A,8))};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zA=(()=>{class n{_subject=new tr;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Uj(LA(VA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Go(r))}normalize(t){return n.stripTrailingSlash(Bj(this._basePath,VA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Go(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Go(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Go;static joinWithSlash=jA;static stripTrailingSlash=LA;static \u0275fac=function(r){return new(r||n)(gn(Mh))};static \u0275prov=je({token:n,factory:()=>Vj(),providedIn:"root"})}return n})();function Vj(){return new zA(gn(Mh))}function Bj(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function VA(n){return n.replace(/\/index.html$/,"")}function Uj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var sv=/\s+/,qA=[],jj=(()=>{class n{_ngEl;_renderer;initialClasses=qA;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(sv):qA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(sv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(sv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(It(gc),It(GS))};static \u0275dir=al({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Nh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Oh=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Nh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),WA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);WA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(It($s),It(Fs),It(rv))};static \u0275dir=al({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function WA(n,e){n.context.$implicit=e.item}var $j=(()=>{class n{_viewContainer;_context=new kh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){GA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){GA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(It($s),It(Fs))};static \u0275dir=al({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),kh=class{$implicit=null;ngIf=null};function GA(n,e){if(n&&!n.createEmbeddedView)throw new Ce(2020,!1)}var Hj=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(It($s))};static \u0275dir=al({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[KD]})}return n})();var av=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=uA({type:n});static \u0275inj=DD({})}return n})();function zj(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var KA="browser",YA="server";function qj(n){return n===KA}function Wj(n){return n===YA}var cv=class{};function lo(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rx(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var lr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_c={duration:.5,overwrite:!1,delay:0},Sv,_n,ft,Hr=1e8,nt=1/Hr,mv=Math.PI*2,Kj=mv/4,Yj=0,ix=Math.sqrt,Qj=Math.cos,Xj=Math.sin,Kt=function(e){return typeof e=="string"},Tt=function(e){return typeof e=="function"},ho=function(e){return typeof e=="number"},qh=function(e){return typeof e>"u"},Vi=function(e){return typeof e=="object"},ur=function(e){return e!==!1},Av=function(){return typeof window<"u"},Fh=function(e){return Tt(e)||Kt(e)},ox=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Dn=Array.isArray,_v=/(?:-?\.?\d|\.)+/gi,xv=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ws=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,uv=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Pv=/[+-]=-?[.\d]+/,sx=/[^,'"\[\]\s]+/gi,Zj=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,mt,Fi,yv,Rv,Tr={},Uh={},ax,cx=function(e){return(Uh=yc(e,Tr))&&Cn},Wh=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},hl=function(e,t){return!t&&console.warn(e)},ux=function(e,t){return e&&(Tr[e]=t)&&Uh&&(Uh[e]=t)||Tr},pl=function(){return 0},Jj={suppressEvents:!0,isStart:!0,kill:!1},Lh={suppressEvents:!0,kill:!1},e$={suppressEvents:!0},Mv={},Yo=[],vv={},lx,ar={},lv={},QA=30,Vh=[],Nv="",kv=function(e){var t=e[0],r,i;if(Vi(t)||Tt(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Vh.length;i--&&!Vh[i].targetTest(t););r=Vh[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Vv(e[i],r)))||e.splice(i,1);return e},Qo=function(e){return e._gsap||kv(zr(e))[0]._gsap},Ov=function(e,t,r){return(r=e[t])&&Tt(r)?e[t]():qh(r)&&e.getAttribute&&e.getAttribute(t)||r},$n=function(e,t){return(e=e.split(",")).forEach(t)||e},bt=function(e){return Math.round(e*1e5)/1e5||0},Bt=function(e){return Math.round(e*1e7)/1e7||0},Gs=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},t$=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},jh=function(){var e=Yo.length,t=Yo.slice(0),r,i;for(vv={},Yo.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Fv=function(e){return!!(e._initted||e._startAt||e.add)},dx=function(e,t,r,i){Yo.length&&!_n&&jh(),e.render(t,r,i||!!(_n&&t<0&&Fv(e))),Yo.length&&!_n&&jh()},fx=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(sx).length<2?t:Kt(e)?e.trim():e},hx=function(e){return e},br=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},n$=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},yc=function(e,t){for(var r in t)e[r]=t[r];return e},XA=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Vi(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},$h=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},ll=function(e){var t=e.parent||mt,r=e.keyframes?n$(Dn(e.keyframes)):br;if(ur(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},r$=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},px=function(e,t,r,i,o){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=e[i],a;if(o)for(a=t[o];s&&s[o]>a;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=s,t.parent=t._dp=e,t},Gh=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=t._prev,s=t._next;o?o._next=s:e[r]===t&&(e[r]=s),s?s._prev=o:e[i]===t&&(e[i]=o),t._next=t._prev=t.parent=null},Xo=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Hs=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},i$=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Ev=function(e,t,r,i){return e._startAt&&(_n?e._startAt.revert(Lh):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},o$=function n(e){return!e||e._ts&&n(e.parent)},ZA=function(e){return e._repeat?vc(e._tTime,e=e.duration()+e._rDelay)*e:0},vc=function(e,t){var r=Math.floor(e=Bt(e/t));return e&&r===e?r-1:r},Hh=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Kh=function(e){return e._end=Bt(e._start+(e._tDur/Math.abs(e._ts||e._rts||nt)||0))},Yh=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Bt(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Kh(e),r._dirty||Hs(r,e)),e},gx=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=Hh(e.rawTime(),t),(!t._dur||_l(0,t.totalDuration(),r)-t._tTime>nt)&&t.render(r,!0)),Hs(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-nt}},Li=function(e,t,r,i){return t.parent&&Xo(t),t._start=Bt((ho(r)?r:r||e!==mt?$r(e,r,t):e._time)+t._delay),t._end=Bt(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),px(e,t,"_first","_last",e._sort?"_start":0),wv(t)||(e._recent=t),i||gx(e,t),e._ts<0&&Yh(e,e._tTime),e},mx=function(e,t){return(Tr.ScrollTrigger||Wh("scrollTrigger",t))&&Tr.ScrollTrigger.create(t,e)},_x=function(e,t,r,i,o){if(jv(e,t,o),!e._initted)return 1;if(!r&&e._pt&&!_n&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&lx!==cr.frame)return Yo.push(e),e._lazy=[o,i],1},s$=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},wv=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},a$=function(e,t,r,i){var o=e.ratio,s=t<0||!t&&(!e._start&&s$(e)&&!(!e._initted&&wv(e))||(e._ts<0||e._dp._ts<0)&&!wv(e))?0:1,a=e._rDelay,c=0,l,d,h;if(a&&e._repeat&&(c=_l(0,e._tDur,t),d=vc(c,a),e._yoyo&&d&1&&(s=1-s),d!==vc(e._tTime,a)&&(o=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==o||_n||i||e._zTime===nt||!t&&e._zTime){if(!e._initted&&_x(e,t,i,r,c))return;for(h=e._zTime,e._zTime=t||(r?nt:0),r||(r=t&&!h),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=c,l=e._pt;l;)l.r(s,l.d),l=l._next;t<0&&Ev(e,t,r,!0),e._onUpdate&&!r&&Ir(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&Ir(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&Xo(e,1),!r&&!_n&&(Ir(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},c$=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Ec=function(e,t,r,i){var o=e._repeat,s=Bt(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=s/e._dur),e._dur=s,e._tDur=o?o<0?1e10:Bt(s*(o+1)+e._rDelay*o):s,a>0&&!i&&Yh(e,e._tTime=e._tDur*a),e.parent&&Kh(e),r||Hs(e.parent,e),e},JA=function(e){return e instanceof mn?Hs(e):Ec(e,e._dur)},u$={_start:0,endTime:pl,totalDuration:pl},$r=function n(e,t,r){var i=e.labels,o=e._recent||u$,s=e.duration()>=Hr?o.endTime(!1):e._dur,a,c,l;return Kt(t)&&(isNaN(t)||t in i)?(c=t.charAt(0),l=t.substr(-1)==="%",a=t.indexOf("="),c==="<"||c===">"?(a>=0&&(t=t.replace(/=/,"")),(c==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(t.substr(1))||0)*(l?(a<0?o:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=s),i[t]):(c=parseFloat(t.charAt(a-1)+t.substr(a+1)),l&&r&&(c=c/100*(Dn(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+c:s+c)):t==null?s:+t},dl=function(e,t,r){var i=ho(t[1]),o=(i?2:1)+(e<2?0:1),s=t[o],a,c;if(i&&(s.duration=t[1]),s.parent=r,e){for(a=s,c=r;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=ur(c.vars.inherit)&&c.parent;s.immediateRender=ur(a.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return new Mt(t[0],s,t[o+1])},Zo=function(e,t){return e||e===0?t(e):t},_l=function(e,t,r){return r<e?e:r>t?t:r},yn=function(e,t){return!Kt(e)||!(t=Zj.exec(e))?"":t[1]},l$=function(e,t,r){return Zo(r,function(i){return _l(e,t,i)})},Iv=[].slice,yx=function(e,t){return e&&Vi(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Vi(e[0]))&&!e.nodeType&&e!==Fi},d$=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var o;return Kt(i)&&!t||yx(i,1)?(o=r).push.apply(o,zr(i)):r.push(i)})||r},zr=function(e,t,r){return ft&&!t&&ft.selector?ft.selector(e):Kt(e)&&!r&&(yv||!wc())?Iv.call((t||Rv).querySelectorAll(e),0):Dn(e)?d$(e,r):yx(e)?Iv.call(e,0):e?[e]:[]},Tv=function(e){return e=zr(e)[0]||hl("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return zr(t,r.querySelectorAll?r:r===e?hl("Invalid scope")||Rv.createElement("div"):e)}},vx=function(e){return e.sort(function(){return .5-Math.random()})},Ex=function(e){if(Tt(e))return e;var t=Vi(e)?e:{each:e},r=zs(t.ease),i=t.from||0,o=parseFloat(t.base)||0,s={},a=i>0&&i<1,c=isNaN(i)||a,l=t.axis,d=i,h=i;return Kt(i)?d=h={center:.5,edges:.5,end:1}[i]||0:!a&&c&&(d=i[0],h=i[1]),function(m,p,_){var y=(_||t).length,b=s[y],A,R,O,N,L,V,I,E,w;if(!b){if(w=t.grid==="auto"?0:(t.grid||[1,Hr])[1],!w){for(I=-Hr;I<(I=_[w++].getBoundingClientRect().left)&&w<y;);w<y&&w--}for(b=s[y]=[],A=c?Math.min(w,y)*d-.5:i%w,R=w===Hr?0:c?y*h/w-.5:i/w|0,I=0,E=Hr,V=0;V<y;V++)O=V%w-A,N=R-(V/w|0),b[V]=L=l?Math.abs(l==="y"?N:O):ix(O*O+N*N),L>I&&(I=L),L<E&&(E=L);i==="random"&&vx(b),b.max=I-E,b.min=E,b.v=y=(parseFloat(t.amount)||parseFloat(t.each)*(w>y?y-1:l?l==="y"?y/w:w:Math.max(w,y/w))||0)*(i==="edges"?-1:1),b.b=y<0?o-y:o,b.u=yn(t.amount||t.each)||0,r=r&&y<0?xx(r):r}return y=(b[m]-b.min)/b.max||0,Bt(b.b+(r?r(y):y)*b.v)+b.u}},bv=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Bt(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(ho(r)?0:yn(r))}},wx=function(e,t){var r=Dn(e),i,o;return!r&&Vi(e)&&(i=r=e.radius||Hr,e.values?(e=zr(e.values),(o=!ho(e[0]))&&(i*=i)):e=bv(e.increment)),Zo(t,r?Tt(e)?function(s){return o=e(s),Math.abs(o-s)<=i?o:s}:function(s){for(var a=parseFloat(o?s.x:s),c=parseFloat(o?s.y:0),l=Hr,d=0,h=e.length,m,p;h--;)o?(m=e[h].x-a,p=e[h].y-c,m=m*m+p*p):m=Math.abs(e[h]-a),m<l&&(l=m,d=h);return d=!i||l<=i?e[d]:s,o||d===s||ho(s)?d:d+yn(s)}:bv(e))},Ix=function(e,t,r,i){return Zo(Dn(e)?!t:r===!0?!!(r=0):!i,function(){return Dn(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},f$=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(o,s){return s(o)},i)}},h$=function(e,t){return function(r){return e(parseFloat(r))+(t||yn(r))}},p$=function(e,t,r){return bx(e,t,0,1,r)},Tx=function(e,t,r){return Zo(r,function(i){return e[~~t(i)]})},g$=function n(e,t,r){var i=t-e;return Dn(e)?Tx(e,n(0,e.length),t):Zo(r,function(o){return(i+(o-e)%i)%i+e})},m$=function n(e,t,r){var i=t-e,o=i*2;return Dn(e)?Tx(e,n(0,e.length-1),t):Zo(r,function(s){return s=(o+(s-e)%o)%o||0,e+(s>i?o-s:s)})},Ic=function(e){for(var t=0,r="",i,o,s,a;~(i=e.indexOf("random(",t));)s=e.indexOf(")",i),a=e.charAt(i+7)==="[",o=e.substr(i+7,s-i-7).match(a?sx:_v),r+=e.substr(t,i-t)+Ix(a?o:+o[0],a?0:+o[1],+o[2]||1e-5),t=s+1;return r+e.substr(t,e.length-t)},bx=function(e,t,r,i,o){var s=t-e,a=i-r;return Zo(o,function(c){return r+((c-e)/s*a||0)})},_$=function n(e,t,r,i){var o=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!o){var s=Kt(e),a={},c,l,d,h,m;if(r===!0&&(i=1)&&(r=null),s)e={p:e},t={p:t};else if(Dn(e)&&!Dn(t)){for(d=[],h=e.length,m=h-2,l=1;l<h;l++)d.push(n(e[l-1],e[l]));h--,o=function(_){_*=h;var y=Math.min(m,~~_);return d[y](_-y)},r=t}else i||(e=yc(Dn(e)?[]:{},e));if(!d){for(c in t)Bv.call(a,e,c,"get",t[c]);o=function(_){return zv(_,a)||(s?e.p:e)}}}return Zo(r,o)},ex=function(e,t,r){var i=e.labels,o=Hr,s,a,c;for(s in i)a=i[s]-t,a<0==!!r&&a&&o>(a=Math.abs(a))&&(c=s,o=a);return c},Ir=function(e,t,r){var i=e.vars,o=i[t],s=ft,a=e._ctx,c,l,d;if(o)return c=i[t+"Params"],l=i.callbackScope||e,r&&Yo.length&&jh(),a&&(ft=a),d=c?o.apply(l,c):o.call(l),ft=s,d},cl=function(e){return Xo(e),e.scrollTrigger&&e.scrollTrigger.kill(!!_n),e.progress()<1&&Ir(e,"onInterrupt"),e},mc,Dx=[],Cx=function(e){if(e)if(e=!e.name&&e.default||e,Av()||e.headless){var t=e.name,r=Tt(e),i=t&&!r&&e.init?function(){this._props=[]}:e,o={init:pl,render:zv,add:Bv,kill:N$,modifier:M$,rawVars:0},s={targetTest:0,get:0,getSetter:Qh,aliases:{},register:0};if(wc(),e!==i){if(ar[t])return;br(i,br($h(e,o),s)),yc(i.prototype,yc(o,$h(e,s))),ar[i.prop=t]=i,e.targetTest&&(Vh.push(i),Mv[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}ux(t,i),e.register&&e.register(Cn,i,Hn)}else Dx.push(e)},tt=255,ul={aqua:[0,tt,tt],lime:[0,tt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,tt],navy:[0,0,128],white:[tt,tt,tt],olive:[128,128,0],yellow:[tt,tt,0],orange:[tt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[tt,0,0],pink:[tt,192,203],cyan:[0,tt,tt],transparent:[tt,tt,tt,0]},dv=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*tt+.5|0},Sx=function(e,t,r){var i=e?ho(e)?[e>>16,e>>8&tt,e&tt]:0:ul.black,o,s,a,c,l,d,h,m,p,_;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ul[e])i=ul[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),s=e.charAt(2),a=e.charAt(3),e="#"+o+o+s+s+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&tt,i&tt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&tt,e&tt]}else if(e.substr(0,3)==="hsl"){if(i=_=e.match(_v),!t)c=+i[0]%360/360,l=+i[1]/100,d=+i[2]/100,s=d<=.5?d*(l+1):d+l-d*l,o=d*2-s,i.length>3&&(i[3]*=1),i[0]=dv(c+1/3,o,s),i[1]=dv(c,o,s),i[2]=dv(c-1/3,o,s);else if(~e.indexOf("="))return i=e.match(xv),r&&i.length<4&&(i[3]=1),i}else i=e.match(_v)||ul.transparent;i=i.map(Number)}return t&&!_&&(o=i[0]/tt,s=i[1]/tt,a=i[2]/tt,h=Math.max(o,s,a),m=Math.min(o,s,a),d=(h+m)/2,h===m?c=l=0:(p=h-m,l=d>.5?p/(2-h-m):p/(h+m),c=h===o?(s-a)/p+(s<a?6:0):h===s?(a-o)/p+2:(o-s)/p+4,c*=60),i[0]=~~(c+.5),i[1]=~~(l*100+.5),i[2]=~~(d*100+.5)),r&&i.length<4&&(i[3]=1),i},Ax=function(e){var t=[],r=[],i=-1;return e.split(fo).forEach(function(o){var s=o.match(Ws)||[];t.push.apply(t,s),r.push(i+=s.length+1)}),t.c=r,t},tx=function(e,t,r){var i="",o=(e+i).match(fo),s=t?"hsla(":"rgba(",a=0,c,l,d,h;if(!o)return e;if(o=o.map(function(m){return(m=Sx(m,t,1))&&s+(t?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),r&&(d=Ax(e),c=r.c,c.join(i)!==d.c.join(i)))for(l=e.replace(fo,"1").split(Ws),h=l.length-1;a<h;a++)i+=l[a]+(~c.indexOf(a)?o.shift()||s+"0,0,0,0)":(d.length?d:o.length?o:r).shift());if(!l)for(l=e.split(fo),h=l.length-1;a<h;a++)i+=l[a]+o[a];return i+l[h]},fo=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ul)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),y$=/hsl[a]?\(/,Lv=function(e){var t=e.join(" "),r;if(fo.lastIndex=0,fo.test(t))return r=y$.test(t),e[1]=tx(e[1],r),e[0]=tx(e[0],r,Ax(e[1])),!0},gl,cr=function(){var n=Date.now,e=500,t=33,r=n(),i=r,o=1e3/240,s=o,a=[],c,l,d,h,m,p,_=function y(b){var A=n()-i,R=b===!0,O,N,L,V;if((A>e||A<0)&&(r+=A-t),i+=A,L=i-r,O=L-s,(O>0||R)&&(V=++h.frame,m=L-h.time*1e3,h.time=L=L/1e3,s+=O+(O>=o?4:o-O),N=1),R||(c=l(y)),N)for(p=0;p<a.length;p++)a[p](L,m,V,b)};return h={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(b){return m/(1e3/(b||60))},wake:function(){ax&&(!yv&&Av()&&(Fi=yv=window,Rv=Fi.document||{},Tr.gsap=Cn,(Fi.gsapVersions||(Fi.gsapVersions=[])).push(Cn.version),cx(Uh||Fi.GreenSockGlobals||!Fi.gsap&&Fi||{}),Dx.forEach(Cx)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&h.sleep(),l=d||function(b){return setTimeout(b,s-h.time*1e3+1|0)},gl=1,_(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),gl=0,l=pl},lagSmoothing:function(b,A){e=b||1/0,t=Math.min(A||33,e)},fps:function(b){o=1e3/(b||240),s=h.time*1e3+o},add:function(b,A,R){var O=A?function(N,L,V,I){b(N,L,V,I),h.remove(O)}:b;return h.remove(b),a[R?"unshift":"push"](O),wc(),O},remove:function(b,A){~(A=a.indexOf(b))&&a.splice(A,1)&&p>=A&&p--},_listeners:a},h}(),wc=function(){return!gl&&cr.wake()},Ne={},v$=/^[\d.\-M][\d.\-,\s]/,E$=/["']/g,w$=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],o=1,s=r.length,a,c,l;o<s;o++)c=r[o],a=o!==s-1?c.lastIndexOf(","):c.length,l=c.substr(0,a),t[i]=isNaN(l)?l.replace(E$,"").trim():+l,i=c.substr(a+1).trim();return t},I$=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},T$=function(e){var t=(e+"").split("("),r=Ne[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[w$(t[1])]:I$(e).split(",").map(fx)):Ne._CE&&v$.test(e)?Ne._CE("",e):r},xx=function(e){return function(t){return 1-e(1-t)}},Px=function n(e,t){for(var r=e._first,i;r;)r instanceof mn?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},zs=function(e,t){return e&&(Tt(e)?e:Ne[e]||T$(e))||t},Ks=function(e,t,r,i){r===void 0&&(r=function(c){return 1-t(1-c)}),i===void 0&&(i=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var o={easeIn:t,easeOut:r,easeInOut:i},s;return $n(e,function(a){Ne[a]=Tr[a]=o,Ne[s=a.toLowerCase()]=r;for(var c in o)Ne[s+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Ne[a+"."+c]=o[c]}),o},Rx=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},fv=function n(e,t,r){var i=t>=1?t:1,o=(r||(e?.3:.45))/(t<1?t:1),s=o/mv*(Math.asin(1/i)||0),a=function(d){return d===1?1:i*Math.pow(2,-10*d)*Xj((d-s)*o)+1},c=e==="out"?a:e==="in"?function(l){return 1-a(1-l)}:Rx(a);return o=mv/o,c.config=function(l,d){return n(e,l,d)},c},hv=function n(e,t){t===void 0&&(t=1.70158);var r=function(s){return s?--s*s*((t+1)*s+t)+1:0},i=e==="out"?r:e==="in"?function(o){return 1-r(1-o)}:Rx(r);return i.config=function(o){return n(e,o)},i};$n("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Ks(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Ne.Linear.easeNone=Ne.none=Ne.Linear.easeIn;Ks("Elastic",fv("in"),fv("out"),fv());(function(n,e){var t=1/e,r=2*t,i=2.5*t,o=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Ks("Bounce",function(s){return 1-o(1-s)},o)})(7.5625,2.75);Ks("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Ks("Circ",function(n){return-(ix(1-n*n)-1)});Ks("Sine",function(n){return n===1?1:-Qj(n*Kj)+1});Ks("Back",hv("in"),hv("out"),hv());Ne.SteppedEase=Ne.steps=Tr.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),o=t?1:0,s=1-nt;return function(a){return((i*_l(0,s,a)|0)+o)*r}}};_c.ease=Ne["quad.out"];$n("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Nv+=n+","+n+"Params,"});var Vv=function(e,t){this.id=Yj++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Ov,this.set=t?t.getSetter:Qh},ml=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Ec(this,+t.duration,1,1),this.data=t.data,ft&&(this._ctx=ft,ft.data.push(this)),gl||cr.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Ec(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(wc(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(Yh(this,r),!o._dp||o.parent||gx(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Li(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===nt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),dx(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+ZA(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+ZA(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*o,i):this._repeat?vc(this._tTime,o)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-nt?0:this._rts;if(this._rts===r)return this;var o=this.parent&&this._ts?Hh(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-nt?0:this._rts,this.totalTime(_l(-Math.abs(this._delay),this.totalDuration(),o),i!==!1),Kh(this),i$(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(wc(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==nt&&(this._tTime-=nt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Li(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(ur(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Hh(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=e$);var i=_n;return _n=r,Fv(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),_n=i,this},e.globalTime=function(r){for(var i=this,o=arguments.length?r:i.rawTime();i;)o=i._start+o/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):o},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,JA(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,JA(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime($r(this,r),ur(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,ur(i)),this._dur||(this._zTime=-nt),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-nt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-nt,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,o;return!!(!r||this._ts&&this._initted&&r.isActive()&&(o=r.rawTime(!0))>=i&&o<this.endTime(!0)-nt)},e.eventCallback=function(r,i,o){var s=this.vars;return arguments.length>1?(i?(s[r]=i,o&&(s[r+"Params"]=o),r==="onUpdate"&&(this._onUpdate=i)):delete s[r],this):s[r]},e.then=function(r){var i=this;return new Promise(function(o){var s=Tt(r)?r:hx,a=function(){var l=i.then;i.then=null,Tt(s)&&(s=s(i))&&(s.then||s===i)&&(i.then=l),o(s),i.then=l};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){cl(this)},n}();br(ml.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-nt,_prom:0,_ps:!1,_rts:1});var mn=function(n){rx(e,n);function e(r,i){var o;return r===void 0&&(r={}),o=n.call(this,r)||this,o.labels={},o.smoothChildTiming=!!r.smoothChildTiming,o.autoRemoveChildren=!!r.autoRemoveChildren,o._sort=ur(r.sortChildren),mt&&Li(r.parent||mt,lo(o),i),r.reversed&&o.reverse(),r.paused&&o.paused(!0),r.scrollTrigger&&mx(lo(o),r.scrollTrigger),o}var t=e.prototype;return t.to=function(i,o,s){return dl(0,arguments,this),this},t.from=function(i,o,s){return dl(1,arguments,this),this},t.fromTo=function(i,o,s,a){return dl(2,arguments,this),this},t.set=function(i,o,s){return o.duration=0,o.parent=this,ll(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Mt(i,o,$r(this,s),1),this},t.call=function(i,o,s){return Li(this,Mt.delayedCall(0,i,o),s)},t.staggerTo=function(i,o,s,a,c,l,d){return s.duration=o,s.stagger=s.stagger||a,s.onComplete=l,s.onCompleteParams=d,s.parent=this,new Mt(i,s,$r(this,c)),this},t.staggerFrom=function(i,o,s,a,c,l,d){return s.runBackwards=1,ll(s).immediateRender=ur(s.immediateRender),this.staggerTo(i,o,s,a,c,l,d)},t.staggerFromTo=function(i,o,s,a,c,l,d,h){return a.startAt=s,ll(a).immediateRender=ur(a.immediateRender),this.staggerTo(i,o,a,c,l,d,h)},t.render=function(i,o,s){var a=this._time,c=this._dirty?this.totalDuration():this._tDur,l=this._dur,d=i<=0?0:Bt(i),h=this._zTime<0!=i<0&&(this._initted||!l),m,p,_,y,b,A,R,O,N,L,V,I;if(this!==mt&&d>c&&i>=0&&(d=c),d!==this._tTime||s||h){if(a!==this._time&&l&&(d+=this._time-a,i+=this._time-a),m=d,N=this._start,O=this._ts,A=!O,h&&(l||(a=this._zTime),(i||!o)&&(this._zTime=i)),this._repeat){if(V=this._yoyo,b=l+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(b*100+i,o,s);if(m=Bt(d%b),d===c?(y=this._repeat,m=l):(L=Bt(d/b),y=~~L,y&&y===L&&(m=l,y--),m>l&&(m=l)),L=vc(this._tTime,b),!a&&this._tTime&&L!==y&&this._tTime-L*b-this._dur<=0&&(L=y),V&&y&1&&(m=l-m,I=1),y!==L&&!this._lock){var E=V&&L&1,w=E===(V&&y&1);if(y<L&&(E=!E),a=E?0:d%l?l:d,this._lock=1,this.render(a||(I?0:Bt(y*b)),o,!l)._lock=0,this._tTime=d,!o&&this.parent&&Ir(this,"onRepeat"),this.vars.repeatRefresh&&!I&&(this.invalidate()._lock=1),a&&a!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,c=this._tDur,w&&(this._lock=2,a=E?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!I&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;Px(this,I)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(R=c$(this,Bt(a),Bt(m)),R&&(d-=m-(m=R._start))),this._tTime=d,this._time=m,this._act=!O,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&d&&!o&&!L&&(Ir(this,"onStart"),this._tTime!==d))return this;if(m>=a&&i>=0)for(p=this._first;p;){if(_=p._next,(p._act||m>=p._start)&&p._ts&&R!==p){if(p.parent!==this)return this.render(i,o,s);if(p.render(p._ts>0?(m-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(m-p._start)*p._ts,o,s),m!==this._time||!this._ts&&!A){R=0,_&&(d+=this._zTime=-nt);break}}p=_}else{p=this._last;for(var T=i<0?i:m;p;){if(_=p._prev,(p._act||T<=p._end)&&p._ts&&R!==p){if(p.parent!==this)return this.render(i,o,s);if(p.render(p._ts>0?(T-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(T-p._start)*p._ts,o,s||_n&&Fv(p)),m!==this._time||!this._ts&&!A){R=0,_&&(d+=this._zTime=T?-nt:nt);break}}p=_}}if(R&&!o&&(this.pause(),R.render(m>=a?0:-nt)._zTime=m>=a?1:-1,this._ts))return this._start=N,Kh(this),this.render(i,o,s);this._onUpdate&&!o&&Ir(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&a)&&(N===this._start||Math.abs(O)!==Math.abs(this._ts))&&(this._lock||((i||!l)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Xo(this,1),!o&&!(i<0&&!a)&&(d||a||!c)&&(Ir(this,d===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,o){var s=this;if(ho(o)||(o=$r(this,o,i)),!(i instanceof ml)){if(Dn(i))return i.forEach(function(a){return s.add(a,o)}),this;if(Kt(i))return this.addLabel(i,o);if(Tt(i))i=Mt.delayedCall(0,i);else return this}return this!==i?Li(this,i,o):this},t.getChildren=function(i,o,s,a){i===void 0&&(i=!0),o===void 0&&(o=!0),s===void 0&&(s=!0),a===void 0&&(a=-Hr);for(var c=[],l=this._first;l;)l._start>=a&&(l instanceof Mt?o&&c.push(l):(s&&c.push(l),i&&c.push.apply(c,l.getChildren(!0,o,s)))),l=l._next;return c},t.getById=function(i){for(var o=this.getChildren(1,1,1),s=o.length;s--;)if(o[s].vars.id===i)return o[s]},t.remove=function(i){return Kt(i)?this.removeLabel(i):Tt(i)?this.killTweensOf(i):(i.parent===this&&Gh(this,i),i===this._recent&&(this._recent=this._last),Hs(this))},t.totalTime=function(i,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Bt(cr.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,o),this._forcing=0,this):this._tTime},t.addLabel=function(i,o){return this.labels[i]=$r(this,o),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,o,s){var a=Mt.delayedCall(0,o||pl,s);return a.data="isPause",this._hasPause=1,Li(this,a,$r(this,i))},t.removePause=function(i){var o=this._first;for(i=$r(this,i);o;)o._start===i&&o.data==="isPause"&&Xo(o),o=o._next},t.killTweensOf=function(i,o,s){for(var a=this.getTweensOf(i,s),c=a.length;c--;)Ko!==a[c]&&a[c].kill(i,o);return this},t.getTweensOf=function(i,o){for(var s=[],a=zr(i),c=this._first,l=ho(o),d;c;)c instanceof Mt?t$(c._targets,a)&&(l?(!Ko||c._initted&&c._ts)&&c.globalTime(0)<=o&&c.globalTime(c.totalDuration())>o:!o||c.isActive())&&s.push(c):(d=c.getTweensOf(a,o)).length&&s.push.apply(s,d),c=c._next;return s},t.tweenTo=function(i,o){o=o||{};var s=this,a=$r(s,i),c=o,l=c.startAt,d=c.onStart,h=c.onStartParams,m=c.immediateRender,p,_=Mt.to(s,br({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:o.duration||Math.abs((a-(l&&"time"in l?l.time:s._time))/s.timeScale())||nt,onStart:function(){if(s.pause(),!p){var b=o.duration||Math.abs((a-(l&&"time"in l?l.time:s._time))/s.timeScale());_._dur!==b&&Ec(_,b,0,1).render(_._time,!0,!0),p=1}d&&d.apply(_,h||[])}},o));return m?_.render(0):_},t.tweenFromTo=function(i,o,s){return this.tweenTo(o,br({startAt:{time:$r(this,i)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),ex(this,$r(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),ex(this,$r(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+nt)},t.shiftChildren=function(i,o,s){s===void 0&&(s=0);for(var a=this._first,c=this.labels,l;a;)a._start>=s&&(a._start+=i,a._end+=i),a=a._next;if(o)for(l in c)c[l]>=s&&(c[l]+=i);return Hs(this)},t.invalidate=function(i){var o=this._first;for(this._lock=0;o;)o.invalidate(i),o=o._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var o=this._first,s;o;)s=o._next,this.remove(o),o=s;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Hs(this)},t.totalDuration=function(i){var o=0,s=this,a=s._last,c=Hr,l,d,h;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-i:i));if(s._dirty){for(h=s.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),d=a._start,d>c&&s._sort&&a._ts&&!s._lock?(s._lock=1,Li(s,a,d-a._delay,1)._lock=0):c=d,d<0&&a._ts&&(o-=d,(!h&&!s._dp||h&&h.smoothChildTiming)&&(s._start+=d/s._ts,s._time-=d,s._tTime-=d),s.shiftChildren(-d,!1,-1/0),c=0),a._end>o&&a._ts&&(o=a._end),a=l;Ec(s,s===mt&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(i){if(mt._ts&&(dx(mt,Hh(i,mt)),lx=cr.frame),cr.frame>=QA){QA+=lr.autoSleep||120;var o=mt._first;if((!o||!o._ts)&&lr.autoSleep&&cr._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||cr.sleep()}}},e}(ml);br(mn.prototype,{_lock:0,_hasPause:0,_forcing:0});var b$=function(e,t,r,i,o,s,a){var c=new Hn(this._pt,e,t,0,1,Hv,null,o),l=0,d=0,h,m,p,_,y,b,A,R;for(c.b=r,c.e=i,r+="",i+="",(A=~i.indexOf("random("))&&(i=Ic(i)),s&&(R=[r,i],s(R,e,t),r=R[0],i=R[1]),m=r.match(uv)||[];h=uv.exec(i);)_=h[0],y=i.substring(l,h.index),p?p=(p+1)%5:y.substr(-5)==="rgba("&&(p=1),_!==m[d++]&&(b=parseFloat(m[d-1])||0,c._pt={_next:c._pt,p:y||d===1?y:",",s:b,c:_.charAt(1)==="="?Gs(b,_)-b:parseFloat(_)-b,m:p&&p<4?Math.round:0},l=uv.lastIndex);return c.c=l<i.length?i.substring(l,i.length):"",c.fp=a,(Pv.test(i)||A)&&(c.e=0),this._pt=c,c},Bv=function(e,t,r,i,o,s,a,c,l,d){Tt(i)&&(i=i(o||0,e,s));var h=e[t],m=r!=="get"?r:Tt(h)?l?e[t.indexOf("set")||!Tt(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,p=Tt(h)?l?x$:kx:$v,_;if(Kt(i)&&(~i.indexOf("random(")&&(i=Ic(i)),i.charAt(1)==="="&&(_=Gs(m,i)+(yn(m)||0),(_||_===0)&&(i=_))),!d||m!==i||Dv)return!isNaN(m*i)&&i!==""?(_=new Hn(this._pt,e,t,+m||0,i-(m||0),typeof h=="boolean"?R$:Ox,0,p),l&&(_.fp=l),a&&_.modifier(a,this,e),this._pt=_):(!h&&!(t in e)&&Wh(t,i),b$.call(this,e,t,m,i,p,c||lr.stringFilter,l))},D$=function(e,t,r,i,o){if(Tt(e)&&(e=fl(e,o,t,r,i)),!Vi(e)||e.style&&e.nodeType||Dn(e)||ox(e))return Kt(e)?fl(e,o,t,r,i):e;var s={},a;for(a in e)s[a]=fl(e[a],o,t,r,i);return s},Uv=function(e,t,r,i,o,s){var a,c,l,d;if(ar[e]&&(a=new ar[e]).init(o,a.rawVars?t[e]:D$(t[e],i,o,s,r),r,i,s)!==!1&&(r._pt=c=new Hn(r._pt,o,e,0,1,a.render,a,0,a.priority),r!==mc))for(l=r._ptLookup[r._targets.indexOf(o)],d=a._props.length;d--;)l[a._props[d]]=c;return a},Ko,Dv,jv=function n(e,t,r){var i=e.vars,o=i.ease,s=i.startAt,a=i.immediateRender,c=i.lazy,l=i.onUpdate,d=i.runBackwards,h=i.yoyoEase,m=i.keyframes,p=i.autoRevert,_=e._dur,y=e._startAt,b=e._targets,A=e.parent,R=A&&A.data==="nested"?A.vars.targets:b,O=e._overwrite==="auto"&&!Sv,N=e.timeline,L,V,I,E,w,T,S,C,D,ne,ge,we,Y;if(N&&(!m||!o)&&(o="none"),e._ease=zs(o,_c.ease),e._yEase=h?xx(zs(h===!0?o:h,_c.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!N&&!!i.runBackwards,!N||m&&!i.stagger){if(C=b[0]?Qo(b[0]).harness:0,we=C&&i[C.prop],L=$h(i,Mv),y&&(y._zTime<0&&y.progress(1),t<0&&d&&a&&!p?y.render(-1,!0):y.revert(d&&_?Lh:Jj),y._lazy=0),s){if(Xo(e._startAt=Mt.set(b,br({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!y&&ur(c),startAt:null,delay:0,onUpdate:l&&function(){return Ir(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_n||!a&&!p)&&e._startAt.revert(Lh),a&&_&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(d&&_&&!y){if(t&&(a=!1),I=br({overwrite:!1,data:"isFromStart",lazy:a&&!y&&ur(c),immediateRender:a,stagger:0,parent:A},L),we&&(I[C.prop]=we),Xo(e._startAt=Mt.set(b,I)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_n?e._startAt.revert(Lh):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,nt,nt);else if(!t)return}for(e._pt=e._ptCache=0,c=_&&ur(c)||c&&!_,V=0;V<b.length;V++){if(w=b[V],S=w._gsap||kv(b)[V]._gsap,e._ptLookup[V]=ne={},vv[S.id]&&Yo.length&&jh(),ge=R===b?V:R.indexOf(w),C&&(D=new C).init(w,we||L,e,ge,R)!==!1&&(e._pt=E=new Hn(e._pt,w,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(Ie){ne[Ie]=E}),D.priority&&(T=1)),!C||we)for(I in L)ar[I]&&(D=Uv(I,L,e,ge,w,R))?D.priority&&(T=1):ne[I]=E=Bv.call(e,w,I,"get",L[I],ge,R,0,i.stringFilter);e._op&&e._op[V]&&e.kill(w,e._op[V]),O&&e._pt&&(Ko=e,mt.killTweensOf(w,ne,e.globalTime(t)),Y=!e.parent,Ko=0),e._pt&&c&&(vv[S.id]=1)}T&&qv(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!Y,m&&t<=0&&N.render(Hr,!0,!0)},C$=function(e,t,r,i,o,s,a,c){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],d,h,m,p;if(!l)for(l=e._ptCache[t]=[],m=e._ptLookup,p=e._targets.length;p--;){if(d=m[p][t],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==t&&d.fp!==t;)d=d._next;if(!d)return Dv=1,e.vars[t]="+=0",jv(e,a),Dv=0,c?hl(t+" not eligible for reset"):1;l.push(d)}for(p=l.length;p--;)h=l[p],d=h._pt||h,d.s=(i||i===0)&&!o?i:d.s+(i||0)+s*d.c,d.c=r-d.s,h.e&&(h.e=bt(r)+yn(h.e)),h.b&&(h.b=d.s+yn(h.b))},S$=function(e,t){var r=e[0]?Qo(e[0]).harness:0,i=r&&r.aliases,o,s,a,c;if(!i)return t;o=yc({},t);for(s in i)if(s in o)for(c=i[s].split(","),a=c.length;a--;)o[c[a]]=o[s];return o},A$=function(e,t,r,i){var o=t.ease||i||"power1.inOut",s,a;if(Dn(t))a=r[e]||(r[e]=[]),t.forEach(function(c,l){return a.push({t:l/(t.length-1)*100,v:c,e:o})});else for(s in t)a=r[s]||(r[s]=[]),s==="ease"||a.push({t:parseFloat(e),v:t[s],e:o})},fl=function(e,t,r,i,o){return Tt(e)?e.call(t,r,i,o):Kt(e)&&~e.indexOf("random(")?Ic(e):e},Mx=Nv+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Nx={};$n(Mx+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return Nx[n]=1});var Mt=function(n){rx(e,n);function e(r,i,o,s){var a;typeof i=="number"&&(o.duration=i,i=o,o=null),a=n.call(this,s?i:ll(i))||this;var c=a.vars,l=c.duration,d=c.delay,h=c.immediateRender,m=c.stagger,p=c.overwrite,_=c.keyframes,y=c.defaults,b=c.scrollTrigger,A=c.yoyoEase,R=i.parent||mt,O=(Dn(r)||ox(r)?ho(r[0]):"length"in i)?[r]:zr(r),N,L,V,I,E,w,T,S;if(a._targets=O.length?kv(O):hl("GSAP target "+r+" not found. https://gsap.com",!lr.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,_||m||Fh(l)||Fh(d)){if(i=a.vars,N=a.timeline=new mn({data:"nested",defaults:y||{},targets:R&&R.data==="nested"?R.vars.targets:O}),N.kill(),N.parent=N._dp=lo(a),N._start=0,m||Fh(l)||Fh(d)){if(I=O.length,T=m&&Ex(m),Vi(m))for(E in m)~Mx.indexOf(E)&&(S||(S={}),S[E]=m[E]);for(L=0;L<I;L++)V=$h(i,Nx),V.stagger=0,A&&(V.yoyoEase=A),S&&yc(V,S),w=O[L],V.duration=+fl(l,lo(a),L,w,O),V.delay=(+fl(d,lo(a),L,w,O)||0)-a._delay,!m&&I===1&&V.delay&&(a._delay=d=V.delay,a._start+=d,V.delay=0),N.to(w,V,T?T(L,w,O):0),N._ease=Ne.none;N.duration()?l=d=0:a.timeline=0}else if(_){ll(br(N.vars.defaults,{ease:"none"})),N._ease=zs(_.ease||i.ease||"none");var C=0,D,ne,ge;if(Dn(_))_.forEach(function(we){return N.to(O,we,">")}),N.duration();else{V={};for(E in _)E==="ease"||E==="easeEach"||A$(E,_[E],V,_.easeEach);for(E in V)for(D=V[E].sort(function(we,Y){return we.t-Y.t}),C=0,L=0;L<D.length;L++)ne=D[L],ge={ease:ne.e,duration:(ne.t-(L?D[L-1].t:0))/100*l},ge[E]=ne.v,N.to(O,ge,C),C+=ge.duration;N.duration()<l&&N.to({},{duration:l-N.duration()})}}l||a.duration(l=N.duration())}else a.timeline=0;return p===!0&&!Sv&&(Ko=lo(a),mt.killTweensOf(O),Ko=0),Li(R,lo(a),o),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(h||!l&&!_&&a._start===Bt(R._time)&&ur(h)&&o$(lo(a))&&R.data!=="nested")&&(a._tTime=-nt,a.render(Math.max(0,-d)||0)),b&&mx(lo(a),b),a}var t=e.prototype;return t.render=function(i,o,s){var a=this._time,c=this._tDur,l=this._dur,d=i<0,h=i>c-nt&&!d?c:i<nt?0:i,m,p,_,y,b,A,R,O,N;if(!l)a$(this,i,o,s);else if(h!==this._tTime||!i||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(m=h,O=this.timeline,this._repeat){if(y=l+this._rDelay,this._repeat<-1&&d)return this.totalTime(y*100+i,o,s);if(m=Bt(h%y),h===c?(_=this._repeat,m=l):(b=Bt(h/y),_=~~b,_&&_===b?(m=l,_--):m>l&&(m=l)),A=this._yoyo&&_&1,A&&(N=this._yEase,m=l-m),b=vc(this._tTime,y),m===a&&!s&&this._initted&&_===b)return this._tTime=h,this;_!==b&&(O&&this._yEase&&Px(O,A),this.vars.repeatRefresh&&!A&&!this._lock&&m!==y&&this._initted&&(this._lock=s=1,this.render(Bt(y*_),!0).invalidate()._lock=0))}if(!this._initted){if(_x(this,d?i:m,s,o,h))return this._tTime=0,this;if(a!==this._time&&!(s&&this.vars.repeatRefresh&&_!==b))return this;if(l!==this._dur)return this.render(i,o,s)}if(this._tTime=h,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=R=(N||this._ease)(m/l),this._from&&(this.ratio=R=1-R),!a&&h&&!o&&!b&&(Ir(this,"onStart"),this._tTime!==h))return this;for(p=this._pt;p;)p.r(R,p.d),p=p._next;O&&O.render(i<0?i:O._dur*O._ease(m/this._dur),o,s)||this._startAt&&(this._zTime=i),this._onUpdate&&!o&&(d&&Ev(this,i,o,s),Ir(this,"onUpdate")),this._repeat&&_!==b&&this.vars.onRepeat&&!o&&this.parent&&Ir(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(d&&!this._onUpdate&&Ev(this,i,!0,!0),(i||!l)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Xo(this,1),!o&&!(d&&!a)&&(h||a||A)&&(Ir(this,h===c?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,o,s,a,c){gl||cr.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||jv(this,l),d=this._ease(l/this._dur),C$(this,i,o,s,a,d,l,c)?this.resetTo(i,o,s,a,1):(Yh(this,0),this.parent||px(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,o){if(o===void 0&&(o="all"),!i&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?cl(this):this.scrollTrigger&&this.scrollTrigger.kill(!!_n),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(i,o,Ko&&Ko.vars.overwrite!==!0)._first||cl(this),this.parent&&s!==this.timeline.totalDuration()&&Ec(this,this._dur*this.timeline._tDur/s,0,1),this}var a=this._targets,c=i?zr(i):a,l=this._ptLookup,d=this._pt,h,m,p,_,y,b,A;if((!o||o==="all")&&r$(a,c))return o==="all"&&(this._pt=0),cl(this);for(h=this._op=this._op||[],o!=="all"&&(Kt(o)&&(y={},$n(o,function(R){return y[R]=1}),o=y),o=S$(a,o)),A=a.length;A--;)if(~c.indexOf(a[A])){m=l[A],o==="all"?(h[A]=o,_=m,p={}):(p=h[A]=h[A]||{},_=o);for(y in _)b=m&&m[y],b&&((!("kill"in b.d)||b.d.kill(y)===!0)&&Gh(this,b,"_pt"),delete m[y]),p!=="all"&&(p[y]=1)}return this._initted&&!this._pt&&d&&cl(this),this},e.to=function(i,o){return new e(i,o,arguments[2])},e.from=function(i,o){return dl(1,arguments)},e.delayedCall=function(i,o,s,a){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:o,onReverseComplete:o,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},e.fromTo=function(i,o,s){return dl(2,arguments)},e.set=function(i,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(i,o)},e.killTweensOf=function(i,o,s){return mt.killTweensOf(i,o,s)},e}(ml);br(Mt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});$n("staggerTo,staggerFrom,staggerFromTo",function(n){Mt[n]=function(){var e=new mn,t=Iv.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var $v=function(e,t,r){return e[t]=r},kx=function(e,t,r){return e[t](r)},x$=function(e,t,r,i){return e[t](i.fp,r)},P$=function(e,t,r){return e.setAttribute(t,r)},Qh=function(e,t){return Tt(e[t])?kx:qh(e[t])&&e.setAttribute?P$:$v},Ox=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},R$=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Hv=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},zv=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},M$=function(e,t,r,i){for(var o=this._pt,s;o;)s=o._next,o.p===i&&o.modifier(e,t,r),o=s},N$=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?Gh(this,t,"_pt"):t.dep||(r=1),t=i;return!r},k$=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},qv=function(e){for(var t=e._pt,r,i,o,s;t;){for(r=t._next,i=o;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:s)?t._prev._next=t:o=t,(t._next=i)?i._prev=t:s=t,t=r}e._pt=o},Hn=function(){function n(t,r,i,o,s,a,c,l,d){this.t=r,this.s=o,this.c=s,this.p=i,this.r=a||Ox,this.d=c||this,this.set=l||$v,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,o){this.mSet=this.mSet||this.set,this.set=k$,this.m=r,this.mt=o,this.tween=i},n}();$n(Nv+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Mv[n]=1});Tr.TweenMax=Tr.TweenLite=Mt;Tr.TimelineLite=Tr.TimelineMax=mn;mt=new mn({sortChildren:!1,defaults:_c,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});lr.stringFilter=Lv;var qs=[],Bh={},O$=[],nx=0,F$=0,pv=function(e){return(Bh[e]||O$).map(function(t){return t()})},Cv=function(){var e=Date.now(),t=[];e-nx>2&&(pv("matchMediaInit"),qs.forEach(function(r){var i=r.queries,o=r.conditions,s,a,c,l;for(a in i)s=Fi.matchMedia(i[a]).matches,s&&(c=1),s!==o[a]&&(o[a]=s,l=1);l&&(r.revert(),c&&t.push(r))}),pv("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),nx=e,pv("matchMedia"))},Fx=function(){function n(t,r){this.selector=r&&Tv(r),this.data=[],this._r=[],this.isReverted=!1,this.id=F$++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,o){Tt(r)&&(o=i,i=r,r=Tt);var s=this,a=function(){var l=ft,d=s.selector,h;return l&&l!==s&&l.data.push(s),o&&(s.selector=Tv(o)),ft=s,h=i.apply(s,arguments),Tt(h)&&s._r.push(h),ft=l,s.selector=d,s.isReverted=!1,h};return s.last=a,r===Tt?a(s,function(c){return s.add(null,c)}):r?s[r]=a:a},e.ignore=function(r){var i=ft;ft=null,r(this),ft=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof Mt&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var o=this;if(r?function(){for(var a=o.getTweens(),c=o.data.length,l;c--;)l=o.data[c],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(d){return a.splice(a.indexOf(d),1)}));for(a.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,h){return h.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),c=o.data.length;c--;)l=o.data[c],l instanceof mn?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof Mt)&&l.revert&&l.revert(r);o._r.forEach(function(d){return d(r,o)}),o.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var s=qs.length;s--;)qs[s].id===this.id&&qs.splice(s,1)},e.revert=function(r){this.kill(r||{})},n}(),L$=function(){function n(t){this.contexts=[],this.scope=t,ft&&ft.data.push(this)}var e=n.prototype;return e.add=function(r,i,o){Vi(r)||(r={matches:r});var s=new Fx(0,o||this.scope),a=s.conditions={},c,l,d;ft&&!s.selector&&(s.selector=ft.selector),this.contexts.push(s),i=s.add("onMatch",i),s.queries=r;for(l in r)l==="all"?d=1:(c=Fi.matchMedia(r[l]),c&&(qs.indexOf(s)<0&&qs.push(s),(a[l]=c.matches)&&(d=1),c.addListener?c.addListener(Cv):c.addEventListener("change",Cv)));return d&&i(s,function(h){return s.add(null,h)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),zh={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return Cx(i)})},timeline:function(e){return new mn(e)},getTweensOf:function(e,t){return mt.getTweensOf(e,t)},getProperty:function(e,t,r,i){Kt(e)&&(e=zr(e)[0]);var o=Qo(e||{}).get,s=r?hx:fx;return r==="native"&&(r=""),e&&(t?s((ar[t]&&ar[t].get||o)(e,t,r,i)):function(a,c,l){return s((ar[a]&&ar[a].get||o)(e,a,c,l))})},quickSetter:function(e,t,r){if(e=zr(e),e.length>1){var i=e.map(function(d){return Cn.quickSetter(d,t,r)}),o=i.length;return function(d){for(var h=o;h--;)i[h](d)}}e=e[0]||{};var s=ar[t],a=Qo(e),c=a.harness&&(a.harness.aliases||{})[t]||t,l=s?function(d){var h=new s;mc._pt=0,h.init(e,r?d+r:d,mc,0,[e]),h.render(1,h),mc._pt&&zv(1,mc)}:a.set(e,c);return s?l:function(d){return l(e,c,r?d+r:d,a,1)}},quickTo:function(e,t,r){var i,o=Cn.to(e,br((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),s=function(c,l,d){return o.resetTo(t,c,l,d)};return s.tween=o,s},isTweening:function(e){return mt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=zs(e.ease,_c.ease)),XA(_c,e||{})},config:function(e){return XA(lr,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,o=e.defaults,s=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!ar[a]&&!Tr[a]&&hl(t+" effect requires "+a+" plugin.")}),lv[t]=function(a,c,l){return r(zr(a),br(c||{},o),l)},s&&(mn.prototype[t]=function(a,c,l){return this.add(lv[t](a,Vi(c)?c:(l=c)&&{},this),l)})},registerEase:function(e,t){Ne[e]=zs(t)},parseEase:function(e,t){return arguments.length?zs(e,t):Ne},getById:function(e){return mt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new mn(e),i,o;for(r.smoothChildTiming=ur(e.smoothChildTiming),mt.remove(r),r._dp=0,r._time=r._tTime=mt._time,i=mt._first;i;)o=i._next,(t||!(!i._dur&&i instanceof Mt&&i.vars.onComplete===i._targets[0]))&&Li(r,i,i._start-i._delay),i=o;return Li(mt,r,0),r},context:function(e,t){return e?new Fx(e,t):ft},matchMedia:function(e){return new L$(e)},matchMediaRefresh:function(){return qs.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||Cv()},addEventListener:function(e,t){var r=Bh[e]||(Bh[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Bh[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:g$,wrapYoyo:m$,distribute:Ex,random:Ix,snap:wx,normalize:p$,getUnit:yn,clamp:l$,splitColor:Sx,toArray:zr,selector:Tv,mapRange:bx,pipe:f$,unitize:h$,interpolate:_$,shuffle:vx},install:cx,effects:lv,ticker:cr,updateRoot:mn.updateRoot,plugins:ar,globalTimeline:mt,core:{PropTween:Hn,globals:ux,Tween:Mt,Timeline:mn,Animation:ml,getCache:Qo,_removeLinkedListItem:Gh,reverting:function(){return _n},context:function(e){return e&&ft&&(ft.data.push(e),e._ctx=ft),ft},suppressOverwrites:function(e){return Sv=e}}};$n("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return zh[n]=Mt[n]});cr.add(mn.updateRoot);mc=zh.to({},{duration:0});var V$=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},B$=function(e,t){var r=e._targets,i,o,s;for(i in t)for(o=r.length;o--;)s=e._ptLookup[o][i],s&&(s=s.d)&&(s._pt&&(s=V$(s,i)),s&&s.modifier&&s.modifier(t[i],e,r[o],i))},gv=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,o,s){s._onInit=function(a){var c,l;if(Kt(o)&&(c={},$n(o,function(d){return c[d]=1}),o=c),t){c={};for(l in o)c[l]=t(o[l]);o=c}B$(a,o)}}}},Cn=zh.registerPlugin({name:"attr",init:function(e,t,r,i,o){var s,a,c;this.tween=r;for(s in t)c=e.getAttribute(s)||"",a=this.add(e,"setAttribute",(c||0)+"",t[s],i,o,0,0,s),a.op=s,a.b=c,this._props.push(s)},render:function(e,t){for(var r=t._pt;r;)_n?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},gv("roundProps",bv),gv("modifiers"),gv("snap",wx))||zh;Mt.version=mn.version=Cn.version="3.13.0";ax=1;Av()&&wc();var U$=Ne.Power0,j$=Ne.Power1,$$=Ne.Power2,H$=Ne.Power3,z$=Ne.Power4,q$=Ne.Linear,W$=Ne.Quad,G$=Ne.Cubic,K$=Ne.Quart,Y$=Ne.Quint,Q$=Ne.Strong,X$=Ne.Elastic,Z$=Ne.Back,J$=Ne.SteppedEase,eH=Ne.Bounce,tH=Ne.Sine,nH=Ne.Expo,rH=Ne.Circ;var Lx,Jo,bc,Xv,Zs,iH,Vx,Zv,oH=function(){return typeof window<"u"},go={},Xs=180/Math.PI,Dc=Math.PI/180,Tc=Math.atan2,Bx=1e8,Jv=/([A-Z])/g,sH=/(left|right|width|margin|padding|x)/i,aH=/[\s,\(]\S/,Bi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Gv=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},cH=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},uH=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},lH=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},Gx=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Kx=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},dH=function(e,t,r){return e.style[t]=r},fH=function(e,t,r){return e.style.setProperty(t,r)},hH=function(e,t,r){return e._gsap[t]=r},pH=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},gH=function(e,t,r,i,o){var s=e._gsap;s.scaleX=s.scaleY=r,s.renderTransform(o,s)},mH=function(e,t,r,i,o){var s=e._gsap;s[t]=r,s.renderTransform(o,s)},_t="transform",dr=_t+"Origin",_H=function n(e,t){var r=this,i=this.target,o=i.style,s=i._gsap;if(e in go&&o){if(this.tfm=this.tfm||{},e!=="transform")e=Bi[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=po(i,a)}):this.tfm[e]=s.x?s[e]:po(i,e),e===dr&&(this.tfm.zOrigin=s.zOrigin);else return Bi.transform.split(",").forEach(function(a){return n.call(r,a,t)});if(this.props.indexOf(_t)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(dr,t,"")),e=_t}(o||t)&&this.props.push(e,t,o[e])},Yx=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},yH=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,o,s;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?t[e[o]](e[o+2]):t[e[o]]=e[o+2]:e[o+2]?r[e[o]]=e[o+2]:r.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(Jv,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)i[s]=this.tfm[s];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),o=Zv(),(!o||!o.isStart)&&!r[_t]&&(Yx(r),i.zOrigin&&r[dr]&&(r[dr]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Qx=function(e,t){var r={target:e,props:[],revert:yH,save:_H};return e._gsap||Cn.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return r.save(i)}),r},Xx,Kv=function(e,t){var r=Jo.createElementNS?Jo.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Jo.createElement(e);return r&&r.style?r:Jo.createElement(e)},qr=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(Jv,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,Cc(t)||t,1)||""},Ux="O,Moz,ms,Ms,Webkit".split(","),Cc=function(e,t,r){var i=t||Zs,o=i.style,s=5;if(e in o&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(Ux[s]+e in o););return s<0?null:(s===3?"ms":s>=0?Ux[s]:"")+e},Yv=function(){oH()&&window.document&&(Lx=window,Jo=Lx.document,bc=Jo.documentElement,Zs=Kv("div")||{style:{}},iH=Kv("div"),_t=Cc(_t),dr=_t+"Origin",Zs.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Xx=!!Cc("perspective"),Zv=Cn.core.reverting,Xv=1)},jx=function(e){var t=e.ownerSVGElement,r=Kv("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),o;i.style.display="block",r.appendChild(i),bc.appendChild(r);try{o=i.getBBox()}catch{}return r.removeChild(i),bc.removeChild(r),o},$x=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},Zx=function(e){var t,r;try{t=e.getBBox()}catch{t=jx(e),r=1}return t&&(t.width||t.height)||r||(t=jx(e)),t&&!t.width&&!t.x&&!t.y?{x:+$x(e,["x","cx","x1"])||0,y:+$x(e,["y","cy","y1"])||0,width:0,height:0}:t},Jx=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Zx(e))},Js=function(e,t){if(t){var r=e.style,i;t in go&&t!==dr&&(t=_t),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(Jv,"-$1").toLowerCase())):r.removeAttribute(t)}},es=function(e,t,r,i,o,s){var a=new Hn(e._pt,t,r,0,1,s?Kx:Gx);return e._pt=a,a.b=i,a.e=o,e._props.push(r),a},Hx={deg:1,rad:1,turn:1},vH={grid:1,flex:1},ts=function n(e,t,r,i){var o=parseFloat(r)||0,s=(r+"").trim().substr((o+"").length)||"px",a=Zs.style,c=sH.test(t),l=e.tagName.toLowerCase()==="svg",d=(l?"client":"offset")+(c?"Width":"Height"),h=100,m=i==="px",p=i==="%",_,y,b,A;if(i===s||!o||Hx[i]||Hx[s])return o;if(s!=="px"&&!m&&(o=n(e,t,r,"px")),A=e.getCTM&&Jx(e),(p||s==="%")&&(go[t]||~t.indexOf("adius")))return _=A?e.getBBox()[c?"width":"height"]:e[d],bt(p?o/_*h:o/100*_);if(a[c?"width":"height"]=h+(m?s:i),y=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!l?e:e.parentNode,A&&(y=(e.ownerSVGElement||{}).parentNode),(!y||y===Jo||!y.appendChild)&&(y=Jo.body),b=y._gsap,b&&p&&b.width&&c&&b.time===cr.time&&!b.uncache)return bt(o/b.width*h);if(p&&(t==="height"||t==="width")){var R=e.style[t];e.style[t]=h+i,_=e[d],R?e.style[t]=R:Js(e,t)}else(p||s==="%")&&!vH[qr(y,"display")]&&(a.position=qr(e,"position")),y===e&&(a.position="static"),y.appendChild(Zs),_=Zs[d],y.removeChild(Zs),a.position="absolute";return c&&p&&(b=Qo(y),b.time=cr.time,b.width=y[d]),bt(m?_*o/h:_&&o?h/_*o:0)},po=function(e,t,r,i){var o;return Xv||Yv(),t in Bi&&t!=="transform"&&(t=Bi[t],~t.indexOf(",")&&(t=t.split(",")[0])),go[t]&&t!=="transform"?(o=El(e,i),o=t!=="transformOrigin"?o[t]:o.svg?o.origin:Zh(qr(e,dr))+" "+o.zOrigin+"px"):(o=e.style[t],(!o||o==="auto"||i||~(o+"").indexOf("calc("))&&(o=Xh[t]&&Xh[t](e,t,r)||qr(e,t)||Ov(e,t)||(t==="opacity"?1:0))),r&&!~(o+"").trim().indexOf(" ")?ts(e,t,o,r)+r:o},EH=function(e,t,r,i){if(!r||r==="none"){var o=Cc(t,e,1),s=o&&qr(e,o,1);s&&s!==r?(t=o,r=s):t==="borderColor"&&(r=qr(e,"borderTopColor"))}var a=new Hn(this._pt,e.style,t,0,1,Hv),c=0,l=0,d,h,m,p,_,y,b,A,R,O,N,L;if(a.b=r,a.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=qr(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(y=e.style[t],e.style[t]=i,i=qr(e,t)||i,y?e.style[t]=y:Js(e,t)),d=[r,i],Lv(d),r=d[0],i=d[1],m=r.match(Ws)||[],L=i.match(Ws)||[],L.length){for(;h=Ws.exec(i);)b=h[0],R=i.substring(c,h.index),_?_=(_+1)%5:(R.substr(-5)==="rgba("||R.substr(-5)==="hsla(")&&(_=1),b!==(y=m[l++]||"")&&(p=parseFloat(y)||0,N=y.substr((p+"").length),b.charAt(1)==="="&&(b=Gs(p,b)+N),A=parseFloat(b),O=b.substr((A+"").length),c=Ws.lastIndex-O.length,O||(O=O||lr.units[t]||N,c===i.length&&(i+=O,a.e+=O)),N!==O&&(p=ts(e,t,y,O)||0),a._pt={_next:a._pt,p:R||l===1?R:",",s:p,c:A-p,m:_&&_<4||t==="zIndex"?Math.round:0});a.c=c<i.length?i.substring(c,i.length):""}else a.r=t==="display"&&i==="none"?Kx:Gx;return Pv.test(i)&&(a.e=0),this._pt=a,a},zx={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},wH=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=zx[r]||r,t[1]=zx[i]||i,t.join(" ")},IH=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,o=t.u,s=r._gsap,a,c,l;if(o==="all"||o===!0)i.cssText="",c=1;else for(o=o.split(","),l=o.length;--l>-1;)a=o[l],go[a]&&(c=1,a=a==="transformOrigin"?dr:_t),Js(r,a);c&&(Js(r,_t),s&&(s.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",El(r,1),s.uncache=1,Yx(i)))}},Xh={clearProps:function(e,t,r,i,o){if(o.data!=="isFromStart"){var s=e._pt=new Hn(e._pt,t,r,0,0,IH);return s.u=i,s.pr=-10,s.tween=o,e._props.push(r),1}}},vl=[1,0,0,1,0,0],eP={},tP=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},qx=function(e){var t=qr(e,_t);return tP(t)?vl:t.substr(7).match(xv).map(bt)},eE=function(e,t){var r=e._gsap||Qo(e),i=e.style,o=qx(e),s,a,c,l;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,o=[c.a,c.b,c.c,c.d,c.e,c.f],o.join(",")==="1,0,0,1,0,0"?vl:o):(o===vl&&!e.offsetParent&&e!==bc&&!r.svg&&(c=i.display,i.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(l=1,a=e.nextElementSibling,bc.appendChild(e)),o=qx(e),c?i.display=c:Js(e,"display"),l&&(a?s.insertBefore(e,a):s?s.appendChild(e):bc.removeChild(e))),t&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},Qv=function(e,t,r,i,o,s){var a=e._gsap,c=o||eE(e,!0),l=a.xOrigin||0,d=a.yOrigin||0,h=a.xOffset||0,m=a.yOffset||0,p=c[0],_=c[1],y=c[2],b=c[3],A=c[4],R=c[5],O=t.split(" "),N=parseFloat(O[0])||0,L=parseFloat(O[1])||0,V,I,E,w;r?c!==vl&&(I=p*b-_*y)&&(E=N*(b/I)+L*(-y/I)+(y*R-b*A)/I,w=N*(-_/I)+L*(p/I)-(p*R-_*A)/I,N=E,L=w):(V=Zx(e),N=V.x+(~O[0].indexOf("%")?N/100*V.width:N),L=V.y+(~(O[1]||O[0]).indexOf("%")?L/100*V.height:L)),i||i!==!1&&a.smooth?(A=N-l,R=L-d,a.xOffset=h+(A*p+R*y)-A,a.yOffset=m+(A*_+R*b)-R):a.xOffset=a.yOffset=0,a.xOrigin=N,a.yOrigin=L,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[dr]="0px 0px",s&&(es(s,a,"xOrigin",l,N),es(s,a,"yOrigin",d,L),es(s,a,"xOffset",h,a.xOffset),es(s,a,"yOffset",m,a.yOffset)),e.setAttribute("data-svg-origin",N+" "+L)},El=function(e,t){var r=e._gsap||new Vv(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,o=r.scaleX<0,s="px",a="deg",c=getComputedStyle(e),l=qr(e,dr)||"0",d,h,m,p,_,y,b,A,R,O,N,L,V,I,E,w,T,S,C,D,ne,ge,we,Y,Ie,ze,P,Qe,ct,Ge,ut,pt;return d=h=m=y=b=A=R=O=N=0,p=_=1,r.svg=!!(e.getCTM&&Jx(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[_t]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[_t]!=="none"?c[_t]:"")),i.scale=i.rotate=i.translate="none"),I=eE(e,r.svg),r.svg&&(r.uncache?(Ie=e.getBBox(),l=r.xOrigin-Ie.x+"px "+(r.yOrigin-Ie.y)+"px",Y=""):Y=!t&&e.getAttribute("data-svg-origin"),Qv(e,Y||l,!!Y||r.originIsAbsolute,r.smooth!==!1,I)),L=r.xOrigin||0,V=r.yOrigin||0,I!==vl&&(S=I[0],C=I[1],D=I[2],ne=I[3],d=ge=I[4],h=we=I[5],I.length===6?(p=Math.sqrt(S*S+C*C),_=Math.sqrt(ne*ne+D*D),y=S||C?Tc(C,S)*Xs:0,R=D||ne?Tc(D,ne)*Xs+y:0,R&&(_*=Math.abs(Math.cos(R*Dc))),r.svg&&(d-=L-(L*S+V*D),h-=V-(L*C+V*ne))):(pt=I[6],Ge=I[7],P=I[8],Qe=I[9],ct=I[10],ut=I[11],d=I[12],h=I[13],m=I[14],E=Tc(pt,ct),b=E*Xs,E&&(w=Math.cos(-E),T=Math.sin(-E),Y=ge*w+P*T,Ie=we*w+Qe*T,ze=pt*w+ct*T,P=ge*-T+P*w,Qe=we*-T+Qe*w,ct=pt*-T+ct*w,ut=Ge*-T+ut*w,ge=Y,we=Ie,pt=ze),E=Tc(-D,ct),A=E*Xs,E&&(w=Math.cos(-E),T=Math.sin(-E),Y=S*w-P*T,Ie=C*w-Qe*T,ze=D*w-ct*T,ut=ne*T+ut*w,S=Y,C=Ie,D=ze),E=Tc(C,S),y=E*Xs,E&&(w=Math.cos(E),T=Math.sin(E),Y=S*w+C*T,Ie=ge*w+we*T,C=C*w-S*T,we=we*w-ge*T,S=Y,ge=Ie),b&&Math.abs(b)+Math.abs(y)>359.9&&(b=y=0,A=180-A),p=bt(Math.sqrt(S*S+C*C+D*D)),_=bt(Math.sqrt(we*we+pt*pt)),E=Tc(ge,we),R=Math.abs(E)>2e-4?E*Xs:0,N=ut?1/(ut<0?-ut:ut):0),r.svg&&(Y=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!tP(qr(e,_t)),Y&&e.setAttribute("transform",Y))),Math.abs(R)>90&&Math.abs(R)<270&&(o?(p*=-1,R+=y<=0?180:-180,y+=y<=0?180:-180):(_*=-1,R+=R<=0?180:-180)),t=t||r.uncache,r.x=d-((r.xPercent=d&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+s,r.y=h-((r.yPercent=h&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+s,r.z=m+s,r.scaleX=bt(p),r.scaleY=bt(_),r.rotation=bt(y)+a,r.rotationX=bt(b)+a,r.rotationY=bt(A)+a,r.skewX=R+a,r.skewY=O+a,r.transformPerspective=N+s,(r.zOrigin=parseFloat(l.split(" ")[2])||!t&&r.zOrigin||0)&&(i[dr]=Zh(l)),r.xOffset=r.yOffset=0,r.force3D=lr.force3D,r.renderTransform=r.svg?bH:Xx?nP:TH,r.uncache=0,r},Zh=function(e){return(e=e.split(" "))[0]+" "+e[1]},Wv=function(e,t,r){var i=yn(t);return bt(parseFloat(t)+parseFloat(ts(e,"x",r+"px",i)))+i},TH=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,nP(e,t)},Ys="0deg",yl="0px",Qs=") ",nP=function(e,t){var r=t||this,i=r.xPercent,o=r.yPercent,s=r.x,a=r.y,c=r.z,l=r.rotation,d=r.rotationY,h=r.rotationX,m=r.skewX,p=r.skewY,_=r.scaleX,y=r.scaleY,b=r.transformPerspective,A=r.force3D,R=r.target,O=r.zOrigin,N="",L=A==="auto"&&e&&e!==1||A===!0;if(O&&(h!==Ys||d!==Ys)){var V=parseFloat(d)*Dc,I=Math.sin(V),E=Math.cos(V),w;V=parseFloat(h)*Dc,w=Math.cos(V),s=Wv(R,s,I*w*-O),a=Wv(R,a,-Math.sin(V)*-O),c=Wv(R,c,E*w*-O+O)}b!==yl&&(N+="perspective("+b+Qs),(i||o)&&(N+="translate("+i+"%, "+o+"%) "),(L||s!==yl||a!==yl||c!==yl)&&(N+=c!==yl||L?"translate3d("+s+", "+a+", "+c+") ":"translate("+s+", "+a+Qs),l!==Ys&&(N+="rotate("+l+Qs),d!==Ys&&(N+="rotateY("+d+Qs),h!==Ys&&(N+="rotateX("+h+Qs),(m!==Ys||p!==Ys)&&(N+="skew("+m+", "+p+Qs),(_!==1||y!==1)&&(N+="scale("+_+", "+y+Qs),R.style[_t]=N||"translate(0, 0)"},bH=function(e,t){var r=t||this,i=r.xPercent,o=r.yPercent,s=r.x,a=r.y,c=r.rotation,l=r.skewX,d=r.skewY,h=r.scaleX,m=r.scaleY,p=r.target,_=r.xOrigin,y=r.yOrigin,b=r.xOffset,A=r.yOffset,R=r.forceCSS,O=parseFloat(s),N=parseFloat(a),L,V,I,E,w;c=parseFloat(c),l=parseFloat(l),d=parseFloat(d),d&&(d=parseFloat(d),l+=d,c+=d),c||l?(c*=Dc,l*=Dc,L=Math.cos(c)*h,V=Math.sin(c)*h,I=Math.sin(c-l)*-m,E=Math.cos(c-l)*m,l&&(d*=Dc,w=Math.tan(l-d),w=Math.sqrt(1+w*w),I*=w,E*=w,d&&(w=Math.tan(d),w=Math.sqrt(1+w*w),L*=w,V*=w)),L=bt(L),V=bt(V),I=bt(I),E=bt(E)):(L=h,E=m,V=I=0),(O&&!~(s+"").indexOf("px")||N&&!~(a+"").indexOf("px"))&&(O=ts(p,"x",s,"px"),N=ts(p,"y",a,"px")),(_||y||b||A)&&(O=bt(O+_-(_*L+y*I)+b),N=bt(N+y-(_*V+y*E)+A)),(i||o)&&(w=p.getBBox(),O=bt(O+i/100*w.width),N=bt(N+o/100*w.height)),w="matrix("+L+","+V+","+I+","+E+","+O+","+N+")",p.setAttribute("transform",w),R&&(p.style[_t]=w)},DH=function(e,t,r,i,o){var s=360,a=Kt(o),c=parseFloat(o)*(a&&~o.indexOf("rad")?Xs:1),l=c-i,d=i+l+"deg",h,m;return a&&(h=o.split("_")[1],h==="short"&&(l%=s,l!==l%(s/2)&&(l+=l<0?s:-s)),h==="cw"&&l<0?l=(l+s*Bx)%s-~~(l/s)*s:h==="ccw"&&l>0&&(l=(l-s*Bx)%s-~~(l/s)*s)),e._pt=m=new Hn(e._pt,t,r,i,l,cH),m.e=d,m.u="deg",e._props.push(r),m},Wx=function(e,t){for(var r in t)e[r]=t[r];return e},CH=function(e,t,r){var i=Wx({},r._gsap),o="perspective,force3D,transformOrigin,svgOrigin",s=r.style,a,c,l,d,h,m,p,_;i.svg?(l=r.getAttribute("transform"),r.setAttribute("transform",""),s[_t]=t,a=El(r,1),Js(r,_t),r.setAttribute("transform",l)):(l=getComputedStyle(r)[_t],s[_t]=t,a=El(r,1),s[_t]=l);for(c in go)l=i[c],d=a[c],l!==d&&o.indexOf(c)<0&&(p=yn(l),_=yn(d),h=p!==_?ts(r,c,l,_):parseFloat(l),m=parseFloat(d),e._pt=new Hn(e._pt,a,c,h,m-h,Gv),e._pt.u=_||0,e._props.push(c));Wx(a,i)};$n("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",o="Left",s=(e<3?[t,r,i,o]:[t+o,t+r,i+r,i+o]).map(function(a){return e<2?n+a:"border"+a+n});Xh[e>1?"border"+n:n]=function(a,c,l,d,h){var m,p;if(arguments.length<4)return m=s.map(function(_){return po(a,_,l)}),p=m.join(" "),p.split(m[0]).length===5?m[0]:p;m=(d+"").split(" "),p={},s.forEach(function(_,y){return p[_]=m[y]=m[y]||m[(y-1)/2|0]}),a.init(c,p,h)}});var tE={name:"css",register:Yv,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,o){var s=this._props,a=e.style,c=r.vars.startAt,l,d,h,m,p,_,y,b,A,R,O,N,L,V,I,E;Xv||Yv(),this.styles=this.styles||Qx(e),E=this.styles.props,this.tween=r;for(y in t)if(y!=="autoRound"&&(d=t[y],!(ar[y]&&Uv(y,t,r,i,e,o)))){if(p=typeof d,_=Xh[y],p==="function"&&(d=d.call(r,i,e,o),p=typeof d),p==="string"&&~d.indexOf("random(")&&(d=Ic(d)),_)_(this,e,y,d,r)&&(I=1);else if(y.substr(0,2)==="--")l=(getComputedStyle(e).getPropertyValue(y)+"").trim(),d+="",fo.lastIndex=0,fo.test(l)||(b=yn(l),A=yn(d)),A?b!==A&&(l=ts(e,y,l,A)+A):b&&(d+=b),this.add(a,"setProperty",l,d,i,o,0,0,y),s.push(y),E.push(y,0,a[y]);else if(p!=="undefined"){if(c&&y in c?(l=typeof c[y]=="function"?c[y].call(r,i,e,o):c[y],Kt(l)&&~l.indexOf("random(")&&(l=Ic(l)),yn(l+"")||l==="auto"||(l+=lr.units[y]||yn(po(e,y))||""),(l+"").charAt(1)==="="&&(l=po(e,y))):l=po(e,y),m=parseFloat(l),R=p==="string"&&d.charAt(1)==="="&&d.substr(0,2),R&&(d=d.substr(2)),h=parseFloat(d),y in Bi&&(y==="autoAlpha"&&(m===1&&po(e,"visibility")==="hidden"&&h&&(m=0),E.push("visibility",0,a.visibility),es(this,a,"visibility",m?"inherit":"hidden",h?"inherit":"hidden",!h)),y!=="scale"&&y!=="transform"&&(y=Bi[y],~y.indexOf(",")&&(y=y.split(",")[0]))),O=y in go,O){if(this.styles.save(y),p==="string"&&d.substring(0,6)==="var(--"&&(d=qr(e,d.substring(4,d.indexOf(")"))),h=parseFloat(d)),N||(L=e._gsap,L.renderTransform&&!t.parseTransform||El(e,t.parseTransform),V=t.smoothOrigin!==!1&&L.smooth,N=this._pt=new Hn(this._pt,a,_t,0,1,L.renderTransform,L,0,-1),N.dep=1),y==="scale")this._pt=new Hn(this._pt,L,"scaleY",L.scaleY,(R?Gs(L.scaleY,R+h):h)-L.scaleY||0,Gv),this._pt.u=0,s.push("scaleY",y),y+="X";else if(y==="transformOrigin"){E.push(dr,0,a[dr]),d=wH(d),L.svg?Qv(e,d,0,V,0,this):(A=parseFloat(d.split(" ")[2])||0,A!==L.zOrigin&&es(this,L,"zOrigin",L.zOrigin,A),es(this,a,y,Zh(l),Zh(d)));continue}else if(y==="svgOrigin"){Qv(e,d,1,V,0,this);continue}else if(y in eP){DH(this,L,y,m,R?Gs(m,R+d):d);continue}else if(y==="smoothOrigin"){es(this,L,"smooth",L.smooth,d);continue}else if(y==="force3D"){L[y]=d;continue}else if(y==="transform"){CH(this,d,e);continue}}else y in a||(y=Cc(y)||y);if(O||(h||h===0)&&(m||m===0)&&!aH.test(d)&&y in a)b=(l+"").substr((m+"").length),h||(h=0),A=yn(d)||(y in lr.units?lr.units[y]:b),b!==A&&(m=ts(e,y,l,A)),this._pt=new Hn(this._pt,O?L:a,y,m,(R?Gs(m,R+h):h)-m,!O&&(A==="px"||y==="zIndex")&&t.autoRound!==!1?lH:Gv),this._pt.u=A||0,b!==A&&A!=="%"&&(this._pt.b=l,this._pt.r=uH);else if(y in a)EH.call(this,e,y,l,R?R+d:d);else if(y in e)this.add(e,y,l||e[y],R?R+d:d,i,o);else if(y!=="parseTransform"){Wh(y,d);continue}O||(y in a?E.push(y,0,a[y]):typeof e[y]=="function"?E.push(y,2,e[y]()):E.push(y,1,l||e[y])),s.push(y)}}I&&qv(this)},render:function(e,t){if(t.tween._time||!Zv())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:po,aliases:Bi,getSetter:function(e,t,r){var i=Bi[t];return i&&i.indexOf(",")<0&&(t=i),t in go&&t!==dr&&(e._gsap.x||po(e,"x"))?r&&Vx===r?t==="scale"?pH:hH:(Vx=r||{})&&(t==="scale"?gH:mH):e.style&&!qh(e.style[t])?dH:~t.indexOf("-")?fH:Qh(e,t)},core:{_removeProperty:Js,_getMatrix:eE}};Cn.utils.checkPrefix=Cc;Cn.core.getStyleSaver=Qx;(function(n,e,t,r){var i=$n(n+","+e+","+t,function(o){go[o]=1});$n(e,function(o){lr.units[o]="deg",eP[o]=1}),Bi[i[13]]=n+","+e,$n(r,function(o){var s=o.split(":");Bi[s[1]]=i[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");$n("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){lr.units[n]="px"});Cn.registerPlugin(tE);var Jh=Cn.registerPlugin(tE)||Cn,LZ=Jh.core.Tween;function rP(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function SH(n,e,t){return e&&rP(n.prototype,e),t&&rP(n,t),n}var vn,np,AH,Dr,ns,rs,Ac,oP,ea,Il,sP,mo,gi,aP,cP=function(){return vn||typeof window<"u"&&(vn=window.gsap)&&vn.registerPlugin&&vn},uP=1,Sc=[],ye=[],mi=[],Tl=Date.now,nE=function(e,t){return t},xH=function(){var e=Il.core,t=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,ye),i.push.apply(i,mi),ye=r,mi=i,nE=function(s,a){return t[s](a)}},yo=function(e,t){return~mi.indexOf(e)&&mi[mi.indexOf(e)+1][t]},bl=function(e){return!!~sP.indexOf(e)},qn=function(e,t,r,i,o){return e.addEventListener(t,r,{passive:i!==!1,capture:!!o})},zn=function(e,t,r,i){return e.removeEventListener(t,r,!!i)},ep="scrollLeft",tp="scrollTop",rE=function(){return mo&&mo.isPressed||ye.cache++},rp=function(e,t){var r=function i(o){if(o||o===0){uP&&(Dr.history.scrollRestoration="manual");var s=mo&&mo.isPressed;o=i.v=Math.round(o)||(mo&&mo.iOS?1:0),e(o),i.cacheID=ye.cache,s&&nE("ss",o)}else(t||ye.cache!==i.cacheID||nE("ref"))&&(i.cacheID=ye.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},Sn={s:ep,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:rp(function(n){return arguments.length?Dr.scrollTo(n,Ut.sc()):Dr.pageXOffset||ns[ep]||rs[ep]||Ac[ep]||0})},Ut={s:tp,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Sn,sc:rp(function(n){return arguments.length?Dr.scrollTo(Sn.sc(),n):Dr.pageYOffset||ns[tp]||rs[tp]||Ac[tp]||0})},Wn=function(e,t){return(t&&t._ctx&&t._ctx.selector||vn.utils.toArray)(e)[0]||(typeof e=="string"&&vn.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},PH=function(e,t){for(var r=t.length;r--;)if(t[r]===e||t[r].contains(e))return!0;return!1},_o=function(e,t){var r=t.s,i=t.sc;bl(e)&&(e=ns.scrollingElement||rs);var o=ye.indexOf(e),s=i===Ut.sc?1:2;!~o&&(o=ye.push(e)-1),ye[o+s]||qn(e,"scroll",rE);var a=ye[o+s],c=a||(ye[o+s]=rp(yo(e,r),!0)||(bl(e)?i:rp(function(l){return arguments.length?e[r]=l:e[r]})));return c.target=e,a||(c.smooth=vn.getProperty(e,"scrollBehavior")==="smooth"),c},ip=function(e,t,r){var i=e,o=e,s=Tl(),a=s,c=t||50,l=Math.max(500,c*3),d=function(_,y){var b=Tl();y||b-s>c?(o=i,i=_,a=s,s=b):r?i+=_:i=o+(_-o)/(b-a)*(s-a)},h=function(){o=i=r?0:i,a=s=0},m=function(_){var y=a,b=o,A=Tl();return(_||_===0)&&_!==i&&d(_),s===a||A-a>l?0:(i+(r?b:-b))/((r?A:s)-y)*1e3};return{update:d,reset:h,getVelocity:m}},wl=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},iP=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},lP=function(){Il=vn.core.globals().ScrollTrigger,Il&&Il.core&&xH()},dP=function(e){return vn=e||cP(),!np&&vn&&typeof document<"u"&&document.body&&(Dr=window,ns=document,rs=ns.documentElement,Ac=ns.body,sP=[Dr,ns,rs,Ac],AH=vn.utils.clamp,aP=vn.core.context||function(){},ea="onpointerenter"in Ac?"pointer":"mouse",oP=Dt.isTouch=Dr.matchMedia&&Dr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Dr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,gi=Dt.eventTypes=("ontouchstart"in rs?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in rs?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return uP=0},500),lP(),np=1),np};Sn.op=Ut;ye.cache=0;var Dt=function(){function n(t){this.init(t)}var e=n.prototype;return e.init=function(r){np||dP(vn)||console.warn("Please gsap.registerPlugin(Observer)"),Il||lP();var i=r.tolerance,o=r.dragMinimum,s=r.type,a=r.target,c=r.lineHeight,l=r.debounce,d=r.preventDefault,h=r.onStop,m=r.onStopDelay,p=r.ignore,_=r.wheelSpeed,y=r.event,b=r.onDragStart,A=r.onDragEnd,R=r.onDrag,O=r.onPress,N=r.onRelease,L=r.onRight,V=r.onLeft,I=r.onUp,E=r.onDown,w=r.onChangeX,T=r.onChangeY,S=r.onChange,C=r.onToggleX,D=r.onToggleY,ne=r.onHover,ge=r.onHoverEnd,we=r.onMove,Y=r.ignoreCheck,Ie=r.isNormalizer,ze=r.onGestureStart,P=r.onGestureEnd,Qe=r.onWheel,ct=r.onEnable,Ge=r.onDisable,ut=r.onClick,pt=r.scrollSpeed,Xt=r.capture,rt=r.allowClicks,un=r.lockAxis,Zt=r.onLockAxis;this.target=a=Wn(a)||rs,this.vars=r,p&&(p=vn.utils.toArray(p)),i=i||1e-9,o=o||0,_=_||1,pt=pt||1,s=s||"wheel,touch,pointer",l=l!==!1,c||(c=parseFloat(Dr.getComputedStyle(Ac).lineHeight)||22);var pr,kt,Jt,xe,st,en,wn,F=this,kn=0,Mr=0,Jr=r.passive||!d&&r.passive!==!1,it=_o(a,Sn),Nr=_o(a,Ut),Ii=it(),ei=Nr(),yt=~s.indexOf("touch")&&!~s.indexOf("pointer")&&gi[0]==="pointerdown",kr=bl(a),Te=a.ownerDocument||ns,Xe=[0,0,0],ln=[0,0,0],Or=0,Mo=function(){return Or=Tl()},vt=function(K,ke){return(F.event=K)&&p&&PH(K.target,p)||ke&&yt&&K.pointerType!=="touch"||Y&&Y(K,ke)},Ti=function(){F._vx.reset(),F._vy.reset(),kt.pause(),h&&h(F)},Fr=function(){var K=F.deltaX=iP(Xe),ke=F.deltaY=iP(ln),j=Math.abs(K)>=i,ie=Math.abs(ke)>=i;S&&(j||ie)&&S(F,K,ke,Xe,ln),j&&(L&&F.deltaX>0&&L(F),V&&F.deltaX<0&&V(F),w&&w(F),C&&F.deltaX<0!=kn<0&&C(F),kn=F.deltaX,Xe[0]=Xe[1]=Xe[2]=0),ie&&(E&&F.deltaY>0&&E(F),I&&F.deltaY<0&&I(F),T&&T(F),D&&F.deltaY<0!=Mr<0&&D(F),Mr=F.deltaY,ln[0]=ln[1]=ln[2]=0),(xe||Jt)&&(we&&we(F),Jt&&(b&&Jt===1&&b(F),R&&R(F),Jt=0),xe=!1),en&&!(en=!1)&&Zt&&Zt(F),st&&(Qe(F),st=!1),pr=0},Zi=function(K,ke,j){Xe[j]+=K,ln[j]+=ke,F._vx.update(K),F._vy.update(ke),l?pr||(pr=requestAnimationFrame(Fr)):Fr()},bi=function(K,ke){un&&!wn&&(F.axis=wn=Math.abs(K)>Math.abs(ke)?"x":"y",en=!0),wn!=="y"&&(Xe[2]+=K,F._vx.update(K,!0)),wn!=="x"&&(ln[2]+=ke,F._vy.update(ke,!0)),l?pr||(pr=requestAnimationFrame(Fr)):Fr()},Di=function(K){if(!vt(K,1)){K=wl(K,d);var ke=K.clientX,j=K.clientY,ie=ke-F.x,W=j-F.y,J=F.isDragging;F.x=ke,F.y=j,(J||(ie||W)&&(Math.abs(F.startX-ke)>=o||Math.abs(F.startY-j)>=o))&&(Jt=J?2:1,J||(F.isDragging=!0),bi(ie,W))}},Ji=F.onPress=function(se){vt(se,1)||se&&se.button||(F.axis=wn=null,kt.pause(),F.isPressed=!0,se=wl(se),kn=Mr=0,F.startX=F.x=se.clientX,F.startY=F.y=se.clientY,F._vx.reset(),F._vy.reset(),qn(Ie?a:Te,gi[1],Di,Jr,!0),F.deltaX=F.deltaY=0,O&&O(F))},he=F.onRelease=function(se){if(!vt(se,1)){zn(Ie?a:Te,gi[1],Di,!0);var K=!isNaN(F.y-F.startY),ke=F.isDragging,j=ke&&(Math.abs(F.x-F.startX)>3||Math.abs(F.y-F.startY)>3),ie=wl(se);!j&&K&&(F._vx.reset(),F._vy.reset(),d&&rt&&vn.delayedCall(.08,function(){if(Tl()-Or>300&&!se.defaultPrevented){if(se.target.click)se.target.click();else if(Te.createEvent){var W=Te.createEvent("MouseEvents");W.initMouseEvent("click",!0,!0,Dr,1,ie.screenX,ie.screenY,ie.clientX,ie.clientY,!1,!1,!1,!1,0,null),se.target.dispatchEvent(W)}}})),F.isDragging=F.isGesturing=F.isPressed=!1,h&&ke&&!Ie&&kt.restart(!0),Jt&&Fr(),A&&ke&&A(F),N&&N(F,j)}},Ci=function(K){return K.touches&&K.touches.length>1&&(F.isGesturing=!0)&&ze(K,F.isDragging)},Xn=function(){return(F.isGesturing=!1)||P(F)},dn=function(K){if(!vt(K)){var ke=it(),j=Nr();Zi((ke-Ii)*pt,(j-ei)*pt,1),Ii=ke,ei=j,h&&kt.restart(!0)}},On=function(K){if(!vt(K)){K=wl(K,d),Qe&&(st=!0);var ke=(K.deltaMode===1?c:K.deltaMode===2?Dr.innerHeight:1)*_;Zi(K.deltaX*ke,K.deltaY*ke,0),h&&!Ie&&kt.restart(!0)}},ti=function(K){if(!vt(K)){var ke=K.clientX,j=K.clientY,ie=ke-F.x,W=j-F.y;F.x=ke,F.y=j,xe=!0,h&&kt.restart(!0),(ie||W)&&bi(ie,W)}},Zn=function(K){F.event=K,ne(F)},Lr=function(K){F.event=K,ge(F)},Si=function(K){return vt(K)||wl(K,d)&&ut(F)};kt=F._dc=vn.delayedCall(m||.25,Ti).pause(),F.deltaX=F.deltaY=0,F._vx=ip(0,50,!0),F._vy=ip(0,50,!0),F.scrollX=it,F.scrollY=Nr,F.isDragging=F.isGesturing=F.isPressed=!1,aP(this),F.enable=function(se){return F.isEnabled||(qn(kr?Te:a,"scroll",rE),s.indexOf("scroll")>=0&&qn(kr?Te:a,"scroll",dn,Jr,Xt),s.indexOf("wheel")>=0&&qn(a,"wheel",On,Jr,Xt),(s.indexOf("touch")>=0&&oP||s.indexOf("pointer")>=0)&&(qn(a,gi[0],Ji,Jr,Xt),qn(Te,gi[2],he),qn(Te,gi[3],he),rt&&qn(a,"click",Mo,!0,!0),ut&&qn(a,"click",Si),ze&&qn(Te,"gesturestart",Ci),P&&qn(Te,"gestureend",Xn),ne&&qn(a,ea+"enter",Zn),ge&&qn(a,ea+"leave",Lr),we&&qn(a,ea+"move",ti)),F.isEnabled=!0,F.isDragging=F.isGesturing=F.isPressed=xe=Jt=!1,F._vx.reset(),F._vy.reset(),Ii=it(),ei=Nr(),se&&se.type&&Ji(se),ct&&ct(F)),F},F.disable=function(){F.isEnabled&&(Sc.filter(function(se){return se!==F&&bl(se.target)}).length||zn(kr?Te:a,"scroll",rE),F.isPressed&&(F._vx.reset(),F._vy.reset(),zn(Ie?a:Te,gi[1],Di,!0)),zn(kr?Te:a,"scroll",dn,Xt),zn(a,"wheel",On,Xt),zn(a,gi[0],Ji,Xt),zn(Te,gi[2],he),zn(Te,gi[3],he),zn(a,"click",Mo,!0),zn(a,"click",Si),zn(Te,"gesturestart",Ci),zn(Te,"gestureend",Xn),zn(a,ea+"enter",Zn),zn(a,ea+"leave",Lr),zn(a,ea+"move",ti),F.isEnabled=F.isPressed=F.isDragging=!1,Ge&&Ge(F))},F.kill=F.revert=function(){F.disable();var se=Sc.indexOf(F);se>=0&&Sc.splice(se,1),mo===F&&(mo=0)},Sc.push(F),Ie&&bl(a)&&(mo=F),F.enable(y)},SH(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();Dt.version="3.13.0";Dt.create=function(n){return new Dt(n)};Dt.register=dP;Dt.getAll=function(){return Sc.slice()};Dt.getById=function(n){return Sc.filter(function(e){return e.vars.id===n})[0]};cP()&&vn.registerPlugin(Dt);var z,Rc,Se,ot,Ar,$e,yE,Ep,Ll,Rl,Cl,op,An,bp,dE,Kn,fP,hP,Mc,xP,iE,PP,Gn,fE,RP,MP,is,hE,vE,Nc,EE,wp,pE,oE,sp=1,xn=Date.now,sE=xn(),Kr=0,Sl=0,pP=function(e,t,r){var i=Sr(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=i,i?e.substr(6,e.length-7):e},gP=function(e,t){return t&&(!Sr(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},RH=function n(){return Sl&&requestAnimationFrame(n)},mP=function(){return bp=1},_P=function(){return bp=0},Ui=function(e){return e},Al=function(e){return Math.round(e*1e5)/1e5||0},NP=function(){return typeof window<"u"},kP=function(){return z||NP()&&(z=window.gsap)&&z.registerPlugin&&z},sa=function(e){return!!~yE.indexOf(e)},OP=function(e){return(e==="Height"?EE:Se["inner"+e])||Ar["client"+e]||$e["client"+e]},FP=function(e){return yo(e,"getBoundingClientRect")||(sa(e)?function(){return vp.width=Se.innerWidth,vp.height=EE,vp}:function(){return vo(e)})},MH=function(e,t,r){var i=r.d,o=r.d2,s=r.a;return(s=yo(e,"getBoundingClientRect"))?function(){return s()[i]}:function(){return(t?OP(o):e["client"+o])||0}},NH=function(e,t){return!t||~mi.indexOf(e)?FP(e):function(){return vp}},ji=function(e,t){var r=t.s,i=t.d2,o=t.d,s=t.a;return Math.max(0,(r="scroll"+i)&&(s=yo(e,r))?s()-FP(e)()[o]:sa(e)?(Ar[r]||$e[r])-OP(i):e[r]-e["offset"+i])},ap=function(e,t){for(var r=0;r<Mc.length;r+=3)(!t||~t.indexOf(Mc[r+1]))&&e(Mc[r],Mc[r+1],Mc[r+2])},Sr=function(e){return typeof e=="string"},Pn=function(e){return typeof e=="function"},xl=function(e){return typeof e=="number"},ta=function(e){return typeof e=="object"},Dl=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},aE=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},xc=Math.abs,LP="left",VP="top",wE="right",IE="bottom",ra="width",ia="height",Ml="Right",Nl="Left",kl="Top",Ol="Bottom",jt="padding",Wr="margin",Oc="Width",TE="Height",Yt="px",Gr=function(e){return Se.getComputedStyle(e)},kH=function(e){var t=Gr(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},yP=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},vo=function(e,t){var r=t&&Gr(e)[dE]!=="matrix(1, 0, 0, 1, 0, 0)"&&z.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},Ip=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},BP=function(e){var t=[],r=e.labels,i=e.duration(),o;for(o in r)t.push(r[o]/i);return t},OH=function(e){return function(t){return z.utils.snap(BP(e),t)}},bE=function(e){var t=z.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,o){return i-o});return r?function(i,o,s){s===void 0&&(s=.001);var a;if(!o)return t(i);if(o>0){for(i-=s,a=0;a<r.length;a++)if(r[a]>=i)return r[a];return r[a-1]}else for(a=r.length,i+=s;a--;)if(r[a]<=i)return r[a];return r[0]}:function(i,o,s){s===void 0&&(s=.001);var a=t(i);return!o||Math.abs(a-i)<s||a-i<0==o<0?a:t(o<0?i-e:i+e)}},FH=function(e){return function(t,r){return bE(BP(e))(t,r.direction)}},cp=function(e,t,r,i){return r.split(",").forEach(function(o){return e(t,o,i)})},sn=function(e,t,r,i,o){return e.addEventListener(t,r,{passive:!i,capture:!!o})},on=function(e,t,r,i){return e.removeEventListener(t,r,!!i)},up=function(e,t,r){r=r&&r.wheelHandler,r&&(e(t,"wheel",r),e(t,"touchmove",r))},vP={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},lp={toggleActions:"play",anticipatePin:0},Tp={top:0,left:0,center:.5,bottom:1,right:1},gp=function(e,t){if(Sr(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=t/100),e=e.substr(0,r-1)),e=i+(e in Tp?Tp[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},dp=function(e,t,r,i,o,s,a,c){var l=o.startColor,d=o.endColor,h=o.fontSize,m=o.indent,p=o.fontWeight,_=ot.createElement("div"),y=sa(r)||yo(r,"pinType")==="fixed",b=e.indexOf("scroller")!==-1,A=y?$e:r,R=e.indexOf("start")!==-1,O=R?l:d,N="border-color:"+O+";font-size:"+h+";color:"+O+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return N+="position:"+((b||c)&&y?"fixed;":"absolute;"),(b||c||!y)&&(N+=(i===Ut?wE:IE)+":"+(s+parseFloat(m))+"px;"),a&&(N+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),_._isStart=R,_.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),_.style.cssText=N,_.innerText=t||t===0?e+"-"+t:e,A.children[0]?A.insertBefore(_,A.children[0]):A.appendChild(_),_._offset=_["offset"+i.op.d2],mp(_,0,i,R),_},mp=function(e,t,r,i){var o={display:"block"},s=r[i?"os2":"p2"],a=r[i?"p2":"os2"];e._isFlipped=i,o[r.a+"Percent"]=i?-100:0,o[r.a]=i?"1px":0,o["border"+s+Oc]=1,o["border"+a+Oc]=0,o[r.p]=t+"px",z.set(e,o)},ve=[],gE={},Vl,EP=function(){return xn()-Kr>34&&(Vl||(Vl=requestAnimationFrame(Eo)))},Pc=function(){(!Gn||!Gn.isPressed||Gn.startX>$e.clientWidth)&&(ye.cache++,Gn?Vl||(Vl=requestAnimationFrame(Eo)):Eo(),Kr||ca("scrollStart"),Kr=xn())},cE=function(){MP=Se.innerWidth,RP=Se.innerHeight},Pl=function(e){ye.cache++,(e===!0||!An&&!PP&&!ot.fullscreenElement&&!ot.webkitFullscreenElement&&(!fE||MP!==Se.innerWidth||Math.abs(Se.innerHeight-RP)>Se.innerHeight*.25))&&Ep.restart(!0)},aa={},LH=[],UP=function n(){return on(Ae,"scrollEnd",n)||na(!0)},ca=function(e){return aa[e]&&aa[e].map(function(t){return t()})||LH},Cr=[],jP=function(e){for(var t=0;t<Cr.length;t+=5)(!e||Cr[t+4]&&Cr[t+4].query===e)&&(Cr[t].style.cssText=Cr[t+1],Cr[t].getBBox&&Cr[t].setAttribute("transform",Cr[t+2]||""),Cr[t+3].uncache=1)},DE=function(e,t){var r;for(Kn=0;Kn<ve.length;Kn++)r=ve[Kn],r&&(!t||r._ctx===t)&&(e?r.kill(1):r.revert(!0,!0));wp=!0,t&&jP(t),t||ca("revert")},$P=function(e,t){ye.cache++,(t||!Yn)&&ye.forEach(function(r){return Pn(r)&&r.cacheID++&&(r.rec=0)}),Sr(e)&&(Se.history.scrollRestoration=vE=e)},Yn,oa=0,wP,VH=function(){if(wP!==oa){var e=wP=oa;requestAnimationFrame(function(){return e===oa&&na(!0)})}},HP=function(){$e.appendChild(Nc),EE=!Gn&&Nc.offsetHeight||Se.innerHeight,$e.removeChild(Nc)},IP=function(e){return Ll(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},na=function(e,t){if(Ar=ot.documentElement,$e=ot.body,yE=[Se,ot,Ar,$e],Kr&&!e&&!wp){sn(Ae,"scrollEnd",UP);return}HP(),Yn=Ae.isRefreshing=!0,ye.forEach(function(i){return Pn(i)&&++i.cacheID&&(i.rec=i())});var r=ca("refreshInit");xP&&Ae.sort(),t||DE(),ye.forEach(function(i){Pn(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),ve.slice(0).forEach(function(i){return i.refresh()}),wp=!1,ve.forEach(function(i){if(i._subPinOffset&&i.pin){var o=i.vars.horizontal?"offsetWidth":"offsetHeight",s=i.pin[o];i.revert(!0,1),i.adjustPinSpacing(i.pin[o]-s),i.refresh()}}),pE=1,IP(!0),ve.forEach(function(i){var o=ji(i.scroller,i._dir),s=i.vars.end==="max"||i._endClamp&&i.end>o,a=i._startClamp&&i.start>=o;(s||a)&&i.setPositions(a?o-1:i.start,s?Math.max(a?o:i.start+1,o):i.end,!0)}),IP(!1),pE=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),ye.forEach(function(i){Pn(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),$P(vE,1),Ep.pause(),oa++,Yn=2,Eo(2),ve.forEach(function(i){return Pn(i.vars.onRefresh)&&i.vars.onRefresh(i)}),Yn=Ae.isRefreshing=!1,ca("refresh")},mE=0,_p=1,Fl,Eo=function(e){if(e===2||!Yn&&!wp){Ae.isUpdating=!0,Fl&&Fl.update(0);var t=ve.length,r=xn(),i=r-sE>=50,o=t&&ve[0].scroll();if(_p=mE>o?-1:1,Yn||(mE=o),i&&(Kr&&!bp&&r-Kr>200&&(Kr=0,ca("scrollEnd")),Cl=sE,sE=r),_p<0){for(Kn=t;Kn-- >0;)ve[Kn]&&ve[Kn].update(0,i);_p=1}else for(Kn=0;Kn<t;Kn++)ve[Kn]&&ve[Kn].update(0,i);Ae.isUpdating=!1}Vl=0},_E=[LP,VP,IE,wE,Wr+Ol,Wr+Ml,Wr+kl,Wr+Nl,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],yp=_E.concat([ra,ia,"boxSizing","max"+Oc,"max"+TE,"position",Wr,jt,jt+kl,jt+Ml,jt+Ol,jt+Nl]),BH=function(e,t,r){kc(r);var i=e._gsap;if(i.spacerIsNative)kc(i.spacerState);else if(e._gsap.swappedIn){var o=t.parentNode;o&&(o.insertBefore(e,t),o.removeChild(t))}e._gsap.swappedIn=!1},uE=function(e,t,r,i){if(!e._gsap.swappedIn){for(var o=_E.length,s=t.style,a=e.style,c;o--;)c=_E[o],s[c]=r[c];s.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(s.display="inline-block"),a[IE]=a[wE]="auto",s.flexBasis=r.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[ra]=Ip(e,Sn)+Yt,s[ia]=Ip(e,Ut)+Yt,s[jt]=a[Wr]=a[VP]=a[LP]="0",kc(i),a[ra]=a["max"+Oc]=r[ra],a[ia]=a["max"+TE]=r[ia],a[jt]=r[jt],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},UH=/([A-Z])/g,kc=function(e){if(e){var t=e.t.style,r=e.length,i=0,o,s;for((e.t._gsap||z.core.getCache(e.t)).uncache=1;i<r;i+=2)s=e[i+1],o=e[i],s?t[o]=s:t[o]&&t.removeProperty(o.replace(UH,"-$1").toLowerCase())}},fp=function(e){for(var t=yp.length,r=e.style,i=[],o=0;o<t;o++)i.push(yp[o],r[yp[o]]);return i.t=e,i},jH=function(e,t,r){for(var i=[],o=e.length,s=r?8:0,a;s<o;s+=2)a=e[s],i.push(a,a in t?t[a]:e[s+1]);return i.t=e.t,i},vp={left:0,top:0},TP=function(e,t,r,i,o,s,a,c,l,d,h,m,p,_){Pn(e)&&(e=e(c)),Sr(e)&&e.substr(0,3)==="max"&&(e=m+(e.charAt(4)==="="?gp("0"+e.substr(3),r):0));var y=p?p.time():0,b,A,R;if(p&&p.seek(0),isNaN(e)||(e=+e),xl(e))p&&(e=z.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,m,e)),a&&mp(a,r,i,!0);else{Pn(t)&&(t=t(c));var O=(e||"0").split(" "),N,L,V,I;R=Wn(t,c)||$e,N=vo(R)||{},(!N||!N.left&&!N.top)&&Gr(R).display==="none"&&(I=R.style.display,R.style.display="block",N=vo(R),I?R.style.display=I:R.style.removeProperty("display")),L=gp(O[0],N[i.d]),V=gp(O[1]||"0",r),e=N[i.p]-l[i.p]-d+L+o-V,a&&mp(a,V,i,r-V<20||a._isStart&&V>20),r-=r-V}if(_&&(c[_]=e||-.001,e<0&&(e=0)),s){var E=e+r,w=s._isStart;b="scroll"+i.d2,mp(s,E,i,w&&E>20||!w&&(h?Math.max($e[b],Ar[b]):s.parentNode[b])<=E+1),h&&(l=vo(a),h&&(s.style[i.op.p]=l[i.op.p]-i.op.m-s._offset+Yt))}return p&&R&&(b=vo(R),p.seek(m),A=vo(R),p._caScrollDist=b[i.p]-A[i.p],e=e/p._caScrollDist*m),p&&p.seek(y),p?e:Math.round(e)},$H=/(webkit|moz|length|cssText|inset)/i,bP=function(e,t,r,i){if(e.parentNode!==t){var o=e.style,s,a;if(t===$e){e._stOrig=o.cssText,a=Gr(e);for(s in a)!+s&&!$H.test(s)&&a[s]&&typeof o[s]=="string"&&s!=="0"&&(o[s]=a[s]);o.top=r,o.left=i}else o.cssText=e._stOrig;z.core.getCache(e).uncache=1,t.appendChild(e)}},zP=function(e,t,r){var i=t,o=i;return function(s){var a=Math.round(e());return a!==i&&a!==o&&Math.abs(a-i)>3&&Math.abs(a-o)>3&&(s=a,r&&r()),o=i,i=Math.round(s),i}},hp=function(e,t,r){var i={};i[t.p]="+="+r,z.set(e,i)},DP=function(e,t){var r=_o(e,t),i="_scroll"+t.p2,o=function s(a,c,l,d,h){var m=s.tween,p=c.onComplete,_={};l=l||r();var y=zP(r,l,function(){m.kill(),s.tween=0});return h=d&&h||0,d=d||a-l,m&&m.kill(),c[i]=a,c.inherit=!1,c.modifiers=_,_[i]=function(){return y(l+d*m.ratio+h*m.ratio*m.ratio)},c.onUpdate=function(){ye.cache++,s.tween&&Eo()},c.onComplete=function(){s.tween=0,p&&p.call(m)},m=s.tween=z.to(e,c),m};return e[i]=r,r.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},sn(e,"wheel",r.wheelHandler),Ae.isTouch&&sn(e,"touchmove",r.wheelHandler),o},Ae=function(){function n(t,r){Rc||n.register(z)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),hE(this),this.init(t,r)}var e=n.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Sl){this.update=this.refresh=this.kill=Ui;return}r=yP(Sr(r)||xl(r)||r.nodeType?{trigger:r}:r,lp);var o=r,s=o.onUpdate,a=o.toggleClass,c=o.id,l=o.onToggle,d=o.onRefresh,h=o.scrub,m=o.trigger,p=o.pin,_=o.pinSpacing,y=o.invalidateOnRefresh,b=o.anticipatePin,A=o.onScrubComplete,R=o.onSnapComplete,O=o.once,N=o.snap,L=o.pinReparent,V=o.pinSpacer,I=o.containerAnimation,E=o.fastScrollEnd,w=o.preventOverlaps,T=r.horizontal||r.containerAnimation&&r.horizontal!==!1?Sn:Ut,S=!h&&h!==0,C=Wn(r.scroller||Se),D=z.core.getCache(C),ne=sa(C),ge=("pinType"in r?r.pinType:yo(C,"pinType")||ne&&"fixed")==="fixed",we=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],Y=S&&r.toggleActions.split(" "),Ie="markers"in r?r.markers:lp.markers,ze=ne?0:parseFloat(Gr(C)["border"+T.p2+Oc])||0,P=this,Qe=r.onRefreshInit&&function(){return r.onRefreshInit(P)},ct=MH(C,ne,T),Ge=NH(C,ne),ut=0,pt=0,Xt=0,rt=_o(C,T),un,Zt,pr,kt,Jt,xe,st,en,wn,F,kn,Mr,Jr,it,Nr,Ii,ei,yt,kr,Te,Xe,ln,Or,Mo,vt,Ti,Fr,Zi,bi,Di,Ji,he,Ci,Xn,dn,On,ti,Zn,Lr;if(P._startClamp=P._endClamp=!1,P._dir=T,b*=45,P.scroller=C,P.scroll=I?I.time.bind(I):rt,kt=rt(),P.vars=r,i=i||r.animation,"refreshPriority"in r&&(xP=1,r.refreshPriority===-9999&&(Fl=P)),D.tweenScroll=D.tweenScroll||{top:DP(C,Ut),left:DP(C,Sn)},P.tweenTo=un=D.tweenScroll[T.p],P.scrubDuration=function(j){Ci=xl(j)&&j,Ci?he?he.duration(j):he=z.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Ci,paused:!0,onComplete:function(){return A&&A(P)}}):(he&&he.progress(1).kill(),he=0)},i&&(i.vars.lazy=!1,i._initted&&!P.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),P.animation=i.pause(),i.scrollTrigger=P,P.scrubDuration(h),Di=0,c||(c=i.vars.id)),N&&((!ta(N)||N.push)&&(N={snapTo:N}),"scrollBehavior"in $e.style&&z.set(ne?[$e,Ar]:C,{scrollBehavior:"auto"}),ye.forEach(function(j){return Pn(j)&&j.target===(ne?ot.scrollingElement||Ar:C)&&(j.smooth=!1)}),pr=Pn(N.snapTo)?N.snapTo:N.snapTo==="labels"?OH(i):N.snapTo==="labelsDirectional"?FH(i):N.directional!==!1?function(j,ie){return bE(N.snapTo)(j,xn()-pt<500?0:ie.direction)}:z.utils.snap(N.snapTo),Xn=N.duration||{min:.1,max:2},Xn=ta(Xn)?Rl(Xn.min,Xn.max):Rl(Xn,Xn),dn=z.delayedCall(N.delay||Ci/2||.1,function(){var j=rt(),ie=xn()-pt<500,W=un.tween;if((ie||Math.abs(P.getVelocity())<10)&&!W&&!bp&&ut!==j){var J=(j-xe)/it,Ot=i&&!S?i.totalProgress():J,Pe=ie?0:(Ot-Ji)/(xn()-Cl)*1e3||0,Ke=z.utils.clamp(-J,1-J,xc(Pe/2)*Pe/.185),tn=J+(N.inertia===!1?0:Ke),lt,qe,Be=N,Fn=Be.onStart,Ye=Be.onInterrupt,Et=Be.onComplete;if(lt=pr(tn,P),xl(lt)||(lt=tn),qe=Math.max(0,Math.round(xe+lt*it)),j<=st&&j>=xe&&qe!==j){if(W&&!W._initted&&W.data<=xc(qe-j))return;N.inertia===!1&&(Ke=lt-J),un(qe,{duration:Xn(xc(Math.max(xc(tn-Ot),xc(lt-Ot))*.185/Pe/.05||0)),ease:N.ease||"power3",data:xc(qe-j),onInterrupt:function(){return dn.restart(!0)&&Ye&&Ye(P)},onComplete:function(){P.update(),ut=rt(),i&&!S&&(he?he.resetTo("totalProgress",lt,i._tTime/i._tDur):i.progress(lt)),Di=Ji=i&&!S?i.totalProgress():P.progress,R&&R(P),Et&&Et(P)}},j,Ke*it,qe-j-Ke*it),Fn&&Fn(P,un.tween)}}else P.isActive&&ut!==j&&dn.restart(!0)}).pause()),c&&(gE[c]=P),m=P.trigger=Wn(m||p!==!0&&p),Lr=m&&m._gsap&&m._gsap.stRevert,Lr&&(Lr=Lr(P)),p=p===!0?m:Wn(p),Sr(a)&&(a={targets:m,className:a}),p&&(_===!1||_===Wr||(_=!_&&p.parentNode&&p.parentNode.style&&Gr(p.parentNode).display==="flex"?!1:jt),P.pin=p,Zt=z.core.getCache(p),Zt.spacer?Nr=Zt.pinState:(V&&(V=Wn(V),V&&!V.nodeType&&(V=V.current||V.nativeElement),Zt.spacerIsNative=!!V,V&&(Zt.spacerState=fp(V))),Zt.spacer=yt=V||ot.createElement("div"),yt.classList.add("pin-spacer"),c&&yt.classList.add("pin-spacer-"+c),Zt.pinState=Nr=fp(p)),r.force3D!==!1&&z.set(p,{force3D:!0}),P.spacer=yt=Zt.spacer,bi=Gr(p),Mo=bi[_+T.os2],Te=z.getProperty(p),Xe=z.quickSetter(p,T.a,Yt),uE(p,yt,bi),ei=fp(p)),Ie){Mr=ta(Ie)?yP(Ie,vP):vP,F=dp("scroller-start",c,C,T,Mr,0),kn=dp("scroller-end",c,C,T,Mr,0,F),kr=F["offset"+T.op.d2];var Si=Wn(yo(C,"content")||C);en=this.markerStart=dp("start",c,Si,T,Mr,kr,0,I),wn=this.markerEnd=dp("end",c,Si,T,Mr,kr,0,I),I&&(Zn=z.quickSetter([en,wn],T.a,Yt)),!ge&&!(mi.length&&yo(C,"fixedMarkers")===!0)&&(kH(ne?$e:C),z.set([F,kn],{force3D:!0}),Ti=z.quickSetter(F,T.a,Yt),Zi=z.quickSetter(kn,T.a,Yt))}if(I){var se=I.vars.onUpdate,K=I.vars.onUpdateParams;I.eventCallback("onUpdate",function(){P.update(0,0,1),se&&se.apply(I,K||[])})}if(P.previous=function(){return ve[ve.indexOf(P)-1]},P.next=function(){return ve[ve.indexOf(P)+1]},P.revert=function(j,ie){if(!ie)return P.kill(!0);var W=j!==!1||!P.enabled,J=An;W!==P.isReverted&&(W&&(On=Math.max(rt(),P.scroll.rec||0),Xt=P.progress,ti=i&&i.progress()),en&&[en,wn,F,kn].forEach(function(Ot){return Ot.style.display=W?"none":"block"}),W&&(An=P,P.update(W)),p&&(!L||!P.isActive)&&(W?BH(p,yt,Nr):uE(p,yt,Gr(p),vt)),W||P.update(W),An=J,P.isReverted=W)},P.refresh=function(j,ie,W,J){if(!((An||!P.enabled)&&!ie)){if(p&&j&&Kr){sn(n,"scrollEnd",UP);return}!Yn&&Qe&&Qe(P),An=P,un.tween&&!W&&(un.tween.kill(),un.tween=0),he&&he.pause(),y&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(ni){return ni.vars.immediateRender&&ni.render(0,!0,!0)})),P.isReverted||P.revert(!0,!0),P._subPinOffset=!1;var Ot=ct(),Pe=Ge(),Ke=I?I.duration():ji(C,T),tn=it<=.01||!it,lt=0,qe=J||0,Be=ta(W)?W.end:r.end,Fn=r.endTrigger||m,Ye=ta(W)?W.start:r.start||(r.start===0||!m?0:p?"0 0":"0 100%"),Et=P.pinnedContainer=r.pinnedContainer&&Wn(r.pinnedContainer,P),gr=m&&Math.max(0,ve.indexOf(P))||0,Ft=gr,At,Lt,Ai,hs,nn,dt,mr,ps,No,_r,Jn,gs,ms;for(Ie&&ta(W)&&(gs=z.getProperty(F,T.p),ms=z.getProperty(kn,T.p));Ft-- >0;)dt=ve[Ft],dt.end||dt.refresh(0,1)||(An=P),mr=dt.pin,mr&&(mr===m||mr===p||mr===Et)&&!dt.isReverted&&(_r||(_r=[]),_r.unshift(dt),dt.revert(!0,!0)),dt!==ve[Ft]&&(gr--,Ft--);for(Pn(Ye)&&(Ye=Ye(P)),Ye=pP(Ye,"start",P),xe=TP(Ye,m,Ot,T,rt(),en,F,P,Pe,ze,ge,Ke,I,P._startClamp&&"_startClamp")||(p?-.001:0),Pn(Be)&&(Be=Be(P)),Sr(Be)&&!Be.indexOf("+=")&&(~Be.indexOf(" ")?Be=(Sr(Ye)?Ye.split(" ")[0]:"")+Be:(lt=gp(Be.substr(2),Ot),Be=Sr(Ye)?Ye:(I?z.utils.mapRange(0,I.duration(),I.scrollTrigger.start,I.scrollTrigger.end,xe):xe)+lt,Fn=m)),Be=pP(Be,"end",P),st=Math.max(xe,TP(Be||(Fn?"100% 0":Ke),Fn,Ot,T,rt()+lt,wn,kn,P,Pe,ze,ge,Ke,I,P._endClamp&&"_endClamp"))||-.001,lt=0,Ft=gr;Ft--;)dt=ve[Ft],mr=dt.pin,mr&&dt.start-dt._pinPush<=xe&&!I&&dt.end>0&&(At=dt.end-(P._startClamp?Math.max(0,dt.start):dt.start),(mr===m&&dt.start-dt._pinPush<xe||mr===Et)&&isNaN(Ye)&&(lt+=At*(1-dt.progress)),mr===p&&(qe+=At));if(xe+=lt,st+=lt,P._startClamp&&(P._startClamp+=lt),P._endClamp&&!Yn&&(P._endClamp=st||-.001,st=Math.min(st,ji(C,T))),it=st-xe||(xe-=.01)&&.001,tn&&(Xt=z.utils.clamp(0,1,z.utils.normalize(xe,st,On))),P._pinPush=qe,en&&lt&&(At={},At[T.a]="+="+lt,Et&&(At[T.p]="-="+rt()),z.set([en,wn],At)),p&&!(pE&&P.end>=ji(C,T)))At=Gr(p),hs=T===Ut,Ai=rt(),ln=parseFloat(Te(T.a))+qe,!Ke&&st>1&&(Jn=(ne?ot.scrollingElement||Ar:C).style,Jn={style:Jn,value:Jn["overflow"+T.a.toUpperCase()]},ne&&Gr($e)["overflow"+T.a.toUpperCase()]!=="scroll"&&(Jn.style["overflow"+T.a.toUpperCase()]="scroll")),uE(p,yt,At),ei=fp(p),Lt=vo(p,!0),ps=ge&&_o(C,hs?Sn:Ut)(),_?(vt=[_+T.os2,it+qe+Yt],vt.t=yt,Ft=_===jt?Ip(p,T)+it+qe:0,Ft&&(vt.push(T.d,Ft+Yt),yt.style.flexBasis!=="auto"&&(yt.style.flexBasis=Ft+Yt)),kc(vt),Et&&ve.forEach(function(ni){ni.pin===Et&&ni.vars.pinSpacing!==!1&&(ni._subPinOffset=!0)}),ge&&rt(On)):(Ft=Ip(p,T),Ft&&yt.style.flexBasis!=="auto"&&(yt.style.flexBasis=Ft+Yt)),ge&&(nn={top:Lt.top+(hs?Ai-xe:ps)+Yt,left:Lt.left+(hs?ps:Ai-xe)+Yt,boxSizing:"border-box",position:"fixed"},nn[ra]=nn["max"+Oc]=Math.ceil(Lt.width)+Yt,nn[ia]=nn["max"+TE]=Math.ceil(Lt.height)+Yt,nn[Wr]=nn[Wr+kl]=nn[Wr+Ml]=nn[Wr+Ol]=nn[Wr+Nl]="0",nn[jt]=At[jt],nn[jt+kl]=At[jt+kl],nn[jt+Ml]=At[jt+Ml],nn[jt+Ol]=At[jt+Ol],nn[jt+Nl]=At[jt+Nl],Ii=jH(Nr,nn,L),Yn&&rt(0)),i?(No=i._initted,iE(1),i.render(i.duration(),!0,!0),Or=Te(T.a)-ln+it+qe,Fr=Math.abs(it-Or)>1,ge&&Fr&&Ii.splice(Ii.length-2,2),i.render(0,!0,!0),No||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),iE(0)):Or=it,Jn&&(Jn.value?Jn.style["overflow"+T.a.toUpperCase()]=Jn.value:Jn.style.removeProperty("overflow-"+T.a));else if(m&&rt()&&!I)for(Lt=m.parentNode;Lt&&Lt!==$e;)Lt._pinOffset&&(xe-=Lt._pinOffset,st-=Lt._pinOffset),Lt=Lt.parentNode;_r&&_r.forEach(function(ni){return ni.revert(!1,!0)}),P.start=xe,P.end=st,kt=Jt=Yn?On:rt(),!I&&!Yn&&(kt<On&&rt(On),P.scroll.rec=0),P.revert(!1,!0),pt=xn(),dn&&(ut=-1,dn.restart(!0)),An=0,i&&S&&(i._initted||ti)&&i.progress()!==ti&&i.progress(ti||0,!0).render(i.time(),!0,!0),(tn||Xt!==P.progress||I||y||i&&!i._initted)&&(i&&!S&&(i._initted||Xt||i.vars.immediateRender!==!1)&&i.totalProgress(I&&xe<-.001&&!Xt?z.utils.normalize(xe,st,0):Xt,!0),P.progress=tn||(kt-xe)/it===Xt?0:Xt),p&&_&&(yt._pinOffset=Math.round(P.progress*Or)),he&&he.invalidate(),isNaN(gs)||(gs-=z.getProperty(F,T.p),ms-=z.getProperty(kn,T.p),hp(F,T,gs),hp(en,T,gs-(J||0)),hp(kn,T,ms),hp(wn,T,ms-(J||0))),tn&&!Yn&&P.update(),d&&!Yn&&!Jr&&(Jr=!0,d(P),Jr=!1)}},P.getVelocity=function(){return(rt()-Jt)/(xn()-Cl)*1e3||0},P.endAnimation=function(){Dl(P.callbackAnimation),i&&(he?he.progress(1):i.paused()?S||Dl(i,P.direction<0,1):Dl(i,i.reversed()))},P.labelToScroll=function(j){return i&&i.labels&&(xe||P.refresh()||xe)+i.labels[j]/i.duration()*it||0},P.getTrailing=function(j){var ie=ve.indexOf(P),W=P.direction>0?ve.slice(0,ie).reverse():ve.slice(ie+1);return(Sr(j)?W.filter(function(J){return J.vars.preventOverlaps===j}):W).filter(function(J){return P.direction>0?J.end<=xe:J.start>=st})},P.update=function(j,ie,W){if(!(I&&!W&&!j)){var J=Yn===!0?On:P.scroll(),Ot=j?0:(J-xe)/it,Pe=Ot<0?0:Ot>1?1:Ot||0,Ke=P.progress,tn,lt,qe,Be,Fn,Ye,Et,gr;if(ie&&(Jt=kt,kt=I?rt():J,N&&(Ji=Di,Di=i&&!S?i.totalProgress():Pe)),b&&p&&!An&&!sp&&Kr&&(!Pe&&xe<J+(J-Jt)/(xn()-Cl)*b?Pe=1e-4:Pe===1&&st>J+(J-Jt)/(xn()-Cl)*b&&(Pe=.9999)),Pe!==Ke&&P.enabled){if(tn=P.isActive=!!Pe&&Pe<1,lt=!!Ke&&Ke<1,Ye=tn!==lt,Fn=Ye||!!Pe!=!!Ke,P.direction=Pe>Ke?1:-1,P.progress=Pe,Fn&&!An&&(qe=Pe&&!Ke?0:Pe===1?1:Ke===1?2:3,S&&(Be=!Ye&&Y[qe+1]!=="none"&&Y[qe+1]||Y[qe],gr=i&&(Be==="complete"||Be==="reset"||Be in i))),w&&(Ye||gr)&&(gr||h||!i)&&(Pn(w)?w(P):P.getTrailing(w).forEach(function(Ai){return Ai.endAnimation()})),S||(he&&!An&&!sp?(he._dp._time-he._start!==he._time&&he.render(he._dp._time-he._start),he.resetTo?he.resetTo("totalProgress",Pe,i._tTime/i._tDur):(he.vars.totalProgress=Pe,he.invalidate().restart())):i&&i.totalProgress(Pe,!!(An&&(pt||j)))),p){if(j&&_&&(yt.style[_+T.os2]=Mo),!ge)Xe(Al(ln+Or*Pe));else if(Fn){if(Et=!j&&Pe>Ke&&st+1>J&&J+1>=ji(C,T),L)if(!j&&(tn||Et)){var Ft=vo(p,!0),At=J-xe;bP(p,$e,Ft.top+(T===Ut?At:0)+Yt,Ft.left+(T===Ut?0:At)+Yt)}else bP(p,yt);kc(tn||Et?Ii:ei),Fr&&Pe<1&&tn||Xe(ln+(Pe===1&&!Et?Or:0))}}N&&!un.tween&&!An&&!sp&&dn.restart(!0),a&&(Ye||O&&Pe&&(Pe<1||!oE))&&Ll(a.targets).forEach(function(Ai){return Ai.classList[tn||O?"add":"remove"](a.className)}),s&&!S&&!j&&s(P),Fn&&!An?(S&&(gr&&(Be==="complete"?i.pause().totalProgress(1):Be==="reset"?i.restart(!0).pause():Be==="restart"?i.restart(!0):i[Be]()),s&&s(P)),(Ye||!oE)&&(l&&Ye&&aE(P,l),we[qe]&&aE(P,we[qe]),O&&(Pe===1?P.kill(!1,1):we[qe]=0),Ye||(qe=Pe===1?1:3,we[qe]&&aE(P,we[qe]))),E&&!tn&&Math.abs(P.getVelocity())>(xl(E)?E:2500)&&(Dl(P.callbackAnimation),he?he.progress(1):Dl(i,Be==="reverse"?1:!Pe,1))):S&&s&&!An&&s(P)}if(Zi){var Lt=I?J/I.duration()*(I._caScrollDist||0):J;Ti(Lt+(F._isFlipped?1:0)),Zi(Lt)}Zn&&Zn(-J/I.duration()*(I._caScrollDist||0))}},P.enable=function(j,ie){P.enabled||(P.enabled=!0,sn(C,"resize",Pl),ne||sn(C,"scroll",Pc),Qe&&sn(n,"refreshInit",Qe),j!==!1&&(P.progress=Xt=0,kt=Jt=ut=rt()),ie!==!1&&P.refresh())},P.getTween=function(j){return j&&un?un.tween:he},P.setPositions=function(j,ie,W,J){if(I){var Ot=I.scrollTrigger,Pe=I.duration(),Ke=Ot.end-Ot.start;j=Ot.start+Ke*j/Pe,ie=Ot.start+Ke*ie/Pe}P.refresh(!1,!1,{start:gP(j,W&&!!P._startClamp),end:gP(ie,W&&!!P._endClamp)},J),P.update()},P.adjustPinSpacing=function(j){if(vt&&j){var ie=vt.indexOf(T.d)+1;vt[ie]=parseFloat(vt[ie])+j+Yt,vt[1]=parseFloat(vt[1])+j+Yt,kc(vt)}},P.disable=function(j,ie){if(P.enabled&&(j!==!1&&P.revert(!0,!0),P.enabled=P.isActive=!1,ie||he&&he.pause(),On=0,Zt&&(Zt.uncache=1),Qe&&on(n,"refreshInit",Qe),dn&&(dn.pause(),un.tween&&un.tween.kill()&&(un.tween=0)),!ne)){for(var W=ve.length;W--;)if(ve[W].scroller===C&&ve[W]!==P)return;on(C,"resize",Pl),ne||on(C,"scroll",Pc)}},P.kill=function(j,ie){P.disable(j,ie),he&&!ie&&he.kill(),c&&delete gE[c];var W=ve.indexOf(P);W>=0&&ve.splice(W,1),W===Kn&&_p>0&&Kn--,W=0,ve.forEach(function(J){return J.scroller===P.scroller&&(W=1)}),W||Yn||(P.scroll.rec=0),i&&(i.scrollTrigger=null,j&&i.revert({kill:!1}),ie||i.kill()),en&&[en,wn,F,kn].forEach(function(J){return J.parentNode&&J.parentNode.removeChild(J)}),Fl===P&&(Fl=0),p&&(Zt&&(Zt.uncache=1),W=0,ve.forEach(function(J){return J.pin===p&&W++}),W||(Zt.spacer=0)),r.onKill&&r.onKill(P)},ve.push(P),P.enable(!1,!1),Lr&&Lr(P),i&&i.add&&!it){var ke=P.update;P.update=function(){P.update=ke,ye.cache++,xe||st||P.refresh()},z.delayedCall(.01,P.update),it=.01,xe=st=0}else P.refresh();p&&VH()},n.register=function(r){return Rc||(z=r||kP(),NP()&&window.document&&n.enable(),Rc=Sl),Rc},n.defaults=function(r){if(r)for(var i in r)lp[i]=r[i];return lp},n.disable=function(r,i){Sl=0,ve.forEach(function(s){return s[i?"kill":"disable"](r)}),on(Se,"wheel",Pc),on(ot,"scroll",Pc),clearInterval(op),on(ot,"touchcancel",Ui),on($e,"touchstart",Ui),cp(on,ot,"pointerdown,touchstart,mousedown",mP),cp(on,ot,"pointerup,touchend,mouseup",_P),Ep.kill(),ap(on);for(var o=0;o<ye.length;o+=3)up(on,ye[o],ye[o+1]),up(on,ye[o],ye[o+2])},n.enable=function(){if(Se=window,ot=document,Ar=ot.documentElement,$e=ot.body,z&&(Ll=z.utils.toArray,Rl=z.utils.clamp,hE=z.core.context||Ui,iE=z.core.suppressOverwrites||Ui,vE=Se.history.scrollRestoration||"auto",mE=Se.pageYOffset||0,z.core.globals("ScrollTrigger",n),$e)){Sl=1,Nc=document.createElement("div"),Nc.style.height="100vh",Nc.style.position="absolute",HP(),RH(),Dt.register(z),n.isTouch=Dt.isTouch,is=Dt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),fE=Dt.isTouch===1,sn(Se,"wheel",Pc),yE=[Se,ot,Ar,$e],z.matchMedia?(n.matchMedia=function(l){var d=z.matchMedia(),h;for(h in l)d.add(h,l[h]);return d},z.addEventListener("matchMediaInit",function(){return DE()}),z.addEventListener("matchMediaRevert",function(){return jP()}),z.addEventListener("matchMedia",function(){na(0,1),ca("matchMedia")}),z.matchMedia().add("(orientation: portrait)",function(){return cE(),cE})):console.warn("Requires GSAP 3.11.0 or later"),cE(),sn(ot,"scroll",Pc);var r=$e.hasAttribute("style"),i=$e.style,o=i.borderTopStyle,s=z.core.Animation.prototype,a,c;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=vo($e),Ut.m=Math.round(a.top+Ut.sc())||0,Sn.m=Math.round(a.left+Sn.sc())||0,o?i.borderTopStyle=o:i.removeProperty("border-top-style"),r||($e.setAttribute("style",""),$e.removeAttribute("style")),op=setInterval(EP,250),z.delayedCall(.5,function(){return sp=0}),sn(ot,"touchcancel",Ui),sn($e,"touchstart",Ui),cp(sn,ot,"pointerdown,touchstart,mousedown",mP),cp(sn,ot,"pointerup,touchend,mouseup",_P),dE=z.utils.checkPrefix("transform"),yp.push(dE),Rc=xn(),Ep=z.delayedCall(.2,na).pause(),Mc=[ot,"visibilitychange",function(){var l=Se.innerWidth,d=Se.innerHeight;ot.hidden?(fP=l,hP=d):(fP!==l||hP!==d)&&Pl()},ot,"DOMContentLoaded",na,Se,"load",na,Se,"resize",Pl],ap(sn),ve.forEach(function(l){return l.enable(0,1)}),c=0;c<ye.length;c+=3)up(on,ye[c],ye[c+1]),up(on,ye[c],ye[c+2])}},n.config=function(r){"limitCallbacks"in r&&(oE=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(op)||(op=i)&&setInterval(EP,i),"ignoreMobileResize"in r&&(fE=n.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(ap(on)||ap(sn,r.autoRefreshEvents||"none"),PP=(r.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(r,i){var o=Wn(r),s=ye.indexOf(o),a=sa(o);~s&&ye.splice(s,a?6:2),i&&(a?mi.unshift(Se,i,$e,i,Ar,i):mi.unshift(o,i))},n.clearMatchMedia=function(r){ve.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},n.isInViewport=function(r,i,o){var s=(Sr(r)?Wn(r):r).getBoundingClientRect(),a=s[o?ra:ia]*i||0;return o?s.right-a>0&&s.left+a<Se.innerWidth:s.bottom-a>0&&s.top+a<Se.innerHeight},n.positionInViewport=function(r,i,o){Sr(r)&&(r=Wn(r));var s=r.getBoundingClientRect(),a=s[o?ra:ia],c=i==null?a/2:i in Tp?Tp[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return o?(s.left+c)/Se.innerWidth:(s.top+c)/Se.innerHeight},n.killAll=function(r){if(ve.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),r!==!0){var i=aa.killAll||[];aa={},i.forEach(function(o){return o()})}},n}();Ae.version="3.13.0";Ae.saveStyles=function(n){return n?Ll(n).forEach(function(e){if(e&&e.style){var t=Cr.indexOf(e);t>=0&&Cr.splice(t,5),Cr.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),z.core.getCache(e),hE())}}):Cr};Ae.revert=function(n,e){return DE(!n,e)};Ae.create=function(n,e){return new Ae(n,e)};Ae.refresh=function(n){return n?Pl(!0):(Rc||Ae.register())&&na(!0)};Ae.update=function(n){return++ye.cache&&Eo(n===!0?2:0)};Ae.clearScrollMemory=$P;Ae.maxScroll=function(n,e){return ji(n,e?Sn:Ut)};Ae.getScrollFunc=function(n,e){return _o(Wn(n),e?Sn:Ut)};Ae.getById=function(n){return gE[n]};Ae.getAll=function(){return ve.filter(function(n){return n.vars.id!=="ScrollSmoother"})};Ae.isScrolling=function(){return!!Kr};Ae.snapDirectional=bE;Ae.addEventListener=function(n,e){var t=aa[n]||(aa[n]=[]);~t.indexOf(e)||t.push(e)};Ae.removeEventListener=function(n,e){var t=aa[n],r=t&&t.indexOf(e);r>=0&&t.splice(r,1)};Ae.batch=function(n,e){var t=[],r={},i=e.interval||.016,o=e.batchMax||1e9,s=function(l,d){var h=[],m=[],p=z.delayedCall(i,function(){d(h,m),h=[],m=[]}).pause();return function(_){h.length||p.restart(!0),h.push(_.trigger),m.push(_),o<=h.length&&p.progress(1)}},a;for(a in e)r[a]=a.substr(0,2)==="on"&&Pn(e[a])&&a!=="onRefreshInit"?s(a,e[a]):e[a];return Pn(o)&&(o=o(),sn(Ae,"refresh",function(){return o=e.batchMax()})),Ll(n).forEach(function(c){var l={};for(a in r)l[a]=r[a];l.trigger=c,t.push(Ae.create(l))}),t};var CP=function(e,t,r,i){return t>i?e(i):t<0&&e(0),r>i?(i-t)/(r-t):r<0?t/(t-r):1},lE=function n(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Dt.isTouch?" pinch-zoom":""):"none",e===Ar&&n($e,t)},pp={auto:1,scroll:1},HH=function(e){var t=e.event,r=e.target,i=e.axis,o=(t.changedTouches?t.changedTouches[0]:t).target,s=o._gsap||z.core.getCache(o),a=xn(),c;if(!s._isScrollT||a-s._isScrollT>2e3){for(;o&&o!==$e&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(pp[(c=Gr(o)).overflowY]||pp[c.overflowX]));)o=o.parentNode;s._isScroll=o&&o!==r&&!sa(o)&&(pp[(c=Gr(o)).overflowY]||pp[c.overflowX]),s._isScrollT=a}(s._isScroll||i==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},qP=function(e,t,r,i){return Dt.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:i=i&&HH,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&sn(ot,Dt.eventTypes[0],AP,!1,!0)},onDisable:function(){return on(ot,Dt.eventTypes[0],AP,!0)}})},zH=/(input|label|select|textarea)/i,SP,AP=function(e){var t=zH.test(e.target.tagName);(t||SP)&&(e._gsapAllow=!0,SP=t)},qH=function(e){ta(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,r=t.normalizeScrollX,i=t.momentum,o=t.allowNestedScroll,s=t.onRelease,a,c,l=Wn(e.target)||Ar,d=z.core.globals().ScrollSmoother,h=d&&d.get(),m=is&&(e.content&&Wn(e.content)||h&&e.content!==!1&&!h.smooth()&&h.content()),p=_o(l,Ut),_=_o(l,Sn),y=1,b=(Dt.isTouch&&Se.visualViewport?Se.visualViewport.scale*Se.visualViewport.width:Se.outerWidth)/Se.innerWidth,A=0,R=Pn(i)?function(){return i(a)}:function(){return i||2.8},O,N,L=qP(l,e.type,!0,o),V=function(){return N=!1},I=Ui,E=Ui,w=function(){c=ji(l,Ut),E=Rl(is?1:0,c),r&&(I=Rl(0,ji(l,Sn))),O=oa},T=function(){m._gsap.y=Al(parseFloat(m._gsap.y)+p.offset)+"px",m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(m._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},S=function(){if(N){requestAnimationFrame(V);var Ie=Al(a.deltaY/2),ze=E(p.v-Ie);if(m&&ze!==p.v+p.offset){p.offset=ze-p.v;var P=Al((parseFloat(m&&m._gsap.y)||0)-p.offset);m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+P+", 0, 1)",m._gsap.y=P+"px",p.cacheID=ye.cache,Eo()}return!0}p.offset&&T(),N=!0},C,D,ne,ge,we=function(){w(),C.isActive()&&C.vars.scrollY>c&&(p()>c?C.progress(1)&&p(c):C.resetTo("scrollY",c))};return m&&z.set(m,{y:"+=0"}),e.ignoreCheck=function(Y){return is&&Y.type==="touchmove"&&S(Y)||y>1.05&&Y.type!=="touchstart"||a.isGesturing||Y.touches&&Y.touches.length>1},e.onPress=function(){N=!1;var Y=y;y=Al((Se.visualViewport&&Se.visualViewport.scale||1)/b),C.pause(),Y!==y&&lE(l,y>1.01?!0:r?!1:"x"),D=_(),ne=p(),w(),O=oa},e.onRelease=e.onGestureStart=function(Y,Ie){if(p.offset&&T(),!Ie)ge.restart(!0);else{ye.cache++;var ze=R(),P,Qe;r&&(P=_(),Qe=P+ze*.05*-Y.velocityX/.227,ze*=CP(_,P,Qe,ji(l,Sn)),C.vars.scrollX=I(Qe)),P=p(),Qe=P+ze*.05*-Y.velocityY/.227,ze*=CP(p,P,Qe,ji(l,Ut)),C.vars.scrollY=E(Qe),C.invalidate().duration(ze).play(.01),(is&&C.vars.scrollY>=c||P>=c-1)&&z.to({},{onUpdate:we,duration:ze})}s&&s(Y)},e.onWheel=function(){C._ts&&C.pause(),xn()-A>1e3&&(O=0,A=xn())},e.onChange=function(Y,Ie,ze,P,Qe){if(oa!==O&&w(),Ie&&r&&_(I(P[2]===Ie?D+(Y.startX-Y.x):_()+Ie-P[1])),ze){p.offset&&T();var ct=Qe[2]===ze,Ge=ct?ne+Y.startY-Y.y:p()+ze-Qe[1],ut=E(Ge);ct&&Ge!==ut&&(ne+=ut-Ge),p(ut)}(ze||Ie)&&Eo()},e.onEnable=function(){lE(l,r?!1:"x"),Ae.addEventListener("refresh",we),sn(Se,"resize",we),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=_.smooth=!1),L.enable()},e.onDisable=function(){lE(l,!0),on(Se,"resize",we),Ae.removeEventListener("refresh",we),L.kill()},e.lockAxis=e.lockAxis!==!1,a=new Dt(e),a.iOS=is,is&&!p()&&p(1),is&&z.ticker.add(Ui),ge=a._dc,C=z.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:zP(p,p(),function(){return C.pause()})},onUpdate:Eo,onComplete:ge.vars.onComplete}),a};Ae.sort=function(n){if(Pn(n))return ve.sort(n);var e=Se.pageYOffset||0;return Ae.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Se.innerHeight}),ve.sort(n||function(t,r){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};Ae.observe=function(n){return new Dt(n)};Ae.normalizeScroll=function(n){if(typeof n>"u")return Gn;if(n===!0&&Gn)return Gn.enable();if(n===!1){Gn&&Gn.kill(),Gn=n;return}var e=n instanceof Dt?n:qH(n);return Gn&&Gn.target===e.target&&Gn.kill(),sa(e.target)&&(Gn=e),e};Ae.core={_getVelocityProp:ip,_inputObserver:qP,_scrollers:ye,_proxies:mi,bridge:{ss:function(){Kr||ca("scrollStart"),Kr=xn()},ref:function(){return An}}};kP()&&z.registerPlugin(Ae);var WP=()=>{};var KP=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},WH=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Dp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,p=l&63;c||(p=64,s||(m=64)),r.push(t[d],t[h],t[m],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WH(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||h==null)throw new SE;let m=o<<2|a>>4;if(r.push(m),l!==64){let p=a<<4&240|l>>2;if(r.push(p),h!==64){let _=l<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},SE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},GH=function(n){let e=KP(n);return Dp.encodeByteArray(e,!0)},Bl=function(n){return GH(n).replace(/\./g,"")},Cp=function(n){try{return Dp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var KH=()=>xE().__FIREBASE_DEFAULTS__,YH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Cp(n[1]);return e&&JSON.parse(e)},Sp=()=>{try{return WP()||KH()||YH()||QH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},YP=n=>{var e,t;return(t=(e=Sp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},QP=n=>{let e=YP(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},PE=()=>{var n;return(n=Sp())===null||n===void 0?void 0:n.config},XP=n=>{var e;return(e=Sp())===null||e===void 0?void 0:e[`_${n}`]};var ua=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ZP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bl(JSON.stringify(t)),Bl(JSON.stringify(s)),""].join(".")}function xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xr())}function XH(){var n;let e=(n=Sp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rR(){return!XH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ul(){try{return typeof indexedDB=="object"}catch{return!1}}function iR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var ZH="FirebaseError",Yr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ZH,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_i.prototype.create)}},_i=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?JH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Yr(i,a,r)}};function JH(n,e){return n.replace(ez,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ez=/\{\$([^}]+)}/g;function la(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(GP(o)&&GP(s)){if(!la(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function GP(n){return n!==null&&typeof n=="object"}function RE(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oR(n,e){let t=new AE(n,e);return t.subscribe.bind(t)}var AE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");tz(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=CE),i.error===void 0&&(i.error=CE),i.complete===void 0&&(i.complete=CE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function tz(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function CE(){}var zZ=4*60*60*1e3;function Rn(n){return n&&n._delegate?n._delegate:n}function jl(n){return n.endsWith(".cloudworkstations.dev")}function ME(n){return M(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}var Qn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var da="[DEFAULT]";var NE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ua;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rz(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return M(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nz(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nz(n){return n===da?void 0:n}function rz(n){return n.instantiationMode==="EAGER"}var Ap=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new NE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var iz=[],Re=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Re||{}),oz={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},sz=Re.INFO,az={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},cz=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=az[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$i=class{constructor(e){this.name=e,this._logLevel=sz,this._logHandler=cz,this._userLogHandler=null,iz.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}};var uz=(n,e)=>e.some(t=>n instanceof t),sR,aR;function lz(){return sR||(sR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dz(){return aR||(aR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var cR=new WeakMap,OE=new WeakMap,uR=new WeakMap,kE=new WeakMap,LE=new WeakMap;function fz(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Hi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&cR.set(t,n)}).catch(()=>{}),LE.set(e,n),e}function hz(n){if(OE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});OE.set(n,e)}var FE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return OE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function lR(n){FE=n(FE)}function pz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(xp(this),e,...t);return uR.set(r,e.sort?e.sort():[e]),Hi(r)}:dz().includes(n)?function(...e){return n.apply(xp(this),e),Hi(cR.get(this))}:function(...e){return Hi(n.apply(xp(this),e))}}function gz(n){return typeof n=="function"?pz(n):(n instanceof IDBTransaction&&hz(n),uz(n,lz())?new Proxy(n,FE):n)}function Hi(n){if(n instanceof IDBRequest)return fz(n);if(kE.has(n))return kE.get(n);let e=gz(n);return e!==n&&(kE.set(n,e),LE.set(e,n)),e}var xp=n=>LE.get(n);function fR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Hi(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Hi(s.result),c.oldVersion,c.newVersion,Hi(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var mz=["get","getKey","getAll","getAllKeys","count"],_z=["put","add","delete","clear"],VE=new Map;function dR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(VE.get(e))return VE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=_z.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mz.includes(t)))return;let o=function(s,...a){return M(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return VE.set(e,o),o}lR(n=>pn(hn({},n),{get:(e,t,r)=>dR(e,t)||n.get(e,t,r),has:(e,t)=>!!dR(e,t)||n.has(e,t)}));var UE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yz(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function yz(n){let e=n.getComponent();return e?.type==="VERSION"}var jE="@firebase/app",hR="0.12.1";var wo=new $i("@firebase/app"),vz="@firebase/app-compat",Ez="@firebase/analytics-compat",wz="@firebase/analytics",Iz="@firebase/app-check-compat",Tz="@firebase/app-check",bz="@firebase/auth",Dz="@firebase/auth-compat",Cz="@firebase/database",Sz="@firebase/data-connect",Az="@firebase/database-compat",xz="@firebase/functions",Pz="@firebase/functions-compat",Rz="@firebase/installations",Mz="@firebase/installations-compat",Nz="@firebase/messaging",kz="@firebase/messaging-compat",Oz="@firebase/performance",Fz="@firebase/performance-compat",Lz="@firebase/remote-config",Vz="@firebase/remote-config-compat",Bz="@firebase/storage",Uz="@firebase/storage-compat",jz="@firebase/firestore",$z="@firebase/vertexai",Hz="@firebase/firestore-compat",zz="firebase",qz="11.7.1";var $E="[DEFAULT]",Wz={[jE]:"fire-core",[vz]:"fire-core-compat",[wz]:"fire-analytics",[Ez]:"fire-analytics-compat",[Tz]:"fire-app-check",[Iz]:"fire-app-check-compat",[bz]:"fire-auth",[Dz]:"fire-auth-compat",[Cz]:"fire-rtdb",[Sz]:"fire-data-connect",[Az]:"fire-rtdb-compat",[xz]:"fire-fn",[Pz]:"fire-fn-compat",[Rz]:"fire-iid",[Mz]:"fire-iid-compat",[Nz]:"fire-fcm",[kz]:"fire-fcm-compat",[Oz]:"fire-perf",[Fz]:"fire-perf-compat",[Lz]:"fire-rc",[Vz]:"fire-rc-compat",[Bz]:"fire-gcs",[Uz]:"fire-gcs-compat",[jz]:"fire-fst",[Hz]:"fire-fst-compat",[$z]:"fire-vertex","fire-js":"fire-js",[zz]:"fire-js-all"};var $l=new Map,Gz=new Map,HE=new Map;function pR(n,e){try{n.container.addComponent(e)}catch(t){wo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yi(n){let e=n.name;if(HE.has(e))return wo.debug(`There were multiple attempts to register component ${e}.`),!1;HE.set(e,n);for(let t of $l.values())pR(t,n);for(let t of Gz.values())pR(t,n);return!0}function Pp(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Io(n){return n==null?!1:n.settings!==void 0}var Kz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new _i("app","Firebase",Kz);var zE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}};var Fc=qz;function GE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:$E,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw os.create("bad-app-name",{appName:String(i)});if(t||(t=PE()),!t)throw os.create("no-options");let o=$l.get(i);if(o){if(la(t,o.options)&&la(r,o.config))return o;throw os.create("duplicate-app",{appName:i})}let s=new Ap(i);for(let c of HE.values())s.addComponent(c);let a=new zE(t,r,s);return $l.set(i,a),a}function Lc(n=$E){let e=$l.get(n);if(!e&&n===$E&&PE())return GE();if(!e)throw os.create("no-app",{appName:n});return e}function Rp(){return Array.from($l.values())}function Nt(n,e,t){var r;let i=(r=Wz[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wo.warn(a.join(" "));return}yi(new Qn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Yz="firebase-heartbeat-database",Qz=1,Hl="firebase-heartbeat-store",BE=null;function yR(){return BE||(BE=fR(Yz,Qz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hl)}catch(t){console.warn(t)}}}}).catch(n=>{throw os.create("idb-open",{originalErrorMessage:n.message})})),BE}function Xz(n){return M(this,null,function*(){try{let t=(yield yR()).transaction(Hl),r=yield t.objectStore(Hl).get(vR(n));return yield t.done,r}catch(e){if(e instanceof Yr)wo.warn(e.message);else{let t=os.create("idb-get",{originalErrorMessage:e?.message});wo.warn(t.message)}}})}function gR(n,e){return M(this,null,function*(){try{let r=(yield yR()).transaction(Hl,"readwrite");yield r.objectStore(Hl).put(e,vR(n)),yield r.done}catch(t){if(t instanceof Yr)wo.warn(t.message);else{let r=os.create("idb-set",{originalErrorMessage:t?.message});wo.warn(r.message)}}})}function vR(n){return`${n.name}!${n.options.appId}`}var Zz=1024,Jz=30,qE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new WE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return M(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Jz){let s=t4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wo.warn(r)}})}getHeartbeatsHeader(){return M(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=mR(),{heartbeatsToSend:r,unsentEntries:i}=e4(this._heartbeatsCache.heartbeats),o=Bl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return wo.warn(t),""}})}};function mR(){return new Date().toISOString().substring(0,10)}function e4(n,e=Zz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_R(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),_R(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var WE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(this,null,function*(){return Ul()?iR().then(()=>!0).catch(()=>!1):!1})}read(){return M(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Xz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function _R(n){return Bl(JSON.stringify({version:2,heartbeats:n})).length}function t4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function n4(n){yi(new Qn("platform-logger",e=>new UE(e),"PRIVATE")),yi(new Qn("heartbeat",e=>new qE(e),"PRIVATE")),Nt(jE,hR,n),Nt(jE,hR,"esm2017"),Nt("fire-js","")}n4("");var r4="firebase",i4="11.7.1";Nt(r4,i4,"app");function KE(n){n===void 0&&(Zu(KE),n=q(or));let e=n.get(nl);return t=>new me(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var ha=new Yu("ANGULARFIRE2_VERSION");function Np(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Bc=(n,e)=>{let t=e?[e]:Rp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Vc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Vc||{}),ER=nv()&&typeof Zone<"u"?Vc.WARN:Vc.SILENT;var Mp=class{zone;delegate;constructor(e,t=Mm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},pa=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=q(xt);this.outsideAngular=t.runOutsideAngular(()=>new Mp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Mp(typeof Zone>"u"?void 0:Zone.current,Fo))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wR=!1;function o4(n,e){!wR&&(ER>Vc.SILENT||nv())&&(wR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ER>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function s4(n){let e=q(xt,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function fa(n){let e=q(xt,{optional:!0});return e?e.run(()=>n()):n()}var a4=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ac(t,()=>fa(()=>n.apply(void 0,r)))),fr=(n,e,t)=>(t||=e?Vc.WARN:Vc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=q(pa),s=q(nl),a=q(di)}catch{return o4(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=fa(()=>s.add())),i[l]=a4(i[l],r,a));let c=s4(()=>n.apply(this,i));return e?c instanceof me?c.pipe(Vo(o.outsideAngular),Lo(o.insideAngular),KE(a)):c instanceof Promise?fa(()=>new Promise((l,d)=>{s.run(()=>c).then(h=>ac(a,()=>fa(()=>l(h))),h=>ac(a,()=>fa(()=>d(h))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:fa(()=>c):c instanceof me?c.pipe(Vo(o.outsideAngular),Lo(o.insideAngular)):fa(()=>c)});var ga=class{constructor(e){return e}},zl=class{constructor(){return Rp()}};function c4(n){return n&&n.length===1?n[0]:new ga(Lc())}var YE=new de("angularfire2._apps"),u4={provide:ga,useFactory:c4,deps:[[new uo,YE]]},l4={provide:zl,deps:[[new uo,YE]]};function d4(n){return(e,t)=>{let r=t.get(zC);Nt("angularfire",ha.full,"core"),Nt("angularfire",ha.full,"app"),Nt("angular",RA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ga(i)}}function UJ(n,...e){return sc([u4,l4,{provide:YE,useFactory:d4(n),multi:!0,deps:[xt,or,pa,...e]}])}var jJ=fr(GE,!0);var f4=new Map,h4={activated:!1,tokenObservers:[]},p4={initialized:!1,enabled:!1};function vi(n){return f4.get(n)||Object.assign({},h4)}function DR(){return p4}var g4="https://content-firebaseappcheck.googleapis.com/v1";var m4="exchangeDebugToken",IR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},QJ=24*60*60*1e3;var ZE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return M(this,null,function*(){this.stop();try{this.pending=new ua,this.pending.promise.catch(t=>{}),yield _4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ua,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function _4(n){return new Promise(e=>{setTimeout(e,n)})}var y4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ss=new _i("appCheck","AppCheck",y4);function CR(n){if(!vi(n).activated)throw ss.create("use-before-activation",{appName:n.name})}function SR(r,i){return M(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let p=yield s.getHeartbeatsHeader();p&&(o["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(p){throw ss.create("fetch-network-error",{originalErrorMessage:p?.message})}if(c.status!==200)throw ss.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(p){throw ss.create("fetch-parse-error",{originalErrorMessage:p?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let h=Number(d[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+h,issuedAtTimeMillis:m}})}function AR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${g4}/projects/${t}/apps/${r}:${m4}?key=${i}`,body:{debug_token:e}}}var v4="firebase-app-check-database",E4=1,JE="firebase-app-check-store";var kp=null;function w4(){return kp||(kp=new Promise((n,e)=>{try{let t=indexedDB.open(v4,E4);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ss.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(JE,{keyPath:"compositeKey"})}}}catch(t){e(ss.create("storage-open",{originalErrorMessage:t?.message}))}}),kp)}function I4(n,e){return T4(b4(n),e)}function T4(n,e){return M(this,null,function*(){let r=(yield w4()).transaction(JE,"readwrite"),o=r.objectStore(JE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(ss.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function b4(n){return`${n.options.appId}-${n.name}`}var ql=new $i("@firebase/app-check");function QE(n,e){return Ul()?I4(n,e).catch(t=>{ql.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xR(){return DR().enabled}function PR(){return M(this,null,function*(){let n=DR();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var D4={error:"UNKNOWN_ERROR"};function C4(n){return Dp.encodeString(JSON.stringify(n),!1)}function ew(n,e=!1,t=!1){return M(this,null,function*(){let r=n.app;CR(r);let i=vi(r),o=i.token,s;if(o&&!Wl(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Wl(l)?o=l:yield QE(r,void 0))}if(!e&&o&&Wl(o))return{token:o.token};let a=!1;if(xR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=SR(AR(r,yield PR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield QE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ql.warn(l.message):t&&ql.error(l),XE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield vi(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ql.warn(l.message):t&&ql.error(l),s=l}let c;return o?s?Wl(o)?c={token:o.token,internalError:s}:c=XE(s):(c={token:o.token},i.token=o,yield QE(r,o)):c=XE(s),a&&P4(r,c),c})}function S4(n){return M(this,null,function*(){let e=n.app;CR(e);let{provider:t}=vi(e);if(xR()){let r=yield PR(),{token:i}=yield SR(AR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function A4(n,e,t,r){let{app:i}=n,o=vi(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Wl(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),TR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>TR(n))}function RR(n,e){let t=vi(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function TR(n){let{app:e}=n,t=vi(e),r=t.tokenRefresher;r||(r=x4(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function x4(n){let{app:e}=n;return new ZE(()=>M(null,null,function*(){let t=vi(e),r;if(t.token?r=yield ew(n,!0):r=yield ew(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=vi(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},IR.RETRIAL_MIN_WAIT,IR.RETRIAL_MAX_WAIT)}function P4(n,e){let t=vi(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Wl(n){return n.expireTimeMillis-Date.now()>0}function XE(n){return{token:C4(D4),error:n}}var tw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=vi(this.app);for(let t of e)RR(this.app,t.next);return Promise.resolve()}};function R4(n,e){return new tw(n,e)}function M4(n){return{getToken:e=>ew(n,e),getLimitedUseToken:()=>S4(n),addTokenListener:e=>A4(n,"INTERNAL",e),removeTokenListener:e=>RR(n.app,e)}}var N4="@firebase/app-check",k4="0.9.1";var O4="app-check",bR="app-check-internal";function F4(){yi(new Qn(O4,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return R4(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bR).initialize()})),yi(new Qn(bR,n=>{let e=n.getProvider("app-check").getImmediate();return M4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Nt(N4,k4)}F4();var L4="app-check";var Op=class{constructor(){return Bc(L4)}};var V4=["localhost","0.0.0.0","127.0.0.1"],uee=typeof window<"u"&&V4.includes(window.location.hostname);function BR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var UR=BR,jR=new _i("auth","Firebase",BR());var Bp=new $i("@firebase/auth");function U4(n,...e){Bp.logLevel<=Re.WARN&&Bp.warn(`Auth (${Fc}): ${n}`,...e)}function Lp(n,...e){Bp.logLevel<=Re.ERROR&&Bp.error(`Auth (${Fc}): ${n}`,...e)}function MR(n,...e){throw hw(n,...e)}function fw(n,...e){return hw(n,...e)}function $R(n,e,t){let r=Object.assign(Object.assign({},UR()),{[e]:t});return new _i("auth","Firebase",r).create(e,{appName:n.name})}function Vp(n){return $R(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hw(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return jR.create(n,...e)}function Ve(n,e,...t){if(!n)throw hw(e,...t)}function Gl(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Lp(e),new Error(e)}function Up(n,e){n||Gl(e)}function j4(){return NR()==="http:"||NR()==="https:"}function NR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function $4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j4()||tR()||"connection"in navigator)?navigator.onLine:!0}function H4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ya=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Up(t>e,"Short delay should be less than long delay!"),this.isMobile=JP()||nR()}get(){return $4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function z4(n,e){Up(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var jp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var q4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var W4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G4=new ya(3e4,6e4);function HR(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Wp(o,s,a,c){return M(this,arguments,function*(n,e,t,r,i={}){return zR(n,i,()=>M(null,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let h=RE(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let p=Object.assign({method:e,headers:m},l);return eR()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&jl(n.emulatorConfig.host)&&(p.credentials="include"),jp.fetch()(yield qR(n,n.config.apiHost,t,h),p)}))})}function zR(n,e,t){return M(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},q4),e);try{let i=new iw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Fp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fp(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Fp(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Fp(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $R(n,d,l);MR(n,d)}}catch(i){if(i instanceof Yr)throw i;MR(n,"network-request-failed",{message:String(i)})}})}function qR(n,e,t,r){return M(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?z4(n.config,i):`${n.config.apiScheme}://${i}`;return W4.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var iw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(fw(this.auth,"network-request-failed")),G4.get())})}};function Fp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=fw(n,e,r);return i.customData._tokenResponse=t,i}function K4(n,e){return M(this,null,function*(){return Wp(n,"POST","/v1/accounts:delete",e)})}function $p(n,e){return M(this,null,function*(){return Wp(n,"POST","/v1/accounts:lookup",e)})}function Kl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function pw(n,e=!1){return M(this,null,function*(){let t=Rn(n),r=yield t.getIdToken(e),i=WR(r);Ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Kl(nw(i.auth_time)),issuedAtTime:Kl(nw(i.iat)),expirationTime:Kl(nw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function nw(n){return Number(n)*1e3}function WR(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Lp("JWT malformed, contained fewer than 3 sections"),null;try{let i=Cp(t);return i?JSON.parse(i):(Lp("Failed to decode base64 JWT payload"),null)}catch(i){return Lp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kR(n){let e=WR(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ow(n,e,t=!1){return M(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Yr&&Y4(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Y4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var sw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>M(this,null,function*(){yield this.iteration()}),t)}iteration(){return M(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ql=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Hp(n){return M(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ow(n,$p(t,{idToken:r}));Ve(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GR(o.providerUserInfo):[],a=Q4(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,d=c?l:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ql(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,h)})}function gw(n){return M(this,null,function*(){let e=Rn(n);yield Hp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Q4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GR(n){return n.map(e=>{var{providerId:t}=e,r=km(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function X4(n,e){return M(this,null,function*(){let t=yield zR(n,{},()=>M(null,null,function*(){let r=RE({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield qR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Z4(n,e){return M(this,null,function*(){return Wp(n,"POST","/v2/accounts:revokeToken",HR(n,e))})}var Yl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");let t=kR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return M(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return M(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield X4(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Gl("not implemented")}};function as(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ma=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ql(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return M(this,null,function*(){let t=yield ow(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return pw(this,e)}reload(){return gw(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return M(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Hp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return M(this,null,function*(){if(Io(this.auth.app))return Promise.reject(Vp(this.auth));let e=yield this.getIdToken();return yield ow(this,K4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,d;let h=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,p=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=t.photoURL)!==null&&s!==void 0?s:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,b=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,A=(l=t.createdAt)!==null&&l!==void 0?l:void 0,R=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:O,emailVerified:N,isAnonymous:L,providerData:V,stsTokenManager:I}=t;Ve(O&&I,e,"internal-error");let E=Yl.fromJSON(this.name,I);Ve(typeof O=="string",e,"internal-error"),as(h,e.name),as(m,e.name),Ve(typeof N=="boolean",e,"internal-error"),Ve(typeof L=="boolean",e,"internal-error"),as(p,e.name),as(_,e.name),as(y,e.name),as(b,e.name),as(A,e.name),as(R,e.name);let w=new n({uid:O,auth:e,email:m,emailVerified:N,displayName:h,isAnonymous:L,photoURL:_,phoneNumber:p,tenantId:y,stsTokenManager:E,createdAt:A,lastLoginAt:R});return V&&Array.isArray(V)&&(w.providerData=V.map(T=>Object.assign({},T))),b&&(w._redirectEventId=b),w}static _fromIdTokenResponse(e,t,r=!1){return M(this,null,function*(){let i=new Yl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Hp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return M(this,null,function*(){let i=t.users[0];Ve(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?GR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Yl;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ql(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var OR=new Map;function _a(n){Up(n instanceof Function,"Expected a class definition");let e=OR.get(n);return e?(Up(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,OR.set(n,e),e)}var J4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return M(this,null,function*(){return!0})}_set(t,r){return M(this,null,function*(){this.storage[t]=r})}_get(t){return M(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return M(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),aw=J4;function rw(n,e,t){return`firebase:${n}:${e}:${t}`}var zp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=rw(this.userKey,i.apiKey,o),this.fullPersistenceKey=rw("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return M(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield $p(this.auth,{idToken:e}).catch(()=>{});return t?ma._fromGetAccountInfoResponse(this.auth,t,e):null}return ma._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return M(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return M(this,null,function*(){if(!t.length)return new n(_a(aw),e,r);let i=(yield Promise.all(t.map(l=>M(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||_a(aw),s=rw(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let d=yield l._get(s);if(d){let h;if(typeof d=="string"){let m=yield $p(e,{idToken:d}).catch(()=>{});if(!m)break;h=yield ma._fromGetAccountInfoResponse(e,m,d)}else h=ma._fromJSON(e,d);l!==o&&(a=h),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>M(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function FR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oq(e))return"Blackberry";if(sq(e))return"Webos";if(tq(e))return"Safari";if((e.includes("chrome/")||nq(e))&&!e.includes("edge/"))return"Chrome";if(iq(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function eq(n=xr()){return/firefox\//i.test(n)}function tq(n=xr()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nq(n=xr()){return/crios\//i.test(n)}function rq(n=xr()){return/iemobile/i.test(n)}function iq(n=xr()){return/android/i.test(n)}function oq(n=xr()){return/blackberry/i.test(n)}function sq(n=xr()){return/webos/i.test(n)}function KR(n,e=[]){let t;switch(n){case"Browser":t=FR(xr());break;case"Worker":t=`${FR(xr())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fc}/${r}`}var cw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return M(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function aq(t){return M(this,arguments,function*(n,e={}){return Wp(n,"GET","/v2/passwordPolicy",HR(n,e))})}var cq=6,uw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:cq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var lw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qp(this),this.idTokenSubscription=new qp(this),this.beforeStateQueue=new cw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_a(t)),this._initializationPromise=this.queue(()=>M(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield zp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return M(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return M(this,null,function*(){try{let t=yield $p(this,{idToken:e}),r=yield ma._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return M(this,null,function*(){var t;if(Io(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return M(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return M(this,null,function*(){try{yield Hp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=H4()}_delete(){return M(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return M(this,null,function*(){if(Io(this.app))return Promise.reject(Vp(this));let t=e?Rn(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return M(this,null,function*(){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>M(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return M(this,null,function*(){return Io(this.app)?Promise.reject(Vp(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Io(this.app)?Promise.reject(Vp(this)):this.queue(()=>M(this,null,function*(){yield this.assertedPersistence.setPersistence(_a(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return M(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return M(this,null,function*(){let e=yield aq(this),t=new uw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _i("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return M(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Z4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return M(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return M(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&_a(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=yield zp.create(this,[_a(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return M(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>M(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return M(this,null,function*(){if(e===this.currentUser)return this.queue(()=>M(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return M(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return M(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return M(this,null,function*(){var e;if(Io(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&U4(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function uq(n){return Rn(n)}var qp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=oR(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var lq={loadJS(){return M(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dq(n){lq=n}function fq(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function hq(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_a);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var wee=fq("rcb"),Iee=new ya(3e4,6e4);var Tee=new ya(2e3,1e4);var bee=10*60*1e3;var Dee=new ya(3e4,6e4);var Cee=new ya(5e3,15e3);var See=encodeURIComponent("fac");var LR="@firebase/auth",VR="1.10.2";var dw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return M(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gq(n){yi(new Qn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KR(n)},l=new lw(r,i,o,c);return hq(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),yi(new Qn("auth-internal",e=>{let t=uq(e.getProvider("auth").getImmediate());return(r=>new dw(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nt(LR,VR,pq(n)),Nt(LR,VR,"esm2017")}var mq=5*60,Aee=XP("authIdTokenMaxAge")||mq;function _q(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=fw("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",_q().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gq("Browser");var g3="auth";var Gp=class{constructor(){return Bc(g3)}};var YR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},QR={};var To,mw;(function(){var n;function e(I,E){function w(){}w.prototype=E.prototype,I.D=E.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(T,S,C){for(var D=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)D[ne-2]=arguments[ne];return E.prototype[S].apply(T,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,E,w){w||(w=0);var T=Array(16);if(typeof E=="string")for(var S=0;16>S;++S)T[S]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(S=0;16>S;++S)T[S]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=I.g[0],w=I.g[1],S=I.g[2];var C=I.g[3],D=E+(C^w&(S^C))+T[0]+3614090360&4294967295;E=w+(D<<7&4294967295|D>>>25),D=C+(S^E&(w^S))+T[1]+3905402710&4294967295,C=E+(D<<12&4294967295|D>>>20),D=S+(w^C&(E^w))+T[2]+606105819&4294967295,S=C+(D<<17&4294967295|D>>>15),D=w+(E^S&(C^E))+T[3]+3250441966&4294967295,w=S+(D<<22&4294967295|D>>>10),D=E+(C^w&(S^C))+T[4]+4118548399&4294967295,E=w+(D<<7&4294967295|D>>>25),D=C+(S^E&(w^S))+T[5]+1200080426&4294967295,C=E+(D<<12&4294967295|D>>>20),D=S+(w^C&(E^w))+T[6]+2821735955&4294967295,S=C+(D<<17&4294967295|D>>>15),D=w+(E^S&(C^E))+T[7]+4249261313&4294967295,w=S+(D<<22&4294967295|D>>>10),D=E+(C^w&(S^C))+T[8]+1770035416&4294967295,E=w+(D<<7&4294967295|D>>>25),D=C+(S^E&(w^S))+T[9]+2336552879&4294967295,C=E+(D<<12&4294967295|D>>>20),D=S+(w^C&(E^w))+T[10]+4294925233&4294967295,S=C+(D<<17&4294967295|D>>>15),D=w+(E^S&(C^E))+T[11]+2304563134&4294967295,w=S+(D<<22&4294967295|D>>>10),D=E+(C^w&(S^C))+T[12]+1804603682&4294967295,E=w+(D<<7&4294967295|D>>>25),D=C+(S^E&(w^S))+T[13]+4254626195&4294967295,C=E+(D<<12&4294967295|D>>>20),D=S+(w^C&(E^w))+T[14]+2792965006&4294967295,S=C+(D<<17&4294967295|D>>>15),D=w+(E^S&(C^E))+T[15]+1236535329&4294967295,w=S+(D<<22&4294967295|D>>>10),D=E+(S^C&(w^S))+T[1]+4129170786&4294967295,E=w+(D<<5&4294967295|D>>>27),D=C+(w^S&(E^w))+T[6]+3225465664&4294967295,C=E+(D<<9&4294967295|D>>>23),D=S+(E^w&(C^E))+T[11]+643717713&4294967295,S=C+(D<<14&4294967295|D>>>18),D=w+(C^E&(S^C))+T[0]+3921069994&4294967295,w=S+(D<<20&4294967295|D>>>12),D=E+(S^C&(w^S))+T[5]+3593408605&4294967295,E=w+(D<<5&4294967295|D>>>27),D=C+(w^S&(E^w))+T[10]+38016083&4294967295,C=E+(D<<9&4294967295|D>>>23),D=S+(E^w&(C^E))+T[15]+3634488961&4294967295,S=C+(D<<14&4294967295|D>>>18),D=w+(C^E&(S^C))+T[4]+3889429448&4294967295,w=S+(D<<20&4294967295|D>>>12),D=E+(S^C&(w^S))+T[9]+568446438&4294967295,E=w+(D<<5&4294967295|D>>>27),D=C+(w^S&(E^w))+T[14]+3275163606&4294967295,C=E+(D<<9&4294967295|D>>>23),D=S+(E^w&(C^E))+T[3]+4107603335&4294967295,S=C+(D<<14&4294967295|D>>>18),D=w+(C^E&(S^C))+T[8]+1163531501&4294967295,w=S+(D<<20&4294967295|D>>>12),D=E+(S^C&(w^S))+T[13]+2850285829&4294967295,E=w+(D<<5&4294967295|D>>>27),D=C+(w^S&(E^w))+T[2]+4243563512&4294967295,C=E+(D<<9&4294967295|D>>>23),D=S+(E^w&(C^E))+T[7]+1735328473&4294967295,S=C+(D<<14&4294967295|D>>>18),D=w+(C^E&(S^C))+T[12]+2368359562&4294967295,w=S+(D<<20&4294967295|D>>>12),D=E+(w^S^C)+T[5]+4294588738&4294967295,E=w+(D<<4&4294967295|D>>>28),D=C+(E^w^S)+T[8]+2272392833&4294967295,C=E+(D<<11&4294967295|D>>>21),D=S+(C^E^w)+T[11]+1839030562&4294967295,S=C+(D<<16&4294967295|D>>>16),D=w+(S^C^E)+T[14]+4259657740&4294967295,w=S+(D<<23&4294967295|D>>>9),D=E+(w^S^C)+T[1]+2763975236&4294967295,E=w+(D<<4&4294967295|D>>>28),D=C+(E^w^S)+T[4]+1272893353&4294967295,C=E+(D<<11&4294967295|D>>>21),D=S+(C^E^w)+T[7]+4139469664&4294967295,S=C+(D<<16&4294967295|D>>>16),D=w+(S^C^E)+T[10]+3200236656&4294967295,w=S+(D<<23&4294967295|D>>>9),D=E+(w^S^C)+T[13]+681279174&4294967295,E=w+(D<<4&4294967295|D>>>28),D=C+(E^w^S)+T[0]+3936430074&4294967295,C=E+(D<<11&4294967295|D>>>21),D=S+(C^E^w)+T[3]+3572445317&4294967295,S=C+(D<<16&4294967295|D>>>16),D=w+(S^C^E)+T[6]+76029189&4294967295,w=S+(D<<23&4294967295|D>>>9),D=E+(w^S^C)+T[9]+3654602809&4294967295,E=w+(D<<4&4294967295|D>>>28),D=C+(E^w^S)+T[12]+3873151461&4294967295,C=E+(D<<11&4294967295|D>>>21),D=S+(C^E^w)+T[15]+530742520&4294967295,S=C+(D<<16&4294967295|D>>>16),D=w+(S^C^E)+T[2]+3299628645&4294967295,w=S+(D<<23&4294967295|D>>>9),D=E+(S^(w|~C))+T[0]+4096336452&4294967295,E=w+(D<<6&4294967295|D>>>26),D=C+(w^(E|~S))+T[7]+1126891415&4294967295,C=E+(D<<10&4294967295|D>>>22),D=S+(E^(C|~w))+T[14]+2878612391&4294967295,S=C+(D<<15&4294967295|D>>>17),D=w+(C^(S|~E))+T[5]+4237533241&4294967295,w=S+(D<<21&4294967295|D>>>11),D=E+(S^(w|~C))+T[12]+1700485571&4294967295,E=w+(D<<6&4294967295|D>>>26),D=C+(w^(E|~S))+T[3]+2399980690&4294967295,C=E+(D<<10&4294967295|D>>>22),D=S+(E^(C|~w))+T[10]+4293915773&4294967295,S=C+(D<<15&4294967295|D>>>17),D=w+(C^(S|~E))+T[1]+2240044497&4294967295,w=S+(D<<21&4294967295|D>>>11),D=E+(S^(w|~C))+T[8]+1873313359&4294967295,E=w+(D<<6&4294967295|D>>>26),D=C+(w^(E|~S))+T[15]+4264355552&4294967295,C=E+(D<<10&4294967295|D>>>22),D=S+(E^(C|~w))+T[6]+2734768916&4294967295,S=C+(D<<15&4294967295|D>>>17),D=w+(C^(S|~E))+T[13]+1309151649&4294967295,w=S+(D<<21&4294967295|D>>>11),D=E+(S^(w|~C))+T[4]+4149444226&4294967295,E=w+(D<<6&4294967295|D>>>26),D=C+(w^(E|~S))+T[11]+3174756917&4294967295,C=E+(D<<10&4294967295|D>>>22),D=S+(E^(C|~w))+T[2]+718787259&4294967295,S=C+(D<<15&4294967295|D>>>17),D=w+(C^(S|~E))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(S+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+S&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var w=E-this.blockSize,T=this.B,S=this.h,C=0;C<E;){if(S==0)for(;C<=w;)i(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<E;)if(T[S++]=I.charCodeAt(C++),S==this.blockSize){i(this,T),S=0;break}}else for(;C<E;)if(T[S++]=I[C++],S==this.blockSize){i(this,T),S=0;break}}this.h=S,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var w=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=w&255,w/=256;for(this.u(I),I=Array(16),E=w=0;4>E;++E)for(var T=0;32>T;T+=8)I[w++]=this.g[E]>>>T&255;return I};function o(I,E){var w=a;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=E(I)}function s(I,E){this.h=E;for(var w=[],T=!0,S=I.length-1;0<=S;S--){var C=I[S]|0;T&&C==E||(w[S]=C,T=!1)}this.g=w}var a={};function c(I){return-128<=I&&128>I?o(I,function(E){return new s([E|0],0>E?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return b(l(-I));for(var E=[],w=1,T=0;I>=w;T++)E[T]=I/w|0,w*=4294967296;return new s(E,0)}function d(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return b(d(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(E,8)),T=h,S=0;S<I.length;S+=8){var C=Math.min(8,I.length-S),D=parseInt(I.substring(S,S+C),E);8>C?(C=l(Math.pow(E,C)),T=T.j(C).add(l(D))):(T=T.j(w),T=T.add(l(D)))}return T}var h=c(0),m=c(1),p=c(16777216);n=s.prototype,n.m=function(){if(y(this))return-b(this).m();for(var I=0,E=1,w=0;w<this.g.length;w++){var T=this.i(w);I+=(0<=T?T:4294967296+T)*E,E*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(y(this))return"-"+b(this).toString(I);for(var E=l(Math.pow(I,6)),w=this,T="";;){var S=N(w,E).g;w=A(w,S.j(E));var C=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=S,_(w))return C+T;for(;6>C.length;)C="0"+C;T=C+T}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function y(I){return I.h==-1}n.l=function(I){return I=A(this,I),y(I)?-1:_(I)?0:1};function b(I){for(var E=I.g.length,w=[],T=0;T<E;T++)w[T]=~I.g[T];return new s(w,~I.h).add(m)}n.abs=function(){return y(this)?b(this):this},n.add=function(I){for(var E=Math.max(this.g.length,I.g.length),w=[],T=0,S=0;S<=E;S++){var C=T+(this.i(S)&65535)+(I.i(S)&65535),D=(C>>>16)+(this.i(S)>>>16)+(I.i(S)>>>16);T=D>>>16,C&=65535,D&=65535,w[S]=D<<16|C}return new s(w,w[w.length-1]&-2147483648?-1:0)};function A(I,E){return I.add(b(E))}n.j=function(I){if(_(this)||_(I))return h;if(y(this))return y(I)?b(this).j(b(I)):b(b(this).j(I));if(y(I))return b(this.j(b(I)));if(0>this.l(p)&&0>I.l(p))return l(this.m()*I.m());for(var E=this.g.length+I.g.length,w=[],T=0;T<2*E;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<I.g.length;S++){var C=this.i(T)>>>16,D=this.i(T)&65535,ne=I.i(S)>>>16,ge=I.i(S)&65535;w[2*T+2*S]+=D*ge,R(w,2*T+2*S),w[2*T+2*S+1]+=C*ge,R(w,2*T+2*S+1),w[2*T+2*S+1]+=D*ne,R(w,2*T+2*S+1),w[2*T+2*S+2]+=C*ne,R(w,2*T+2*S+2)}for(T=0;T<E;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=E;T<2*E;T++)w[T]=0;return new s(w,0)};function R(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function O(I,E){this.g=I,this.h=E}function N(I,E){if(_(E))throw Error("division by zero");if(_(I))return new O(h,h);if(y(I))return E=N(b(I),E),new O(b(E.g),b(E.h));if(y(E))return E=N(I,b(E)),new O(b(E.g),E.h);if(30<I.g.length){if(y(I)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var w=m,T=E;0>=T.l(I);)w=L(w),T=L(T);var S=V(w,1),C=V(T,1);for(T=V(T,2),w=V(w,2);!_(T);){var D=C.add(T);0>=D.l(I)&&(S=S.add(w),C=D),T=V(T,1),w=V(w,1)}return E=A(I,S.j(E)),new O(S,E)}for(S=h;0<=I.l(E);){for(w=Math.max(1,Math.floor(I.m()/E.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),C=l(w),D=C.j(E);y(D)||0<D.l(I);)w-=T,C=l(w),D=C.j(E);_(C)&&(C=m),S=S.add(C),I=A(I,D)}return new O(S,I)}n.A=function(I){return N(this,I).h},n.and=function(I){for(var E=Math.max(this.g.length,I.g.length),w=[],T=0;T<E;T++)w[T]=this.i(T)&I.i(T);return new s(w,this.h&I.h)},n.or=function(I){for(var E=Math.max(this.g.length,I.g.length),w=[],T=0;T<E;T++)w[T]=this.i(T)|I.i(T);return new s(w,this.h|I.h)},n.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),w=[],T=0;T<E;T++)w[T]=this.i(T)^I.i(T);return new s(w,this.h^I.h)};function L(I){for(var E=I.g.length+1,w=[],T=0;T<E;T++)w[T]=I.i(T)<<1|I.i(T-1)>>>31;return new s(w,I.h)}function V(I,E){var w=E>>5;E%=32;for(var T=I.g.length-w,S=[],C=0;C<T;C++)S[C]=0<E?I.i(C+w)>>>E|I.i(C+w+1)<<32-E:I.i(C+w);return new s(S,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mw=QR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=d,To=QR.Integer=s}).apply(typeof YR<"u"?YR:typeof self<"u"?self:typeof window<"u"?window:{});var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bo={};var _w,m3,Uc,yw,Xl,Yp,vw,Ew,ww;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kp=="object"&&Kp];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var v=0;v<u.length-1;v++){var x=u[v];if(!(x in g))break e;g=g[x]}u=u[u.length-1],v=g[u],f=f(v),f!=v&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function o(u,f){u instanceof String&&(u+="");var g=0,v=!1,x={next:function(){if(!v&&g<u.length){var k=g++;return{value:f(k,u[k]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(u){return u||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function c(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function l(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,g){return u.call.apply(u.bind,arguments)}function h(u,f,g){if(!u)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),u.apply(f,x)}}return function(){return u.apply(f,arguments)}}function m(u,f,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function p(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),u.apply(this,v)}}function _(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(v,x,k){for(var $=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)$[Ze-2]=arguments[Ze];return f.prototype[x].apply(v,$)}}function y(u){let f=u.length;if(0<f){let g=Array(f);for(let v=0;v<f;v++)g[v]=u[v];return g}return[]}function b(u,f){for(let g=1;g<arguments.length;g++){let v=arguments[g];if(c(v)){let x=u.length||0,k=v.length||0;u.length=x+k;for(let $=0;$<k;$++)u[x+$]=v[$]}else u.push(v)}}class A{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function R(u){return/^[\s\xa0]*$/.test(u)}function O(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var L=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function V(u,f,g){for(let v in u)f.call(g,u[v],v,u)}function I(u,f){for(let g in u)f.call(void 0,u[g],g,u)}function E(u){let f={};for(let g in u)f[g]=u[g];return f}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,f){let g,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(g in v)u[g]=v[g];for(let k=0;k<w.length;k++)g=w[k],Object.prototype.hasOwnProperty.call(v,g)&&(u[g]=v[g])}}function S(u){var f=1;u=u.split(":");let g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function C(u){a.setTimeout(()=>{throw u},0)}function D(){var u=ze;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class ne{constructor(){this.h=this.g=null}add(f,g){let v=ge.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}}var ge=new A(()=>new we,u=>u.reset());class we{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,Ie=!1,ze=new ne,P=()=>{let u=a.Promise.resolve(void 0);Y=()=>{u.then(Qe)}};var Qe=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(g){C(g)}var f=ge;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}Ie=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u}();function pt(u,f){if(Ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,v=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(L){e:{try{N(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Xt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&pt.aa.h.call(this)}}_(pt,Ge);var Xt={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),un=0;function Zt(u,f,g,v,x){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=x,this.key=++un,this.da=this.fa=!1}function pr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u){this.src=u,this.g={},this.h=0}kt.prototype.add=function(u,f,g,v,x){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var $=xe(u,f,v,x);return-1<$?(f=u[$],g||(f.fa=!1)):(f=new Zt(f,this.src,k,!!v,x),f.fa=g,u.push(f)),f};function Jt(u,f){var g=f.type;if(g in u.g){var v=u.g[g],x=Array.prototype.indexOf.call(v,f,void 0),k;(k=0<=x)&&Array.prototype.splice.call(v,x,1),k&&(pr(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function xe(u,f,g,v){for(var x=0;x<u.length;++x){var k=u[x];if(!k.da&&k.listener==f&&k.capture==!!g&&k.ha==v)return x}return-1}var st="closure_lm_"+(1e6*Math.random()|0),en={};function wn(u,f,g,v,x){if(v&&v.once)return Mr(u,f,g,v,x);if(Array.isArray(f)){for(var k=0;k<f.length;k++)wn(u,f[k],g,v,x);return null}return g=kr(g),u&&u[rt]?u.K(f,g,l(v)?!!v.capture:!!v,x):F(u,f,g,!1,v,x)}function F(u,f,g,v,x,k){if(!f)throw Error("Invalid event type");var $=l(x)?!!x.capture:!!x,Ze=ei(u);if(Ze||(u[st]=Ze=new kt(u)),g=Ze.add(f,g,v,$,k),g.proxy)return g;if(v=kn(),g.proxy=v,v.src=u,v.listener=g,u.addEventListener)ut||(x=$),x===void 0&&(x=!1),u.addEventListener(f.toString(),v,x);else if(u.attachEvent)u.attachEvent(Nr(f.toString()),v);else if(u.addListener&&u.removeListener)u.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function kn(){function u(g){return f.call(u.src,u.listener,g)}let f=Ii;return u}function Mr(u,f,g,v,x){if(Array.isArray(f)){for(var k=0;k<f.length;k++)Mr(u,f[k],g,v,x);return null}return g=kr(g),u&&u[rt]?u.L(f,g,l(v)?!!v.capture:!!v,x):F(u,f,g,!0,v,x)}function Jr(u,f,g,v,x){if(Array.isArray(f))for(var k=0;k<f.length;k++)Jr(u,f[k],g,v,x);else v=l(v)?!!v.capture:!!v,g=kr(g),u&&u[rt]?(u=u.i,f=String(f).toString(),f in u.g&&(k=u.g[f],g=xe(k,g,v,x),-1<g&&(pr(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete u.g[f],u.h--)))):u&&(u=ei(u))&&(f=u.g[f.toString()],u=-1,f&&(u=xe(f,g,v,x)),(g=-1<u?f[u]:null)&&it(g))}function it(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[rt])Jt(f.i,u);else{var g=u.type,v=u.proxy;f.removeEventListener?f.removeEventListener(g,v,u.capture):f.detachEvent?f.detachEvent(Nr(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=ei(f))?(Jt(g,u),g.h==0&&(g.src=null,f[st]=null)):pr(u)}}}function Nr(u){return u in en?en[u]:en[u]="on"+u}function Ii(u,f){if(u.da)u=!0;else{f=new pt(f,this);var g=u.listener,v=u.ha||u.src;u.fa&&it(u),u=g.call(v,f)}return u}function ei(u){return u=u[st],u instanceof kt?u:null}var yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function kr(u){return typeof u=="function"?u:(u[yt]||(u[yt]=function(f){return u.handleEvent(f)}),u[yt])}function Te(){ct.call(this),this.i=new kt(this),this.M=this,this.F=null}_(Te,ct),Te.prototype[rt]=!0,Te.prototype.removeEventListener=function(u,f,g,v){Jr(this,u,f,g,v)};function Xe(u,f){var g,v=u.F;if(v)for(g=[];v;v=v.F)g.push(v);if(u=u.M,v=f.type||f,typeof f=="string")f=new Ge(f,u);else if(f instanceof Ge)f.target=f.target||u;else{var x=f;f=new Ge(v,u),T(f,x)}if(x=!0,g)for(var k=g.length-1;0<=k;k--){var $=f.g=g[k];x=ln($,v,!0,f)&&x}if($=f.g=u,x=ln($,v,!0,f)&&x,x=ln($,v,!1,f)&&x,g)for(k=0;k<g.length;k++)$=f.g=g[k],x=ln($,v,!1,f)&&x}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],v=0;v<g.length;v++)pr(g[v]);delete u.g[f],u.h--}}this.F=null},Te.prototype.K=function(u,f,g,v){return this.i.add(String(u),f,!1,g,v)},Te.prototype.L=function(u,f,g,v){return this.i.add(String(u),f,!0,g,v)};function ln(u,f,g,v){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,k=0;k<f.length;++k){var $=f[k];if($&&!$.da&&$.capture==g){var Ze=$.listener,fn=$.ha||$.src;$.fa&&Jt(u.i,$),x=Ze.call(fn,v)!==!1&&x}}return x&&!v.defaultPrevented}function Or(u,f,g){if(typeof u=="function")g&&(u=m(u,g));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Mo(u){u.g=Or(()=>{u.g=null,u.i&&(u.i=!1,Mo(u))},u.l);let f=u.h;u.h=null,u.m.apply(null,f)}class vt extends ct{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(u){ct.call(this),this.h=u,this.g={}}_(Ti,ct);var Fr=[];function Zi(u){V(u.g,function(f,g){this.g.hasOwnProperty(g)&&it(f)},u),u.g={}}Ti.prototype.N=function(){Ti.aa.N.call(this),Zi(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=a.JSON.stringify,Di=a.JSON.parse,Ji=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function he(){}he.prototype.h=null;function Ci(u){return u.h||(u.h=u.i())}function Xn(){}var dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function On(){Ge.call(this,"d")}_(On,Ge);function ti(){Ge.call(this,"c")}_(ti,Ge);var Zn={},Lr=null;function Si(){return Lr=Lr||new Te}Zn.La="serverreachability";function se(u){Ge.call(this,Zn.La,u)}_(se,Ge);function K(u){let f=Si();Xe(f,new se(f))}Zn.STAT_EVENT="statevent";function ke(u,f){Ge.call(this,Zn.STAT_EVENT,u),this.stat=f}_(ke,Ge);function j(u){let f=Si();Xe(f,new ke(f,u))}Zn.Ma="timingevent";function ie(u,f){Ge.call(this,Zn.Ma,u),this.size=f}_(ie,Ge);function W(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function J(){this.g=!0}J.prototype.xa=function(){this.g=!1};function Ot(u,f,g,v,x,k){u.info(function(){if(u.g)if(k)for(var $="",Ze=k.split("&"),fn=0;fn<Ze.length;fn++){var Le=Ze[fn].split("=");if(1<Le.length){var In=Le[0];Le=Le[1];var Tn=In.split("_");$=2<=Tn.length&&Tn[1]=="type"?$+(In+"="+Le+"&"):$+(In+"=redacted&")}}else $=null;else $=k;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+g+`
`+$})}function Pe(u,f,g,v,x,k,$){u.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+g+`
`+k+" "+$})}function Ke(u,f,g,v){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+lt(u,g)+(v?" "+v:"")})}function tn(u,f){u.info(function(){return"TIMEOUT: "+f})}J.prototype.info=function(){};function lt(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var v=g[u];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var $=1;$<x.length;$++)x[$]=""}}}}return bi(g)}catch{return f}}var qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Ye(){}_(Ye,he),Ye.prototype.g=function(){return new XMLHttpRequest},Ye.prototype.i=function(){return{}},Fn=new Ye;function Et(u,f,g,v){this.j=u,this.i=f,this.l=g,this.R=v||1,this.U=new Ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gr}function gr(){this.i=null,this.g="",this.h=!1}var Ft={},At={};function Lt(u,f,g){u.L=1,u.v=wd(eo(f)),u.m=g,u.P=!0,Ai(u,null)}function Ai(u,f){u.F=Date.now(),dt(u),u.A=eo(u.v);var g=u.A,v=u.R;Array.isArray(v)||(v=[String(v)]),Y0(g.i,"t",v),u.C=0,g=u.j.J,u.h=new gr,u.g=hT(u.j,g?f:null,!u.m),0<u.O&&(u.M=new vt(m(u.Y,u,u.g),u.O)),f=u.U,g=u.g,v=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(Fr[0]=x.toString()),x=Fr);for(var k=0;k<x.length;k++){var $=wn(g,x[k],v||f.handleEvent,!1,f.h||f);if(!$)break;f.g[$.key]=$}f=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),K(),Ot(u.i,u.u,u.A,u.l,u.R,u.m)}Et.prototype.ca=function(u){u=u.target;let f=this.M;f&&to(u)==3?f.j():this.Y(u)},Et.prototype.Y=function(u){try{if(u==this.g)e:{let Tn=to(this.g);var f=this.g.Ba();let Na=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||nT(this.g)))){this.J||Tn!=4||f==7||(f==8||0>=Na?K(3):K(2)),ps(this);var g=this.g.Z();this.X=g;t:if(hs(this)){var v=nT(this.g);u="";var x=v.length,k=to(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),No(this);var $="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,u+=this.h.i.decode(v[f],{stream:!(k&&f==x-1)});v.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,Pe(this.i,this.u,this.A,this.l,this.R,Tn,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,fn=this.g;if((Ze=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Ze)){var Le=Ze;break t}}Le=null}if(g=Le)Ke(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jn(this,g);else{this.o=!1,this.s=3,j(12),_r(this),No(this);break e}}if(this.P){g=!0;let ri;for(;!this.J&&this.C<$.length;)if(ri=nn(this,$),ri==At){Tn==4&&(this.s=4,j(14),g=!1),Ke(this.i,this.l,null,"[Incomplete Response]");break}else if(ri==Ft){this.s=4,j(15),Ke(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else Ke(this.i,this.l,ri,null),Jn(this,ri);if(hs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||$.length!=0||this.h.h||(this.s=1,j(16),g=!1),this.o=this.o&&g,!g)Ke(this.i,this.l,$,"[Invalid Chunked Response]"),_r(this),No(this);else if(0<$.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),om(In),In.M=!0,j(11))}}else Ke(this.i,this.l,$,null),Jn(this,$);Tn==4&&_r(this),this.o&&!this.J&&(Tn==4?uT(this.j,this):(this.o=!1,dt(this)))}else Uk(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,j(12)):(this.s=0,j(13)),_r(this),No(this)}}}catch{}finally{}};function hs(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function nn(u,f){var g=u.C,v=f.indexOf(`
`,g);return v==-1?At:(g=Number(f.substring(g,v)),isNaN(g)?Ft:(v+=1,v+g>f.length?At:(f=f.slice(v,v+g),u.C=v+g,f)))}Et.prototype.cancel=function(){this.J=!0,_r(this)};function dt(u){u.S=Date.now()+u.I,mr(u,u.I)}function mr(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=W(m(u.ba,u),f)}function ps(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Et.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(tn(this.i,this.A),this.L!=2&&(K(),j(17)),_r(this),this.s=2,No(this)):mr(this,this.S-u)};function No(u){u.j.G==0||u.J||uT(u.j,u)}function _r(u){ps(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,Zi(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Jn(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||em(g.h,u))){if(!u.K&&em(g.h,u)&&g.G==3){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Cd(g),bd(g);else break e;im(g),j(18)}}else g.za=x[1],0<g.za-g.T&&37500>x[2]&&g.F&&g.v==0&&!g.C&&(g.C=W(m(g.Za,g),6e3));if(1>=U0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ys(g,11)}else if((u.K||g.g==u)&&Cd(g),!R(f))for(x=g.Da.g.parse(f),f=0;f<x.length;f++){let Le=x[f];if(g.T=Le[0],Le=Le[1],g.G==2)if(Le[0]=="c"){g.K=Le[1],g.ia=Le[2];let In=Le[3];In!=null&&(g.la=In,g.j.info("VER="+g.la));let Tn=Le[4];Tn!=null&&(g.Aa=Tn,g.j.info("SVER="+g.Aa));let Na=Le[5];Na!=null&&typeof Na=="number"&&0<Na&&(v=1.5*Na,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;let ri=u.g;if(ri){let Ad=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ad){var k=v.h;k.g||Ad.indexOf("spdy")==-1&&Ad.indexOf("quic")==-1&&Ad.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(tm(k,k.h),k.h=null))}if(v.D){let sm=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;sm&&(v.ya=sm,at(v.I,v.D,sm))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var $=u;if(v.qa=fT(v,v.J?v.ia:null,v.W),$.K){j0(v.h,$);var Ze=$,fn=v.L;fn&&(Ze.I=fn),Ze.B&&(ps(Ze),dt(Ze)),v.g=$}else aT(v);0<g.i.length&&Dd(g)}else Le[0]!="stop"&&Le[0]!="close"||ys(g,7);else g.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?ys(g,7):rm(g):Le[0]!="noop"&&g.l&&g.l.ta(Le),g.v=0)}}K(4)}catch{}}var gs=class{constructor(u,f){this.g=u,this.map=f}};function ms(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ni(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function U0(u){return u.h?1:u.g?u.g.size:0}function em(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function tm(u,f){u.g?u.g.add(f):u.h=f}function j0(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}ms.prototype.cancel=function(){if(this.i=$0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function $0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(let g of u.g.values())f=f.concat(g.D);return f}return y(u.i)}function Dk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var f=[],g=u.length,v=0;v<g;v++)f.push(u[v]);return f}f=[],g=0;for(v in u)f[g++]=u[v];return f}function Ck(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(let v in u)f[g++]=v;return f}}}function H0(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=Ck(u),v=Dk(u),x=v.length,k=0;k<x;k++)f.call(void 0,v[k],g&&g[k],u)}var z0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sk(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var v=u[g].indexOf("="),x=null;if(0<=v){var k=u[g].substring(0,v);x=u[g].substring(v+1)}else k=u[g];f(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function _s(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _s){this.h=u.h,vd(this,u.j),this.o=u.o,this.g=u.g,Ed(this,u.s),this.l=u.l;var f=u.i,g=new _u;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),q0(this,g),this.m=u.m}else u&&(f=String(u).match(z0))?(this.h=!1,vd(this,f[1]||"",!0),this.o=gu(f[2]||""),this.g=gu(f[3]||"",!0),Ed(this,f[4]),this.l=gu(f[5]||"",!0),q0(this,f[6]||"",!0),this.m=gu(f[7]||"")):(this.h=!1,this.i=new _u(null,this.h))}_s.prototype.toString=function(){var u=[],f=this.j;f&&u.push(mu(f,W0,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(mu(f,W0,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(mu(g,g.charAt(0)=="/"?Pk:xk,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",mu(g,Mk)),u.join("")};function eo(u){return new _s(u)}function vd(u,f,g){u.j=g?gu(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Ed(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function q0(u,f,g){f instanceof _u?(u.i=f,Nk(u.i,u.h)):(g||(f=mu(f,Rk)),u.i=new _u(f,u.h))}function at(u,f,g){u.i.set(f,g)}function wd(u){return at(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gu(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mu(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,Ak),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ak(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var W0=/[#\/\?@]/g,xk=/[#\?:]/g,Pk=/[#\?]/g,Rk=/[#\?@]/g,Mk=/#/g;function _u(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function ko(u){u.g||(u.g=new Map,u.h=0,u.i&&Sk(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=_u.prototype,n.add=function(u,f){ko(this),this.i=null,u=Ra(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function G0(u,f){ko(u),f=Ra(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function K0(u,f){return ko(u),f=Ra(u,f),u.g.has(f)}n.forEach=function(u,f){ko(this),this.g.forEach(function(g,v){g.forEach(function(x){u.call(f,x,v,this)},this)},this)},n.na=function(){ko(this);let u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){let x=u[v];for(let k=0;k<x.length;k++)g.push(f[v])}return g},n.V=function(u){ko(this);let f=[];if(typeof u=="string")K0(this,u)&&(f=f.concat(this.g.get(Ra(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},n.set=function(u,f){return ko(this),this.i=null,u=Ra(this,u),K0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},n.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function Y0(u,f,g){G0(u,f),0<g.length&&(u.i=null,u.g.set(Ra(u,f),y(g)),u.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];let k=encodeURIComponent(String(v)),$=this.V(v);for(v=0;v<$.length;v++){var x=k;$[v]!==""&&(x+="="+encodeURIComponent(String($[v]))),u.push(x)}}return this.i=u.join("&")};function Ra(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function Nk(u,f){f&&!u.j&&(ko(u),u.i=null,u.g.forEach(function(g,v){var x=v.toLowerCase();v!=x&&(G0(this,v),Y0(this,x,g))},u)),u.j=f}function kk(u,f){let g=new J;if(a.Image){let v=new Image;v.onload=p(Oo,g,"TestLoadImage: loaded",!0,f,v),v.onerror=p(Oo,g,"TestLoadImage: error",!1,f,v),v.onabort=p(Oo,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=p(Oo,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=u}else f(!1)}function Ok(u,f){let g=new J,v=new AbortController,x=setTimeout(()=>{v.abort(),Oo(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:v.signal}).then(k=>{clearTimeout(x),k.ok?Oo(g,"TestPingServer: ok",!0,f):Oo(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),Oo(g,"TestPingServer: error",!1,f)})}function Oo(u,f,g,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(g)}catch{}}function Fk(){this.g=new Ji}function Lk(u,f,g){let v=g||"";try{H0(u,function(x,k){let $=x;l(x)&&($=bi(x)),f.push(v+k+"="+encodeURIComponent($))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function yu(u){this.l=u.Ub||null,this.j=u.eb||!1}_(yu,he),yu.prototype.g=function(){return new Id(this.l,this.j)},yu.prototype.i=function(u){return function(){return u}}({});function Id(u,f){Te.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Id,Te),n=Id.prototype,n.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Eu(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vu(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Eu(this)),this.g&&(this.readyState=3,Eu(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Q0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Q0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?vu(this):Eu(this),this.readyState==3&&Q0(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,vu(this))},n.Qa=function(u){this.g&&(this.response=u,vu(this))},n.ga=function(){this.g&&vu(this)};function vu(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Eu(u)}n.setRequestHeader=function(u,f){this.u.append(u,f)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function Eu(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Id.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function X0(u){let f="";return V(u,function(g,v){f+=v,f+=":",f+=g,f+=`\r
`}),f}function nm(u,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=X0(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):at(u,f,g))}function wt(u){Te.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(wt,Te);var Vk=/^https?$/i,Bk=["POST","PUT"];n=wt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Ci(this.o):Ci(Fn),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(k){Z0(this,k);return}if(u=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)g.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let k of v.keys())g.set(k,v.get(k));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),x=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bk,f,void 0))||v||x||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,$]of g)this.g.setRequestHeader(k,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tT(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){Z0(this,k)}};function Z0(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,J0(u),Td(u)}function J0(u){u.A||(u.A=!0,Xe(u,"complete"),Xe(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Xe(this,"complete"),Xe(this,"abort"),Td(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Td(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?eT(this):this.bb())},n.bb=function(){eT(this)};function eT(u){if(u.h&&typeof s<"u"&&(!u.v[1]||to(u)!=4||u.Z()!=2)){if(u.u&&to(u)==4)Or(u.Ea,0,u);else if(Xe(u,"readystatechange"),to(u)==4){u.h=!1;try{let $=u.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=$===0){var x=String(u.D).match(z0)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!Vk.test(x?x.toLowerCase():"")}g=v}if(g)Xe(u,"complete"),Xe(u,"success");else{u.m=6;try{var k=2<to(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",J0(u)}}finally{Td(u)}}}}function Td(u,f){if(u.g){tT(u);let g=u.g,v=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||Xe(u,"ready");try{g.onreadystatechange=v}catch{}}}function tT(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function to(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<to(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Di(f)}};function nT(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Uk(u){let f={};u=(u.g&&2<=to(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<u.length;v++){if(R(u[v]))continue;var g=S(u[v]);let x=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let k=f[x]||[];f[x]=k,k.push(g)}I(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wu(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function rT(u){this.Aa=0,this.i=[],this.j=new J,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wu("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wu("baseRetryDelayMs",5e3,u),this.cb=wu("retryDelaySeedMs",1e4,u),this.Wa=wu("forwardChannelMaxRetries",2,u),this.wa=wu("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ms(u&&u.concurrentRequestLimit),this.Da=new Fk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=rT.prototype,n.la=8,n.G=1,n.connect=function(u,f,g,v){j(0),this.W=u,this.H=f||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=fT(this,null,this.W),Dd(this)};function rm(u){if(iT(u),u.G==3){var f=u.U++,g=eo(u.I);if(at(g,"SID",u.K),at(g,"RID",f),at(g,"TYPE","terminate"),Iu(u,g),f=new Et(u,u.j,f),f.L=2,f.v=wd(eo(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=hT(f.j,null),f.g.ea(f.v)),f.F=Date.now(),dt(f)}dT(u)}function bd(u){u.g&&(om(u),u.g.cancel(),u.g=null)}function iT(u){bd(u),u.u&&(a.clearTimeout(u.u),u.u=null),Cd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Dd(u){if(!ni(u.h)&&!u.s){u.s=!0;var f=u.Ga;Y||P(),Ie||(Y(),Ie=!0),ze.add(f,u),u.B=0}}function jk(u,f){return U0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=W(m(u.Ga,u,f),lT(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let x=new Et(this,this.j,u),k=this.o;if(this.S&&(k?(k=E(k),T(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=sT(this,x,f),g=eo(this.I),at(g,"RID",u),at(g,"CVER",22),this.D&&at(g,"X-HTTP-Session-Id",this.D),Iu(this,g),k&&(this.O?f="headers="+encodeURIComponent(String(X0(k)))+"&"+f:this.m&&nm(g,this.m,k)),tm(this.h,x),this.Ua&&at(g,"TYPE","init"),this.P?(at(g,"$req",f),at(g,"SID","null"),x.T=!0,Lt(x,g,null)):Lt(x,g,f),this.G=2}}else this.G==3&&(u?oT(this,u):this.i.length==0||ni(this.h)||oT(this))};function oT(u,f){var g;f?g=f.l:g=u.U++;let v=eo(u.I);at(v,"SID",u.K),at(v,"RID",g),at(v,"AID",u.T),Iu(u,v),u.m&&u.o&&nm(v,u.m,u.o),g=new Et(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=sT(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),tm(u.h,g),Lt(g,v,f)}function Iu(u,f){u.H&&V(u.H,function(g,v){at(f,v,g)}),u.l&&H0({},function(g,v){at(f,v,g)})}function sT(u,f,g){g=Math.min(u.i.length,g);var v=u.l?m(u.l.Na,u.l,u):null;e:{var x=u.i;let k=-1;for(;;){let $=["count="+g];k==-1?0<g?(k=x[0].g,$.push("ofs="+k)):k=0:$.push("ofs="+k);let Ze=!0;for(let fn=0;fn<g;fn++){let Le=x[fn].g,In=x[fn].map;if(Le-=k,0>Le)k=Math.max(0,x[fn].g-100),Ze=!1;else try{Lk(In,$,"req"+Le+"_")}catch{v&&v(In)}}if(Ze){v=$.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,v}function aT(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;Y||P(),Ie||(Y(),Ie=!0),ze.add(f,u),u.v=0}}function im(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=W(m(u.Fa,u),lT(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,cT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=W(m(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,j(10),bd(this),cT(this))};function om(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function cT(u){u.g=new Et(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=eo(u.qa);at(f,"RID","rpc"),at(f,"SID",u.K),at(f,"AID",u.T),at(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&at(f,"TO",u.ja),at(f,"TYPE","xmlhttp"),Iu(u,f),u.m&&u.o&&nm(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=wd(eo(f)),g.m=null,g.P=!0,Ai(g,u)}n.Za=function(){this.C!=null&&(this.C=null,bd(this),im(this),j(19))};function Cd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function uT(u,f){var g=null;if(u.g==f){Cd(u),om(u),u.g=null;var v=2}else if(em(u.h,f))g=f.D,j0(u.h,f),v=1;else return;if(u.G!=0){if(f.o)if(v==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var x=u.B;v=Si(),Xe(v,new ie(v,g)),Dd(u)}else aT(u);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&jk(u,f)||v==2&&im(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),x){case 1:ys(u,5);break;case 4:ys(u,10);break;case 3:ys(u,6);break;default:ys(u,2)}}}function lT(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function ys(u,f){if(u.j.info("Error code "+f),f==2){var g=m(u.fb,u),v=u.Xa;let x=!v;v=new _s(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vd(v,"https"),wd(v),x?kk(v.toString(),g):Ok(v.toString(),g)}else j(2);u.G=0,u.l&&u.l.sa(f),dT(u),iT(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),j(2)):(this.j.info("Failed to ping google.com"),j(1))};function dT(u){if(u.G=0,u.ka=[],u.l){let f=$0(u.h);(f.length!=0||u.i.length!=0)&&(b(u.ka,f),b(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function fT(u,f,g){var v=g instanceof _s?eo(g):new _s(g);if(v.g!="")f&&(v.g=f+"."+v.g),Ed(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var k=new _s(null);v&&vd(k,v),f&&(k.g=f),x&&Ed(k,x),g&&(k.l=g),v=k}return g=u.D,f=u.ya,g&&f&&at(v,g,f),at(v,"VER",u.la),Iu(u,v),v}function hT(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new wt(new yu({eb:g})):new wt(u.pa),f.Ha(u.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pT(){}n=pT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Sd(){}Sd.prototype.g=function(u,f){return new yr(u,f)};function yr(u,f){Te.call(this),this.g=new rT(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!R(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!R(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Ma(this)}_(yr,Te),yr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){rm(this.g)},yr.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=bi(u),u=g);f.i.push(new gs(f.Ya++,u)),f.G==3&&Dd(f)},yr.prototype.N=function(){this.g.l=null,delete this.j,rm(this.g),delete this.g,yr.aa.N.call(this)};function gT(u){On.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(let g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}_(gT,On);function mT(){ti.call(this),this.status=1}_(mT,ti);function Ma(u){this.g=u}_(Ma,pT),Ma.prototype.ua=function(){Xe(this.g,"a")},Ma.prototype.ta=function(u){Xe(this.g,new gT(u))},Ma.prototype.sa=function(u){Xe(this.g,new mT)},Ma.prototype.ra=function(){Xe(this.g,"b")},Sd.prototype.createWebChannel=Sd.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,ww=bo.createWebChannelTransport=function(){return new Sd},Ew=bo.getStatEventTarget=function(){return Si()},vw=bo.Event=Zn,Yp=bo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,Xl=bo.ErrorCode=qe,Be.COMPLETE="complete",yw=bo.EventType=Be,Xn.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",Te.prototype.listen=Te.prototype.K,Uc=bo.WebChannel=Xn,m3=bo.FetchXmlHttpFactory=yu,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,_w=bo.XhrIo=wt}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});var XR="@firebase/firestore",ZR="4.7.12";var an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");var uu="11.7.0";var Ia=new $i("@firebase/firestore");function jc(){return Ia.logLevel}function H(n,...e){if(Ia.logLevel<=Re.DEBUG){let t=e.map(u0);Ia.debug(`Firestore (${uu}): ${n}`,...t)}}function Co(n,...e){if(Ia.logLevel<=Re.ERROR){let t=e.map(u0);Ia.error(`Firestore (${uu}): ${n}`,...t)}}function Kc(n,...e){if(Ia.logLevel<=Re.WARN){let t=e.map(u0);Ia.warn(`Firestore (${uu}): ${n}`,...t)}}function u0(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function X(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,$M(n,r,t)}function $M(n,e,t){let r=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Co(r),new Error(r)}function He(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||$M(e,i,r)}function ue(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends Yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Do=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ng=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Cw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}},Sw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Aw=class{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Do;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Do,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>M(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Do)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new ng(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new an(e)}},xw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Pw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new xw(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Rw=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Io(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);let r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _3(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function HM(){return new TextEncoder}var ig=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=_3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Ee(n,e){return n<e?-1:n>e?1:0}function Mw(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ee(r,i);{let o=HM(),s=y3(o.encode(JR(n,t)),o.encode(JR(e,t)));return s!==0?s:Ee(r,i)}}t+=r>65535?2:1}return Ee(n.length,e.length)}function JR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function y3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ee(n[t],e[t]);return Ee(n.length,e.length)}function Yc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var eM=-62135596800,tM=1e6,En=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*tM);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eM)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tM}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-eM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new En(0,0))}static max(){return new n(new En(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var nM="__name__",og=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&X(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&X(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Ee(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Mw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}},Ct=class n extends og{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},v3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rr=class n extends og{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return v3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nM}static keyField(){return new n([nM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Z=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ct.fromString(e))}static fromName(e){return new n(Ct.fromString(e).popFirst(5))}static empty(){return new n(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ct(e.slice()))}};var rd=-1,Nw=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Nw.UNKNOWN_ID=-1;function E3(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new En(t+1,0):new En(t,r));return new Ta(i,Z.empty(),e)}function w3(n){return new Ta(n.readTime,n.key,rd)}var Ta=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(fe.min(),Z.empty(),rd)}static max(){return new n(fe.max(),Z.empty(),rd)}};function I3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Z.comparator(n.documentKey,e.documentKey),t!==0?t:Ee(n.largestBatchId,e.largestBatchId))}var T3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function lu(n){return M(this,null,function*(){if(n.code!==U.FAILED_PRECONDITION||n.message!==T3)throw n;H("LocalStore","Unexpectedly lost primary lease")})}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(d=>{s[l]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function b3(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function du(n){return n.name==="IndexedDbTransactionError"}var l0=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),d0=-1;function Lg(n){return n==null}function id(n){return n===0&&1/n==-1/0}function D3(n){return typeof n=="number"&&Number.isInteger(n)&&!id(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var zM="";function C3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rM(e)),e=S3(n.get(t),e);return rM(e)}function S3(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case zM:t+="";break;default:t+=o}}return t}function rM(n){return n+zM+""}var A3="remoteDocuments",qM="owner";var WM="mutationQueues";var GM="mutations";var KM="documentMutations",x3="remoteDocumentsV14";var YM="remoteDocumentGlobal";var QM="targets";var XM="targetDocuments";var ZM="targetGlobal",JM="collectionParents";var eN="clientMetadata";var tN="bundles";var nN="namedQueries";var P3="indexConfiguration";var R3="indexState";var M3="indexEntries";var rN="documentOverlays";var N3="globals";var k3=[WM,GM,KM,A3,QM,qM,ZM,XM,eN,YM,JM,tN,nN],Rte=[...k3,rN],O3=[WM,GM,KM,x3,QM,qM,ZM,XM,eN,YM,JM,tN,nN,rN],F3=O3,L3=[...F3,P3,R3,M3];var Mte=[...L3,N3];function iM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var St=class n{constructor(e,t){this.comparator=e,this.root=t||zi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}},qc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zi=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}};zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1;zi.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new zi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var cn=class n{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sg(this.data.getIterator())}getIteratorFrom(e){return new sg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},sg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xr=class n{constructor(e){this.fields=e,e.sort(Rr.comparator)}static empty(){return new n([])}unionWith(e){let t=new cn(Rr.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ag=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Nn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ag("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Nn.EMPTY_BYTE_STRING=new Nn("");var V3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(n){if(He(!!n,39018),typeof n=="string"){let e=0,t=V3.exec(n);if(He(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ao(n){return typeof n=="string"?Nn.fromBase64String(n):Nn.fromUint8Array(n)}var oN="server_timestamp",sN="__type__",aN="__previous_value__",cN="__local_write_time__";function f0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sN])===null||t===void 0?void 0:t.stringValue)===oN}function Vg(n){let e=n.mapValue.fields[aN];return f0(e)?Vg(e):e}function od(n){let e=So(n.mapValue.fields[cN].timestampValue);return new En(e.seconds,e.nanos)}var Ow=class{constructor(e,t,r,i,o,s,a,c,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=d}},cg="(default)",ug=class n{constructor(e,t){this.projectId=e,this.database=t||cg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===cg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var h0="__type__",uN="__max__",Qp={mapValue:{fields:{__type__:{stringValue:uN}}}},p0="__vector__",Qc="value";function us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?f0(n)?4:dN(n)?9007199254740991:lN(n)?10:11:X(28295,{value:n})}function Yi(n,e){if(n===e)return!0;let t=us(n);if(t!==us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return od(n).isEqual(od(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=So(i.timestampValue),a=So(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ao(i.bytesValue).isEqual(Ao(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ht(i.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ht(i.integerValue)===ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ht(i.doubleValue),a=ht(o.doubleValue);return s===a?id(s)===id(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Yc(n.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(iM(s)!==iM(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Yi(s[c],a[c])))return!1;return!0}(n,e);default:return X(52216,{left:n})}}function sd(n,e){return(n.values||[]).find(t=>Yi(t,e))!==void 0}function Xc(n,e){if(n===e)return 0;let t=us(n),r=us(e);if(t!==r)return Ee(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ee(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ht(o.integerValue||o.doubleValue),c=ht(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return oM(n.timestampValue,e.timestampValue);case 4:return oM(od(n),od(e));case 5:return Mw(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ao(o),c=Ao(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=Ee(a[l],c[l]);if(d!==0)return d}return Ee(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ee(ht(o.latitude),ht(s.latitude));return a!==0?a:Ee(ht(o.longitude),ht(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sM(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,d;let h=o.fields||{},m=s.fields||{},p=(a=h[Qc])===null||a===void 0?void 0:a.arrayValue,_=(c=m[Qc])===null||c===void 0?void 0:c.arrayValue,y=Ee(((l=p?.values)===null||l===void 0?void 0:l.length)||0,((d=_?.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:sM(p,_)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Qp.mapValue&&s===Qp.mapValue)return 0;if(o===Qp.mapValue)return 1;if(s===Qp.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){let m=Mw(c[h],d[h]);if(m!==0)return m;let p=Xc(a[c[h]],l[d[h]]);if(p!==0)return p}return Ee(c.length,d.length)}(n.mapValue,e.mapValue);default:throw X(23264,{Pe:t})}}function oM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ee(n,e);let t=So(n),r=So(e),i=Ee(t.seconds,r.seconds);return i!==0?i:Ee(t.nanos,r.nanos)}function sM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Xc(t[i],r[i]);if(o)return o}return Ee(t.length,r.length)}function Zc(n){return Fw(n)}function Fw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=So(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ao(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Z.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Fw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Fw(t.fields[s])}`;return i+"}"}(n.mapValue):X(61005,{value:n})}function Jp(n){switch(us(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Vg(n);return e?16+Jp(e):16;case 5:return 2*n.stringValue.length;case 6:return Ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Jp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return fs(r.fields,(o,s)=>{i+=o.length+Jp(s)}),i}(n.mapValue);default:throw X(13486,{value:n})}}function Lw(n){return!!n&&"integerValue"in n}function g0(n){return!!n&&"arrayValue"in n}function aM(n){return!!n&&"nullValue"in n}function cM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eg(n){return!!n&&"mapValue"in n}function lN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[h0])===null||t===void 0?void 0:t.stringValue)===p0}function Jl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return fs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Jl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uN}var kte={mapValue:{fields:{[h0]:{stringValue:p0},[Qc]:{arrayValue:{}}}}};var Pr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(t)}setAll(e){let t=Rr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Jl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());eg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Jl(this.value))}};function fN(n){let e=[];return fs(n.fields,(t,r)=>{let i=new Rr([t]);if(eg(r)){let o=fN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Xr(e)}var Ei=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,fe.min(),fe.min(),fe.min(),Pr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,fe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,fe.min(),fe.min(),Pr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,fe.min(),fe.min(),Pr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Jc=class{constructor(e,t){this.position=e,this.inclusive=t}};function uM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),t.key):r=Xc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function lM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yi(n.position[t],e.position[t]))return!1;return!0}var eu=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function B3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var lg=class{},Qt=class n extends lg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Bw(e,t,r):t==="array-contains"?new $w(e,r):t==="in"?new Hw(e,r):t==="not-in"?new zw(e,r):t==="array-contains-any"?new qw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Uw(e,r):new jw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xc(t,this.value)):t!==null&&us(this.value)===us(t)&&this.matchesComparison(Xc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qi=class n extends lg{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return hN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function hN(n){return n.op==="and"}function pN(n){return U3(n)&&hN(n)}function U3(n){for(let e of n.filters)if(e instanceof Qi)return!1;return!0}function Vw(n){if(n instanceof Qt)return n.field.canonicalString()+n.op.toString()+Zc(n.value);if(pN(n))return n.filters.map(e=>Vw(e)).join(",");{let e=n.filters.map(t=>Vw(t)).join(",");return`${n.op}(${e})`}}function gN(n,e){return n instanceof Qt?function(r,i){return i instanceof Qt&&r.op===i.op&&r.field.isEqual(i.field)&&Yi(r.value,i.value)}(n,e):n instanceof Qi?function(r,i){return i instanceof Qi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&gN(s,i.filters[a]),!0):!1}(n,e):void X(19439)}function mN(n){return n instanceof Qt?function(t){return`${t.field.canonicalString()} ${t.op} ${Zc(t.value)}`}(n):n instanceof Qi?function(t){return t.op.toString()+" {"+t.getFilters().map(mN).join(" ,")+"}"}(n):"Filter"}var Bw=class extends Qt{constructor(e,t,r){super(e,t,r),this.key=Z.fromName(r.referenceValue)}matches(e){let t=Z.comparator(e.key,this.key);return this.matchesComparison(t)}},Uw=class extends Qt{constructor(e,t){super(e,"in",t),this.keys=_N("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},jw=class extends Qt{constructor(e,t){super(e,"not-in",t),this.keys=_N("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function _N(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Z.fromName(r.referenceValue))}var $w=class extends Qt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return g0(t)&&sd(t.arrayValue,this.value)}},Hw=class extends Qt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&sd(this.value.arrayValue,t)}},zw=class extends Qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sd(this.value.arrayValue,t)}},qw=class extends Qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!g0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sd(this.value.arrayValue,r))}};var Ww=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function dM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Ww(n,e,t,r,i,o,s)}function m0(n){let e=ue(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Vw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Lg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zc(r)).join(",")),e.Ie=t}return e.Ie}function _0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!B3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lM(n.startAt,e.startAt)&&lM(n.endAt,e.endAt)}function Gw(n){return Z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var tu=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function j3(n,e,t,r,i,o,s,a){return new tu(n,e,t,r,i,o,s,a)}function y0(n){return new tu(n)}function fM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $3(n){return n.collectionGroup!==null}function ed(n){let e=ue(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new cn(Rr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new eu(o,r))}),t.has(Rr.keyField().canonicalString())||e.Ee.push(new eu(Rr.keyField(),r))}return e.Ee}function qi(n){let e=ue(n);return e.de||(e.de=H3(e,ed(n))),e.de}function H3(n,e){if(n.limitType==="F")return dM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new eu(i.field,o)});let t=n.endAt?new Jc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Jc(n.startAt.position,n.startAt.inclusive):null;return dM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Kw(n,e,t){return new tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bg(n,e){return _0(qi(n),qi(e))&&n.limitType===e.limitType}function yN(n){return`${m0(qi(n))}|lt:${n.limitType}`}function $c(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>mN(i)).join(", ")}]`),Lg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Zc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Zc(i)).join(",")),`Target(${r})`}(qi(n))}; limitType=${n.limitType})`}function Ug(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of ed(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=uM(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,ed(r),i)||r.endAt&&!function(s,a,c){let l=uM(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,ed(r),i))}(n,e)}function z3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vN(n){return(e,t)=>{let r=!1;for(let i of ed(n)){let o=q3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function q3(n,e,t){let r=n.field.isKeyField()?Z.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Xc(c,l):X(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:n.dir})}}var xo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return iN(this.inner)}size(){return this.innerSize}};var W3=new St(Z.comparator);function Po(){return W3}var EN=new St(Z.comparator);function Zl(...n){let e=EN;for(let t of n)e=e.insert(t.key,t);return e}function wN(n){let e=EN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function va(){return td()}function IN(){return td()}function td(){return new xo(n=>n.toString(),(n,e)=>n.isEqual(e))}var G3=new St(Z.comparator),K3=new cn(Z.comparator);function Me(...n){let e=K3;for(let t of n)e=e.add(t);return e}var Y3=new cn(Ee);function Q3(){return Y3}function v0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function TN(n){return{integerValue:""+n}}function X3(n,e){return D3(e)?TN(e):v0(n,e)}var nu=class{constructor(){this._=void 0}};function Z3(n,e,t){return n instanceof ru?function(i,o){let s={fields:{[sN]:{stringValue:oN},[cN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&f0(o)&&(o=Vg(o)),o&&(s.fields[aN]=o),{mapValue:s}}(t,e):n instanceof ba?DN(n,e):n instanceof Da?CN(n,e):function(i,o){let s=bN(i,o),a=hM(s)+hM(i.Re);return Lw(s)&&Lw(i.Re)?TN(a):v0(i.serializer,a)}(n,e)}function J3(n,e,t){return n instanceof ba?DN(n,e):n instanceof Da?CN(n,e):t}function bN(n,e){return n instanceof iu?function(r){return Lw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ru=class extends nu{},ba=class extends nu{constructor(e){super(),this.elements=e}};function DN(n,e){let t=SN(e);for(let r of n.elements)t.some(i=>Yi(i,r))||t.push(r);return{arrayValue:{values:t}}}var Da=class extends nu{constructor(e){super(),this.elements=e}};function CN(n,e){let t=SN(e);for(let r of n.elements)t=t.filter(i=>!Yi(i,r));return{arrayValue:{values:t}}}var iu=class extends nu{constructor(e,t){super(),this.serializer=e,this.Re=t}};function hM(n){return ht(n.integerValue||n.doubleValue)}function SN(n){return g0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function e5(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ba&&i instanceof ba||r instanceof Da&&i instanceof Da?Yc(r.elements,i.elements,Yi):r instanceof iu&&i instanceof iu?Yi(r.Re,i.Re):r instanceof ru&&i instanceof ru}(n.transform,e.transform)}var Yw=class{constructor(e,t){this.version=e,this.transformResults=t}},Wi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function tg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ou=class{};function AN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ad(n.key,Wi.none()):new Ca(n.key,n.data,Wi.none());{let t=n.data,r=Pr.empty(),i=new cn(Rr.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Xi(n.key,r,new Xr(i.toArray()),Wi.none())}}function t5(n,e,t){n instanceof Ca?function(i,o,s){let a=i.value.clone(),c=gM(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Xi?function(i,o,s){if(!tg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=gM(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(xN(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function nd(n,e,t,r){return n instanceof Ca?function(o,s,a,c){if(!tg(o.precondition,s))return a;let l=o.value.clone(),d=mM(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xi?function(o,s,a,c){if(!tg(o.precondition,s))return a;let l=mM(o.fieldTransforms,c,s),d=s.data;return d.setAll(xN(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(o,s,a){return tg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function n5(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=bN(r.transform,i||null);o!=null&&(t===null&&(t=Pr.empty()),t.set(r.field,o))}return t||null}function pM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yc(r,i,(o,s)=>e5(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ca=class extends ou{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Xi=class extends ou{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function xN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function gM(n,e,t){let r=new Map;He(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,J3(s,a,t[i]))}return r}function mM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Z3(o,s,e))}return r}var ad=class extends ou{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qw=class extends ou{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Xw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&t5(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=nd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=nd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=IN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=AN(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Yc(this.mutations,e.mutations,(t,r)=>pM(t,r))&&Yc(this.baseMutations,e.baseMutations,(t,r)=>pM(t,r))}},Zw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){He(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return G3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Jw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var eI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var $t,Oe;function r5(n){switch(n){case U.OK:return X(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return X(15467,{code:n})}}function PN(n){if(n===void 0)return Co("GRPC error has no .code"),U.UNKNOWN;switch(n){case $t.OK:return U.OK;case $t.CANCELLED:return U.CANCELLED;case $t.UNKNOWN:return U.UNKNOWN;case $t.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case $t.INTERNAL:return U.INTERNAL;case $t.UNAVAILABLE:return U.UNAVAILABLE;case $t.UNAUTHENTICATED:return U.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case $t.NOT_FOUND:return U.NOT_FOUND;case $t.ALREADY_EXISTS:return U.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return U.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case $t.ABORTED:return U.ABORTED;case $t.OUT_OF_RANGE:return U.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return U.UNIMPLEMENTED;case $t.DATA_LOSS:return U.DATA_LOSS;default:return X(39323,{code:n})}}(Oe=$t||($t={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";var _M=null;var i5=new To([4294967295,4294967295],0);function yM(n){let e=HM().encode(n),t=new mw;return t.update(e),new Uint8Array(t.digest())}function vM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new To([t,r],0),new To([i,o],0)]}var tI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ea(`Invalid padding: ${t}`);if(r<0)throw new Ea(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ea(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ea(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=To.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(To.fromNumber(r)));return i.compare(i5)===1&&(i=new To([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=yM(e),[r,i]=vM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=yM(e),[r,i]=vM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ea=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var dg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,cd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(fe.min(),i,new St(Ee),Po(),Me())}},cd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Me(),Me(),Me())}};var Wc=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},fg=class{constructor(e,t){this.targetId=e,this.Ce=t}},hg=class{constructor(e,t,r=Nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},pg=class{constructor(){this.Fe=0,this.Me=EM(),this.xe=Nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),r=Me();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:X(38017,{changeType:o})}}),new cd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=EM()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},nI=class{constructor(e){this.ze=e,this.je=new Map,this.He=Po(),this.Je=Xp(),this.Ye=Xp(),this.Ze=new St(Ee)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(Gw(o))if(r===0){let s=new Z(o.path);this.tt(t,s,Ei.newNoDocument(s,fe.min()))}else He(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}_M?.ht(function(d,h,m,p,_){var y,b,A,R,O,N;let L={localCacheCount:d,existenceFilterCount:h.count,databaseId:m.database,projectId:m.projectId},V=h.unchangedNames;return V&&(L.bloomFilter={applied:_===0,hashCount:(y=V?.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(R=(A=(b=V?.bits)===null||b===void 0?void 0:b.bitmap)===null||A===void 0?void 0:A.length)!==null&&R!==void 0?R:0,padding:(N=(O=V?.bits)===null||O===void 0?void 0:O.padding)!==null&&N!==void 0?N:0,mightContain:I=>{var E;return(E=p?.mightContain(I))!==null&&E!==void 0&&E}}),L}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ao(r).toUint8Array()}catch(c){if(c instanceof ag)return Kc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new tI(s,i,o)}catch(c){return Kc(c instanceof Ea?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&Gw(a.target)){let c=new Z(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Ei.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=Me();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this._t(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new dg(e,t,this.Ze,this.He,r);return this.He=Po(),this.Je=Xp(),this.Ye=Xp(),this.Ze=new St(Ee),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new pg,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new cn(Ee),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new cn(Ee),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||H("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new pg),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Xp(){return new St(Z.comparator)}function EM(){return new St(Z.comparator)}var o5={asc:"ASCENDING",desc:"DESCENDING"},s5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a5={and:"AND",or:"OR"},rI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function iI(n,e){return n.useProto3Json||Lg(e)?e:{value:e}}function gg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function c5(n,e){return gg(n,e.toTimestamp())}function Gi(n){return He(!!n,49232),fe.fromTimestamp(function(t){let r=So(t);return new En(r.seconds,r.nanos)}(n))}function E0(n,e){return oI(n,e).canonicalString()}function oI(n,e){let t=function(i){return new Ct(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function MN(n){let e=Ct.fromString(n);return He(LN(e),10190,{key:e.toString()}),e}function sI(n,e){return E0(n.databaseId,e.path)}function Iw(n,e){let t=MN(e);if(t.get(1)!==n.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Z(kN(t))}function NN(n,e){return E0(n.databaseId,e)}function u5(n){let e=MN(n);return e.length===4?Ct.emptyPath():kN(e)}function aI(n){return new Ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kN(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function wM(n,e,t){return{name:sI(n,e),fields:t.value.mapValue.fields}}function l5(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,d){return l.useProto3Json?(He(d===void 0||typeof d=="string",58123),Nn.fromBase64String(d||"")):(He(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Nn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let d=l.code===void 0?U.UNKNOWN:PN(l.code);return new G(d,l.message||"")}(s);t=new hg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Iw(n,r.document.name),o=Gi(r.document.updateTime),s=r.document.createTime?Gi(r.document.createTime):fe.min(),a=new Pr({mapValue:{fields:r.document.fields}}),c=Ei.newFoundDocument(i,o,s,a),l=r.targetIds||[],d=r.removedTargetIds||[];t=new Wc(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Iw(n,r.document),o=r.readTime?Gi(r.readTime):fe.min(),s=Ei.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Wc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Iw(n,r.document),o=r.removedTargetIds||[];t=new Wc([],o,i,null)}else{if(!("filter"in e))return X(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new eI(i,o),a=r.targetId;t=new fg(a,s)}}return t}function d5(n,e){let t;if(e instanceof Ca)t={update:wM(n,e.key,e.value)};else if(e instanceof ad)t={delete:sI(n,e.key)};else if(e instanceof Xi)t={update:wM(n,e.key,e.data),updateMask:E5(e.fieldMask)};else{if(!(e instanceof Qw))return X(16599,{ft:e.type});t={verify:sI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ru)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ba)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Da)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof iu)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw X(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:c5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X(27497)}(n,e.precondition)),t}function f5(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Gi(i.updateTime):Gi(o);return s.isEqual(fe.min())&&(s=Gi(o)),new Yw(s,i.transformResults||[])}(t,e))):[]}function h5(n,e){return{documents:[NN(n,e.path)]}}function p5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=NN(n,i);let o=function(l){if(l.length!==0)return FN(Qi.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(d=>function(m){return{field:Hc(m.field),direction:_5(m.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=iI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function g5(n){let e=u5(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){He(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(h){let m=ON(h);return m instanceof Qi&&pN(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(h){return h.map(m=>function(_){return new eu(zc(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Lg(m)?null:m}(t.limit));let c=null;t.startAt&&(c=function(h){let m=!!h.before,p=h.values||[];return new Jc(p,m)}(t.startAt));let l=null;return t.endAt&&(l=function(h){let m=!h.before,p=h.values||[];return new Jc(p,m)}(t.endAt)),j3(e,i,s,o,a,"F",c,l)}function m5(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ON(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=zc(t.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=zc(t.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=zc(t.unaryFilter.field);return Qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=zc(t.unaryFilter.field);return Qt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(n):n.fieldFilter!==void 0?function(t){return Qt.create(zc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Qi.create(t.compositeFilter.filters.map(r=>ON(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(t.compositeFilter.op))}(n):X(30097,{filter:n})}function _5(n){return o5[n]}function y5(n){return s5[n]}function v5(n){return a5[n]}function Hc(n){return{fieldPath:n.canonicalString()}}function zc(n){return Rr.fromServerFormat(n.fieldPath)}function FN(n){return n instanceof Qt?function(t){if(t.op==="=="){if(cM(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NAN"}};if(aM(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cM(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NAN"}};if(aM(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(t.field),op:y5(t.op),value:t.value}}}(n):n instanceof Qi?function(t){let r=t.getFilters().map(i=>FN(i));return r.length===1?r[0]:{compositeFilter:{op:v5(t.op),filters:r}}}(n):X(54877,{filter:n})}function E5(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ud=class n{constructor(e,t,r,i,o=fe.min(),s=fe.min(),a=Nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var cI=class{constructor(e){this.wt=e}};function w5(n){let e=g5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kw(e,e.limit,"L"):e}var mg=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ht(e.integerValue));else if("doubleValue"in e){let r=ht(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),id(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=So(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Ao(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?dN(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):lN(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):X(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Qc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(ht(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),Z.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};mg.Wt=new mg;var uI=class{constructor(){this.yn=new lI}addToCollectionParentIndex(e,t){return this.yn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Ta.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Ta.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},lI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new cn(Ct.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cn(Ct.comparator)).toArray()}};var Ote=new Uint8Array(0);var IM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VN=41943040,Qr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(VN,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);var ld=class n{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new n(0)}static ir(){return new n(-1)}};var TM="LruGarbageCollector",I5=1048576;function bM([n,e],[t,r]){let i=Ee(n,t);return i===0?Ee(e,r):i}var dI=class{constructor(e){this.cr=e,this.buffer=new cn(bM),this.lr=0}hr(){return++this.lr}Pr(e){let t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();bM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},fI=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){H(TM,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>M(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){du(t)?H(TM,"Ignoring IndexedDB error during garbage collection: ",t):yield lu(t)}yield this.Ir(3e5)}))}},hI=class{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return B.resolve(l0.le);let r=new dI(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(IM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IM):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,o,s,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(o=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),jc()<=Re.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}};function T5(n,e){return new hI(n,e)}var pI=class{constructor(){this.changes=new xo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var gI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var mI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&nd(r.mutation,i,Xr.empty(),En.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){let i=va();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Zl();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=va();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Po(),s=td(),a=function(){return td()}();return t.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof Xi)?o=o.insert(l.key,l):d!==void 0?(s.set(l.key,d.mutation.getFieldMask()),nd(d.mutation,l,d.mutation.getFieldMask(),En.now())):s.set(l.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),t.forEach((l,d)=>{var h;return a.set(l,new gI(d,(h=s.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let r=td(),i=new St((s,a)=>s-a),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let d=r.get(c)||Xr.empty();d=a.applyToLocalView(l,d),r.set(c,d);let h=(i.get(a.batchId)||Me()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,h=IN();d.forEach(m=>{if(!o.has(m)){let p=AN(t.get(m),r.get(m));p!==null&&h.set(m,p),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,h))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):B.resolve(va()),a=rd,c=o;return s.next(l=>B.forEach(l,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Me())).next(d=>({batchId:a,changes:wN(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Z(t)).next(r=>{let i=Zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Zl();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,c=>{let l=function(h,m){return new tu(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((h,m)=>{s=s.insert(h,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let d=l.getKey();s.get(d)===null&&(s=s.insert(d,Ei.newInvalidDocument(d)))});let a=Zl();return s.forEach((c,l)=>{let d=o.get(c);d!==void 0&&nd(d.mutation,l,Xr.empty(),En.now()),Ug(t,l)&&(a=a.insert(c,l))}),a})}};var _I=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return B.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:w5(i.bundledQuery),readTime:Gi(i.readTime)}}(t)),B.resolve()}};var yI=class{constructor(){this.overlays=new St(Z.comparator),this.Or=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=va();return B.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=va(),o=t.length+1,s=new Z(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new St((l,d)=>l-d),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let d=o.get(l.largestBatchId);d===null&&(d=va(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=va(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return B.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Jw(t,r));let o=this.Or.get(t);o===void 0&&(o=Me(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}};var vI=class{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var dd=class{constructor(){this.Nr=new cn(Ht.Br),this.Lr=new cn(Ht.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){let r=new Ht(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Ht(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){let t=new Z(new Ct([])),r=new Ht(t,e),i=new Ht(t,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let t=new Z(new Ct([])),r=new Ht(t,e),i=new Ht(t,e+1),o=Me();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ht(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ht=class{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Z.comparator(e.key,t.key)||Ee(e.Gr,t.Gr)}static kr(e,t){return Ee(e.Gr,t.Gr)||Z.comparator(e.key,t.key)}};var EI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new cn(Ht.Br)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Xw(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.zr=this.zr.add(new Ht(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Hr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?d0:this.Jn-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ht(t,0),i=new Ht(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let a=this.jr(s.Gr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cn(Ee);return t.forEach(i=>{let o=new Ht(i,0),s=new Ht(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],a=>{r=r.add(a.Gr)})}),B.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Z.isDocumentKey(o)||(o=o.child(""));let s=new Ht(new Z(o),0),a=new cn(Ee);return this.zr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Gr)),!0)},s),B.resolve(this.Jr(a))}Jr(e){let t=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){He(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return B.forEach(t.mutations,i=>{let o=new Ht(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){let r=new Ht(t,0),i=this.zr.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var wI=class{constructor(e){this.Zr=e,this.docs=function(){return new St(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():Ei.newInvalidDocument(t))}getEntries(e,t){let r=Po();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ei.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Po(),s=t.path,a=new Z(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||I3(w3(d),r)<=0||(i.has(d.key)||Ug(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,r,i){X(9500)}Xr(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new II(this)}getSize(e){return B.resolve(this.size)}},II=class extends pI{constructor(e){super(),this.vr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}};var TI=class{constructor(e){this.persistence=e,this.ei=new xo(t=>m0(t),_0),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.ti=0,this.ni=new dd,this.targetCount=0,this.ri=ld.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),B.resolve()}ar(e){this.ei.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ri=new ld(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.ar(t),B.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ei.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.ei.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ni.Wr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.ni.containsKey(t))}};var _g=class{constructor(e,t){this.ii={},this.overlays={},this.si=new l0(0),this.oi=!1,this.oi=!0,this._i=new vI,this.referenceDelegate=e(this),this.ai=new TI(this),this.indexManager=new uI,this.remoteDocumentCache=function(i){return new wI(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new cI(t),this.ci=new _I(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new EI(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){H("MemoryPersistence","Starting transaction:",e);let i=new bI(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,t){return B.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}},bI=class extends kw{constructor(e){super(),this.currentSequenceNumber=e}},DI=class n{constructor(e){this.persistence=e,this.Ti=new dd,this.Ii=null}static Ei(e){return new n(e)}get di(){if(this.Ii)return this.Ii;throw X(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,r=>{let i=Z.fromPath(r);return this.Ai(e,i).next(o=>{o||t.removeEntry(i,fe.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return B.or([()=>B.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}},yg=class n{constructor(e,t){this.persistence=e,this.Ri=new xo(r=>C3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=T5(this,t)}static Ei(e,t){return new n(e,t)}li(){}hi(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return B.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?B.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),B.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jp(e.data.value)),t}gr(e,t,r){return B.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.Ri.get(t);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var CI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=Me(),i=Me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var SI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var AI=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return rR()?8:b3(xr())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new SI;return this.fs(e,t,s).next(a=>{if(o.result=a,this.Is)return this.gs(e,t,s,a.size)})}).next(()=>o.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(jc()<=Re.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",$c(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),B.resolve()):(jc()<=Re.DEBUG&&H("QueryEngine","Query:",$c(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(jc()<=Re.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",$c(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(t))):B.resolve())}Rs(e,t){if(fM(t))return B.resolve(null);let r=qi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Kw(t,null,"F"),r=qi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Me(...o);return this.As.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.ps(t,a);return this.ys(t,l,s,c.readTime)?this.Rs(e,Kw(t,null,"F")):this.ws(e,l,t,c)}))})))}Vs(e,t,r,i){return fM(t)||i.isEqual(fe.min())?B.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(t,o);return this.ys(t,s,r,i)?B.resolve(null):(jc()<=Re.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$c(t)),this.ws(e,s,t,E3(i,rd)).next(a=>a))})}ps(e,t){let r=new cn(vN(e));return t.forEach((i,o)=>{Ug(e,o)&&(r=r.add(o))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,t,r){return jc()<=Re.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",$c(t)),this.As.getDocumentsMatchingQuery(e,t,Ta.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var w0="LocalStore",b5=3e8,xI=class{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new St(Ee),this.Ds=new xo(o=>m0(o),_0),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mI(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}};function D5(n,e,t,r){return new xI(n,e,t,r)}function BN(n,e){return M(this,null,function*(){let t=ue(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Me();for(let l of i){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Ms:l,removedBatchIds:s,addedBatchIds:a}))})})})}function C5(n,e){let t=ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let h=l.batch,m=h.keys(),p=B.resolve();return m.forEach(_=>{p=p.next(()=>d.getEntry(c,_)).next(y=>{let b=l.docVersions.get(_);He(b!==null,48541),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),d.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function UN(n){let e=ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function S5(n,e){let t=ue(n),r=e.snapshotVersion,i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;let a=[];e.targetChanges.forEach((d,h)=>{let m=i.get(h);if(!m)return;a.push(t.ai.removeMatchingKeys(o,d.removedDocuments,h).next(()=>t.ai.addMatchingKeys(o,d.addedDocuments,h)));let p=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Nn.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(y,b,A){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=b5?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(m,p,d)&&a.push(t.ai.updateTargetData(o,p))});let c=Po(),l=Me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(A5(o,s,e.documentUpdates).next(d=>{c=d.xs,l=d.Os})),!r.isEqual(fe.min())){let d=t.ai.getLastRemoteSnapshotVersion(o).next(h=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Ss=i,o))}function A5(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Po();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):H(w0,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{xs:s,Os:i}})}function x5(n,e){let t=ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=d0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P5(n,e){let t=ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):t.ai.allocateTargetId(r).next(s=>(i=new ud(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}function PI(n,e,t){return M(this,null,function*(){let r=ue(n),i=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!du(s))throw s;H(w0,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function DM(n,e,t){let r=ue(n),i=fe.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,d){let h=ue(c),m=h.Ds.get(d);return m!==void 0?B.resolve(h.Ss.get(m)):h.ai.getTargetData(l,d)}(r,s,qi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,t?i:fe.min(),t?o:Me())).next(a=>(R5(r,z3(e),a),{documents:a,Ns:o})))}function R5(n,e,t){let r=n.vs.get(e)||fe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}var vg=class{constructor(){this.activeTargetIds=Q3()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var RI=class{constructor(){this.So=new vg,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new vg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var MI=class{vo(e){}shutdown(){}};var CM="ConnectivityMonitor",Eg=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){H(CM,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){H(CM,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zp=null;function NI(){return Zp===null?Zp=function(){return 268435456+Math.round(2147483648*Math.random())}():Zp++,"0x"+Zp.toString(16)}var Tw="RestConnection",M5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},kI=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===cg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,o){let s=NI(),a=this.$o(e,t.toUriEncodedString());H(Tw,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(c,i,o);let{host:l}=new URL(a),d=jl(l);return this.Ko(e,a,c,r,d).then(h=>(H(Tw,`Received RPC '${e}' ${s}: `,h),h),h=>{throw Kc(Tw,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}Wo(e,t,r,i,o,s){return this.Qo(e,t,r,i,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,t){let r=M5[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}};var OI=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var Mn="WebChannelConnection",FI=class extends kI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i,o){let s=NI();return new Promise((a,c)=>{let l=new _w;l.setWithCredentials(!0),l.listenOnce(yw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xl.NO_ERROR:let h=l.getResponseJson();H(Mn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case Xl.TIMEOUT:H(Mn,`RPC '${e}' ${s} timed out`),c(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case Xl.HTTP_ERROR:let m=l.getStatus();if(H(Mn,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);let _=p?.error;if(_&&_.status&&_.message){let y=function(A){let R=A.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(R)>=0?R:U.UNKNOWN}(_.status);c(new G(y,_.message))}else c(new G(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new G(U.UNAVAILABLE,"Connection failed."));break;default:X(9055,{s_:e,streamId:s,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{H(Mn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);H(Mn,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",d,r,15)})}a_(e,t,r){let i=NI(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ww(),a=Ew(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");H(Mn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let h=s.createWebChannel(d,c),m=!1,p=!1,_=new OI({Go:b=>{p?H(Mn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(H(Mn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),H(Mn,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},zo:()=>h.close()}),y=(b,A,R)=>{b.listen(A,O=>{try{R(O)}catch(N){setTimeout(()=>{throw N},0)}})};return y(h,Uc.EventType.OPEN,()=>{p||(H(Mn,`RPC '${e}' stream ${i} transport opened.`),_.t_())}),y(h,Uc.EventType.CLOSE,()=>{p||(p=!0,H(Mn,`RPC '${e}' stream ${i} transport closed`),_.r_())}),y(h,Uc.EventType.ERROR,b=>{p||(p=!0,Kc(Mn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),_.r_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),y(h,Uc.EventType.MESSAGE,b=>{var A;if(!p){let R=b.data[0];He(!!R,16349);let O=R,N=O?.error||((A=O[0])===null||A===void 0?void 0:A.error);if(N){H(Mn,`RPC '${e}' stream ${i} received error:`,N);let L=N.status,V=function(w){let T=$t[w];if(T!==void 0)return PN(T)}(L),I=N.message;V===void 0&&(V=U.INTERNAL,I="Unknown error status: "+L+" with message "+N.message),p=!0,_.r_(new G(V,I)),h.close()}else H(Mn,`RPC '${e}' stream ${i} received:`,R),_.i_(R)}}),y(a,vw.STAT_EVENT,b=>{b.stat===Yp.PROXY?H(Mn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Yp.NOPROXY&&H(Mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.n_()},0),_}};function bw(){return typeof document<"u"?document:null}function jg(n){return new rI(n,!0)}var wg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var SM="PersistentStream",Ig=class{constructor(e,t,r,i,o,s,a,c){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new wg(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return M(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return M(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,t){return M(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Co(t.toString()),Co("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(t)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{let i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){let r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>M(this,null,function*(){this.state=0,this.start()}))}L_(e){return H(SM,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(H(SM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},LI=class extends Ig{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let t=l5(this.serializer,e),r=function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?Gi(s.readTime):fe.min()}(e);return this.listener.Q_(t,r)}U_(e){let t={};t.database=aI(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=Gw(c)?{documents:h5(o,c)}:{query:p5(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=RN(o,s.resumeToken);let l=iI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=gg(o,s.snapshotVersion.toTimestamp());let l=iI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=m5(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){let t={};t.database=aI(this.serializer),t.removeTarget=e,this.F_(t)}},VI=class extends Ig{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let t=f5(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.j_(r,t)}H_(){let e={};e.database=aI(this.serializer),this.F_(e)}G_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>d5(this.serializer,r))};this.F_(t)}};var BI=class{},UI=class extends BI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,oI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(U.UNKNOWN,o.toString())})}Wo(e,t,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,oI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},jI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Co(t),this.ea=!1):H("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var Sa="RemoteStore",$I=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>M(this,null,function*(){Aa(this)&&(H(Sa,"Restarting streams for network reachability change."),yield function(c){return M(this,null,function*(){let l=ue(c);l.aa.add(4),yield md(l),l.la.set("Unknown"),l.aa.delete(4),yield $g(l)})}(this))}))}),this.la=new jI(r,i)}};function $g(n){return M(this,null,function*(){if(Aa(n))for(let e of n.ua)yield e(!0)})}function md(n){return M(this,null,function*(){for(let e of n.ua)yield e(!1)})}function jN(n,e){let t=ue(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),D0(t)?b0(t):fu(t).b_()&&T0(t,e))}function I0(n,e){let t=ue(n),r=fu(t);t._a.delete(e),r.b_()&&$N(t,e),t._a.size===0&&(r.b_()?r.v_():Aa(t)&&t.la.set("Unknown"))}function T0(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fu(n).U_(e)}function $N(n,e){n.ha.Ke(e),fu(n).K_(e)}function b0(n){n.ha=new nI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),fu(n).start(),n.la.ta()}function D0(n){return Aa(n)&&!fu(n).w_()&&n._a.size>0}function Aa(n){return ue(n).aa.size===0}function HN(n){n.ha=void 0}function N5(n){return M(this,null,function*(){n.la.set("Online")})}function k5(n){return M(this,null,function*(){n._a.forEach((e,t)=>{T0(n,e)})})}function O5(n,e){return M(this,null,function*(){HN(n),D0(n)?(n.la.ia(e),b0(n)):n.la.set("Unknown")})}function F5(n,e,t){return M(this,null,function*(){if(n.la.set("Online"),e instanceof hg&&e.state===2&&e.cause)try{yield function(i,o){return M(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i._a.delete(a),i.ha.removeTarget(a))})}(n,e)}catch(r){H(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Tg(n,r)}else if(e instanceof Wc?n.ha.Xe(e):e instanceof fg?n.ha.ot(e):n.ha.nt(e),!t.isEqual(fe.min()))try{let r=yield UN(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ha.It(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=o._a.get(l);d&&o._a.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let d=o._a.get(c);if(!d)return;o._a.set(c,d.withResumeToken(Nn.EMPTY_BYTE_STRING,d.snapshotVersion)),$N(o,c);let h=new ud(d.target,c,l,d.sequenceNumber);T0(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){H(Sa,"Failed to raise snapshot:",r),yield Tg(n,r)}})}function Tg(n,e,t){return M(this,null,function*(){if(!du(e))throw e;n.aa.add(1),yield md(n),n.la.set("Offline"),t||(t=()=>UN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>M(null,null,function*(){H(Sa,"Retrying IndexedDB access"),yield t(),n.aa.delete(1),yield $g(n)}))})}function zN(n,e){return e().catch(t=>Tg(n,t,e))}function Hg(n){return M(this,null,function*(){let e=ue(n),t=ls(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:d0;for(;L5(e);)try{let i=yield x5(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,V5(e,i)}catch(i){yield Tg(e,i)}qN(e)&&WN(e)})}function L5(n){return Aa(n)&&n.oa.length<10}function V5(n,e){n.oa.push(e);let t=ls(n);t.b_()&&t.W_&&t.G_(e.mutations)}function qN(n){return Aa(n)&&!ls(n).w_()&&n.oa.length>0}function WN(n){ls(n).start()}function B5(n){return M(this,null,function*(){ls(n).H_()})}function U5(n){return M(this,null,function*(){let e=ls(n);for(let t of n.oa)e.G_(t.mutations)})}function j5(n,e,t){return M(this,null,function*(){let r=n.oa.shift(),i=Zw.from(r,e,t);yield zN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Hg(n)})}function $5(n,e){return M(this,null,function*(){e&&ls(n).W_&&(yield function(r,i){return M(this,null,function*(){if(function(s){return r5(s)&&s!==U.ABORTED}(i.code)){let o=r.oa.shift();ls(r).D_(),yield zN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Hg(r)}})}(n,e)),qN(n)&&WN(n)})}function AM(n,e){return M(this,null,function*(){let t=ue(n);t.asyncQueue.verifyOperationInProgress(),H(Sa,"RemoteStore received new credentials");let r=Aa(t);t.aa.add(3),yield md(t),r&&t.la.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),yield $g(t)})}function H5(n,e){return M(this,null,function*(){let t=ue(n);e?(t.aa.delete(2),yield $g(t)):e||(t.aa.add(2),yield md(t),t.la.set("Unknown"))})}function fu(n){return n.Pa||(n.Pa=function(t,r,i){let o=ue(t);return o.Y_(),new LI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:N5.bind(null,n),Jo:k5.bind(null,n),Zo:O5.bind(null,n),Q_:F5.bind(null,n)}),n.ua.push(e=>M(null,null,function*(){e?(n.Pa.D_(),D0(n)?b0(n):n.la.set("Unknown")):(yield n.Pa.stop(),HN(n))}))),n.Pa}function ls(n){return n.Ta||(n.Ta=function(t,r,i){let o=ue(t);return o.Y_(),new VI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:B5.bind(null,n),Zo:$5.bind(null,n),z_:U5.bind(null,n),j_:j5.bind(null,n)}),n.ua.push(e=>M(null,null,function*(){e?(n.Ta.D_(),yield Hg(n)):(yield n.Ta.stop(),n.oa.length>0&&(H(Sa,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))}))),n.Ta}var HI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Do,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function C0(n,e){if(Co("AsyncQueue",`${e}: ${n}`),du(n))return new G(U.UNAVAILABLE,`${e}: ${n}`);throw n}var bg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Z.comparator(t.key,r.key):(t,r)=>Z.comparator(t.key,r.key),this.keyedMap=Zl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Dg=class{constructor(){this.Ia=new St(Z.comparator)}track(e){let t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):X(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){let e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}},su=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,bg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var zI=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},qI=class{constructor(){this.queries=xM(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){let i=ue(t),o=i.queries;i.queries=xM(),o.forEach((s,a)=>{for(let c of a.Ra)c.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}};function xM(){return new xo(n=>yN(n),Bg)}function z5(n,e){return M(this,null,function*(){let t=ue(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new zI,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield t.onListen(i,!0);break;case 1:o.Aa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=C0(s,`Initialization of query '${$c(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&S0(t)})}function q5(n,e){return M(this,null,function*(){let t=ue(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function W5(n,e){let t=ue(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Ra)a.pa(i)&&(r=!0);s.Aa=i}}r&&S0(t)}function G5(n,e,t){let r=ue(n),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(t);r.queries.delete(e)}function S0(n){n.fa.forEach(e=>{e.next()})}var WI,PM;(PM=WI||(WI={})).ya="default",PM.Cache="cache";var GI=class{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new su(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;let r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==WI.Cache}};var Cg=class{constructor(e){this.key=e}},Sg=class{constructor(e){this.key=e}},KI=class{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Me(),this.mutatedKeys=Me(),this.Ua=vN(e),this.Ka=new bg(this.Ua)}get Wa(){return this.qa}Ga(e,t){let r=t?t.za:new Dg,i=t?t.Ka:this.Ka,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{let m=i.get(d),p=Ug(this.query,h)?h:null,_=!!m&&this.mutatedKeys.has(m.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),b=!1;m&&p?m.data.isEqual(p.data)?_!==y&&(r.track({type:3,doc:p}),b=!0):this.ja(m,p)||(r.track({type:2,doc:p}),b=!0,(c&&this.Ua(p,c)>0||l&&this.Ua(p,l)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),b=!0):m&&!p&&(r.track({type:1,doc:m}),b=!0,(c||l)&&(a=!0)),b&&(p?(s=s.add(p),o=y?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ka:s,za:r,ys:a,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((d,h)=>function(p,_){let y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Vt:b})}};return y(p)-y(_)}(d.type,h.type)||this.Ua(d.doc,h.doc)),this.Ha(r),i=i!=null&&i;let a=t&&!i?this.Ja():[],c=this.$a.size===0&&this.current&&!i?1:0,l=c!==this.Qa;return this.Qa=c,s.length!==0||l?{snapshot:new su(this.query,e.Ka,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Dg,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=Me(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new Sg(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new Cg(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Me();let t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return su.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},A0="SyncEngine",YI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},QI=class{constructor(e){this.key=e,this.tu=!1}},XI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new xo(a=>yN(a),Bg),this.iu=new Map,this.su=new Set,this.ou=new St(Z.comparator),this._u=new Map,this.au=new dd,this.uu={},this.cu=new Map,this.lu=ld.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function K5(n,e,t=!0){return M(this,null,function*(){let r=ZN(n),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield GN(r,e,t,!0),i})}function Y5(n,e){return M(this,null,function*(){let t=ZN(n);yield GN(t,e,!0,!1)})}function GN(n,e,t,r){return M(this,null,function*(){let i=yield P5(n.localStore,qi(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Q5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&jN(n.remoteStore,i),a})}function Q5(n,e,t,r,i){return M(this,null,function*(){n.Pu=(h,m,p)=>function(y,b,A,R){return M(this,null,function*(){let O=b.view.Ga(A);O.ys&&(O=yield DM(y.localStore,b.query,!1).then(({documents:I})=>b.view.Ga(I,O)));let N=R&&R.targetChanges.get(b.targetId),L=R&&R.targetMismatches.get(b.targetId)!=null,V=b.view.applyChanges(O,y.isPrimaryClient,N,L);return MM(y,b.targetId,V.Ya),V.snapshot})}(n,h,m,p);let o=yield DM(n.localStore,e,!0),s=new KI(e,o.Ns),a=s.Ga(o.documents),c=cd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);MM(n,t,l.Ya);let d=new YI(e,t,s);return n.ru.set(e,d),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),l.snapshot})}function X5(n,e,t){return M(this,null,function*(){let r=ue(n),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!Bg(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield PI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&I0(r.remoteStore,i.targetId),ZI(r,i.targetId)}).catch(lu))):(ZI(r,i.targetId),yield PI(r.localStore,i.targetId,!0))})}function Z5(n,e){return M(this,null,function*(){let t=ue(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),I0(t.remoteStore,r.targetId))})}function J5(n,e,t){return M(this,null,function*(){let r=s6(n);try{let i=yield function(s,a){let c=ue(s),l=En.now(),d=a.reduce((p,_)=>p.add(_.key),Me()),h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=Po(),y=Me();return c.Cs.getEntries(p,d).next(b=>{_=b,_.forEach((A,R)=>{R.isValidDocument()||(y=y.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,_)).next(b=>{h=b;let A=[];for(let R of a){let O=n5(R,h.get(R.key).overlayedDocument);O!=null&&A.push(new Xi(R.key,O,fN(O.value.mapValue),Wi.exists(!0)))}return c.mutationQueue.addMutationBatch(p,l,A,a)}).next(b=>{m=b;let A=b.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(p,b.batchId,A)})}).then(()=>({batchId:m.batchId,changes:wN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.uu[s.currentUser.toKey()];l||(l=new St(Ee)),l=l.insert(a,c),s.uu[s.currentUser.toKey()]=l}(r,i.batchId,t),yield _d(r,i.changes),yield Hg(r.remoteStore)}catch(i){let o=C0(i,"Failed to persist write");t.reject(o)}})}function KN(n,e){return M(this,null,function*(){let t=ue(n);try{let r=yield S5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t._u.get(o);s&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?He(s.tu,14607):i.removedDocuments.size>0&&(He(s.tu,42227),s.tu=!1))}),yield _d(t,r,e)}catch(r){yield lu(r)}})}function RM(n,e,t){let r=ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ru.forEach((o,s)=>{let a=s.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ue(s);c.onlineState=a;let l=!1;c.queries.forEach((d,h)=>{for(let m of h.Ra)m.ga(a)&&(l=!0)}),l&&S0(c)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function e6(n,e,t){return M(this,null,function*(){let r=ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r._u.get(e),o=i&&i.key;if(o){let s=new St(Z.comparator);s=s.insert(o,Ei.newNoDocument(o,fe.min()));let a=Me().add(o),c=new dg(fe.min(),new Map,new St(Ee),s,a);yield KN(r,c),r.ou=r.ou.remove(o),r._u.delete(e),x0(r)}else yield PI(r.localStore,e,!1).then(()=>ZI(r,e,t)).catch(lu)})}function t6(n,e){return M(this,null,function*(){let t=ue(n),r=e.batch.batchId;try{let i=yield C5(t.localStore,e);QN(t,r,null),YN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _d(t,i)}catch(i){yield lu(i)}})}function n6(n,e,t){return M(this,null,function*(){let r=ue(n);try{let i=yield function(s,a){let c=ue(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(He(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(r.localStore,e);QN(r,e,t),YN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _d(r,i)}catch(i){yield lu(i)}})}function YN(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function QN(n,e,t){let r=ue(n),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function ZI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||XN(n,r)})}function XN(n,e){n.su.delete(e.path.canonicalString());let t=n.ou.get(e);t!==null&&(I0(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),x0(n))}function MM(n,e,t){for(let r of t)r instanceof Cg?(n.au.addReference(r.key,e),r6(n,r)):r instanceof Sg?(H(A0,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||XN(n,r.key)):X(19791,{Iu:r})}function r6(n,e){let t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(H(A0,"New document in limbo: "+t),n.su.add(r),x0(n))}function x0(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){let e=n.su.values().next().value;n.su.delete(e);let t=new Z(Ct.fromString(e)),r=n.lu.next();n._u.set(r,new QI(t)),n.ou=n.ou.insert(t,r),jN(n.remoteStore,new ud(qi(y0(t.path)),r,"TargetPurposeLimboResolution",l0.le))}}function _d(n,e,t){return M(this,null,function*(){let r=ue(n),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((a,c)=>{s.push(r.Pu(c,e,t).then(l=>{var d;if((l||t)&&r.isPrimaryClient){let h=l?!l.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);let h=CI.Ps(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(c,l){return M(this,null,function*(){let d=ue(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(l,m=>B.forEach(m.ls,p=>d.persistence.referenceDelegate.addReference(h,m.targetId,p)).next(()=>B.forEach(m.hs,p=>d.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))}catch(h){if(!du(h))throw h;H(w0,"Failed to update sequence numbers: "+h)}for(let h of l){let m=h.targetId;if(!h.fromCache){let p=d.Ss.get(m),_=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(_);d.Ss=d.Ss.insert(m,y)}}})}(r.localStore,o))})}function i6(n,e){return M(this,null,function*(){let t=ue(n);if(!t.currentUser.isEqual(e)){H(A0,"User change. New user:",e.toKey());let r=yield BN(t.localStore,e);t.currentUser=e,function(o,s){o.cu.forEach(a=>{a.forEach(c=>{c.reject(new G(U.CANCELLED,s))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _d(t,r.Ms)}})}function o6(n,e){let t=ue(n),r=t._u.get(e);if(r&&r.tu)return Me().add(r.key);{let i=Me(),o=t.iu.get(e);if(!o)return i;for(let s of o){let a=t.ru.get(s);i=i.unionWith(a.view.Wa)}return i}}function ZN(n){let e=ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e6.bind(null,e),e.nu.Q_=W5.bind(null,e.eventManager),e.nu.Tu=G5.bind(null,e.eventManager),e}function s6(n){let e=ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n6.bind(null,e),e}var JN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return M(this,null,function*(){this.serializer=jg(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),yield this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)})}mu(t,r){return null}fu(t,r){return null}Vu(t){return D5(this.persistence,new AI,t.initialUser,this.serializer)}Ru(t){return new _g(DI.Ei,this.serializer)}Au(t){return new RI}terminate(){return M(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),JI=class extends JN{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){He(this.persistence.referenceDelegate instanceof yg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new fI(r,e.asyncQueue,t)}Ru(e){let t=this.cacheSizeBytes!==void 0?Qr.withCacheSize(this.cacheSizeBytes):Qr.DEFAULT;return new _g(r=>yg.Ei(r,t),this.serializer)}};var a6=(()=>{class n{initialize(t,r){return M(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=i6.bind(null,this.syncEngine),yield H5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new qI}()}createDatastore(t){let r=jg(t.databaseInfo.databaseId),i=function(s){return new FI(s)}(t.databaseInfo);return function(s,a,c,l){return new UI(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new $I(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>RM(this.syncEngine,r,0),function(){return Eg.C()?new Eg:new MI}())}createSyncEngine(t,r){return function(o,s,a,c,l,d,h){let m=new XI(o,s,a,c,l,d);return h&&(m.hu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return M(this,null,function*(){var t,r;yield function(o){return M(this,null,function*(){let s=ue(o);H(Sa,"RemoteStore shutting down."),s.aa.add(5),yield md(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var e0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Co("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ds="FirestoreClient",t0=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>M(this,null,function*(){H(ds,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(H(ds,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Do;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=C0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Dw(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),H(ds,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>M(null,null,function*(){r.isEqual(i)||(yield BN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function NM(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield c6(n);H(ds,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>AM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>AM(e.remoteStore,i)),n._onlineComponents=e})}function c6(n){return M(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){H(ds,"Using user provided OfflineComponentProvider");try{yield Dw(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Kc("Error using user provided cache. Falling back to memory cache: "+t),yield Dw(n,new JN)}}else H(ds,"Using default OfflineComponentProvider"),yield Dw(n,new JI(void 0));return n._offlineComponents})}function ek(n){return M(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(H(ds,"Using user provided OnlineComponentProvider"),yield NM(n,n._uninitializedComponentsProvider._online)):(H(ds,"Using default OnlineComponentProvider"),yield NM(n,new a6))),n._onlineComponents})}function u6(n){return ek(n).then(e=>e.syncEngine)}function kM(n){return M(this,null,function*(){let e=yield ek(n),t=e.eventManager;return t.onListen=K5.bind(null,e.syncEngine),t.onUnlisten=X5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Y5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Z5.bind(null,e.syncEngine),t})}function tk(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var OM=new Map;function nk(n,e,t){if(!t)throw new G(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function l6(n,e,t,r){if(e===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function FM(n){if(!Z.isDocumentKey(n))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LM(n){if(Z.isDocumentKey(n))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function P0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":X(12329,{type:typeof n})}function Ki(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=P0(n);throw new G(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var rk="firestore.googleapis.com",VM=!0,Ag=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rk,this.ssl=VM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:VM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I5)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},au=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ag({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ag(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Cw;switch(r.type){case"firstParty":return new Pw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return M(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=OM.get(t);r&&(H("ComponentProvider","Removing Datastore"),OM.delete(t),r.terminate())}(this),Promise.resolve()}};function ik(n,e,t,r={}){var i;n=Ki(n,au);let o=jl(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&ME(`https://${c}`),s.host!==rk&&s.host!==c&&Kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!la(l,a)&&(n._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=an.MOCK_USER;else{d=ZP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new an(m)}n._authCredentials=new Sw(new ng(d,h))}}var xg=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},hr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},cs=class n extends xg{constructor(e,t,r){super(e,t,y0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new Z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function ok(n,e,...t){if(n=Rn(n),nk("collection","path",e),n instanceof au){let r=Ct.fromString(e,...t);return LM(r),new cs(n,null,r)}{if(!(n instanceof hr||n instanceof cs))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ct.fromString(e,...t));return LM(r),new cs(n.firestore,null,r)}}function R0(n,e,...t){if(n=Rn(n),arguments.length===1&&(e=ig.newId()),nk("doc","path",e),n instanceof au){let r=Ct.fromString(e,...t);return FM(r),new hr(n,null,new Z(r))}{if(!(n instanceof hr||n instanceof cs))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ct.fromString(e,...t));return FM(r),new hr(n.firestore,n instanceof cs?n.converter:null,new Z(r))}}var BM="AsyncQueue",Pg=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new wg(this,"async_queue_retry"),this.ju=()=>{let r=bw();r&&H(BM,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let t=bw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let t=bw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let t=new Do;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return M(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!du(e))throw e;H(BM,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Co("INTERNAL UNHANDLED ERROR: ",UM(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);let i=HI.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&X(47125,{ec:UM(this.Ku)})}verifyOperationInProgress(){}tc(){return M(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let t=this.Uu.indexOf(e);this.Uu.splice(t,1)}};function UM(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function jM(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Ro=class extends au{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Pg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return M(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Pg(e),this._firestoreClient=void 0,yield e}})}};function sk(n,e){let t=typeof n=="object"?n:Lc(),r=typeof n=="string"?n:e||cg,i=Pp(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=QP("firestore");o&&ik(i,...o)}return i}function ak(n){if(n._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||d6(n),n._firestoreClient}function d6(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,l,d){return new Ow(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tk(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new t0(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var fd=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Nn.fromBase64String(e))}catch(t){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var cu=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var hd=class{constructor(e){this._methodName=e}};var pd=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var gd=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var f6=/^__.*__$/,n0=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ca(e,this.data,t,this.fieldTransforms)}},Rg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function ck(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{oc:n})}}var r0=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ng(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(ck(this.oc)&&f6.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},i0=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jg(e)}dc(e,t,r,i=!1){return new r0({oc:e,methodName:t,Ec:r,path:Rr.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function M0(n){let e=n._freezeSettings(),t=jg(n._databaseId);return new i0(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uk(n,e,t,r,i,o={}){let s=n.dc(o.merge||o.mergeFields?2:0,e,t,i);N0("Data must be an object, but it was:",s,r);let a=lk(r,s),c,l;if(o.merge)c=new Xr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let h of o.mergeFields){let m=o0(e,h,t);if(!s.contains(m))throw new G(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);fk(d,m)||d.push(m)}c=new Xr(d),l=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=s.fieldTransforms;return new n0(new Pr(a),c,l)}var Mg=class n extends hd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function h6(n,e,t,r){let i=n.dc(1,e,t);N0("Data must be an object, but it was:",i,r);let o=[],s=Pr.empty();fs(r,(c,l)=>{let d=k0(e,c,t);l=Rn(l);let h=i.hc(d);if(l instanceof Mg)o.push(d);else{let m=zg(l,h);m!=null&&(o.push(d),s.set(d,m))}});let a=new Xr(o);return new Rg(s,a,i.fieldTransforms)}function p6(n,e,t,r,i,o){let s=n.dc(1,e,t),a=[o0(e,r,t)],c=[i];if(o.length%2!=0)throw new G(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(o0(e,o[m])),c.push(o[m+1]);let l=[],d=Pr.empty();for(let m=a.length-1;m>=0;--m)if(!fk(l,a[m])){let p=a[m],_=c[m];_=Rn(_);let y=s.hc(p);if(_ instanceof Mg)l.push(p);else{let b=zg(_,y);b!=null&&(l.push(p),d.set(p,b))}}let h=new Xr(l);return new Rg(d,h,s.fieldTransforms)}function zg(n,e){if(dk(n=Rn(n)))return N0("Unsupported field value:",e,n),lk(n,e);if(n instanceof hd)return function(r,i){if(!ck(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=zg(a,i.Pc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=En.fromDate(r);return{timestampValue:gg(i.serializer,o)}}if(r instanceof En){let o=new En(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gg(i.serializer,o)}}if(r instanceof pd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fd)return{bytesValue:RN(i.serializer,r._byteString)};if(r instanceof hr){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:E0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gd)return function(s,a){return{mapValue:{fields:{[h0]:{stringValue:p0},[Qc]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Tc("VectorValues must only contain numeric values.");return v0(a.serializer,l)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${P0(r)}`)}(n,e)}function lk(n,e){let t={};return iN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(n,(r,i)=>{let o=zg(i,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function dk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof En||n instanceof pd||n instanceof fd||n instanceof hr||n instanceof hd||n instanceof gd)}function N0(n,e,t){if(!dk(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=P0(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function o0(n,e,t){if((e=Rn(e))instanceof cu)return e._internalPath;if(typeof e=="string")return k0(n,e);throw Ng("Field path arguments must be of type string or ",n,!1,void 0,t)}var g6=new RegExp("[~\\*/\\[\\]]");function k0(n,e,t){if(e.search(g6)>=0)throw Ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cu(...e.split("."))._internalPath}catch{throw Ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ng(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new G(U.INVALID_ARGUMENT,a+n+c)}function fk(n,e){return n.some(t=>t.isEqual(e))}var kg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new s0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(hk("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},s0=class extends kg{data(){return super.data()}};function hk(n,e){return typeof e=="string"?k0(n,e):e instanceof cu?e._internalPath:e._delegate._internalPath}function m6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var a0=class{convertValue(e,t="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return fs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Qc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ht(s.doubleValue));return new gd(o)}convertGeoPoint(e){return new pd(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Vg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(od(e));default:return null}}convertTimestamp(e){let t=So(e);return new En(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ct.fromString(e);He(LN(r),9688,{name:e});let i=new ug(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(t)||Co(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function pk(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var wa=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Og=class extends kg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(hk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Gc=class extends Og{data(e={}){return super.data(e)}},c0=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new wa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gc(this._firestore,this._userDataWriter,r.key,r,new wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Gc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Gc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:_6(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function _6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:n})}}var Fg=class extends a0{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}};function gk(n,e,t){n=Ki(n,hr);let r=Ki(n.firestore,Ro),i=pk(n.converter,e,t);return qg(r,[uk(M0(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Wi.none())])}function mk(n,e,t,...r){n=Ki(n,hr);let i=Ki(n.firestore,Ro),o=M0(i),s;return s=typeof(e=Rn(e))=="string"||e instanceof cu?p6(o,"updateDoc",n._key,e,t,r):h6(o,"updateDoc",n._key,e),qg(i,[s.toMutation(n._key,Wi.exists(!0))])}function _k(n){return qg(Ki(n.firestore,Ro),[new ad(n._key,Wi.none())])}function yk(n,e){let t=Ki(n.firestore,Ro),r=R0(n),i=pk(n.converter,e);return qg(t,[uk(M0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Wi.exists(!1))]).then(()=>r)}function O0(n,...e){var t,r,i;n=Rn(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||jM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(jM(e[s])){let h=e[s];e[s]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,l,d;if(n instanceof hr)l=Ki(n.firestore,Ro),d=y0(n._key.path),c={next:h=>{e[s]&&e[s](y6(l,n,h))},error:e[s+1],complete:e[s+2]};else{let h=Ki(n,xg);l=Ki(h.firestore,Ro),d=h._query;let m=new Fg(l);c={next:p=>{e[s]&&e[s](new c0(l,m,h,p))},error:e[s+1],complete:e[s+2]},m6(n._query)}return function(m,p,_,y){let b=new e0(y),A=new GI(p,b,_);return m.asyncQueue.enqueueAndForget(()=>M(null,null,function*(){return z5(yield kM(m),A)})),()=>{b.yu(),m.asyncQueue.enqueueAndForget(()=>M(null,null,function*(){return q5(yield kM(m),A)}))}}(ak(l),d,a,c)}function qg(n,e){return function(r,i){let o=new Do;return r.asyncQueue.enqueueAndForget(()=>M(null,null,function*(){return J5(yield u6(r),i,o)})),o.promise}(ak(n),e)}function y6(n,e,t){let r=t.docs.get(e._key),i=new Fg(n);return new Og(n,i,e._key,r,new wa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){uu=i})(Fc),yi(new Qn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ro(new Aw(r.getProvider("auth-internal")),new Rw(s,r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ug(l.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Nt(XR,ZR,e),Nt(XR,ZR,"esm2017")})();var Wg=function(){return Wg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Wg.apply(this,arguments)};var w6={includeMetadataChanges:!1};function F0(n,e){return e===void 0&&(e=w6),new me(function(t){var r=O0(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function vk(n){return F0(n,{includeMetadataChanges:!0})}function Ek(n,e){return e===void 0&&(e={}),vk(n).pipe(si(function(t){return L0(t,e)}))}function L0(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Wg(Wg({},r),(t={},t[e.idField]=n.id,t))}function wk(n){return F0(n,{includeMetadataChanges:!0}).pipe(si(function(e){return e.docs}))}function Ik(n,e){return e===void 0&&(e={}),wk(n).pipe(si(function(t){return t.map(function(r){return L0(r,e)})}))}var xa=class{constructor(e){return e}},Tk="firestore",V0=class{constructor(){return Bc(Tk)}};var B0=new de("angularfire2.firestore-instances");function I6(n,e){let t=Np(Tk,n,e);return t&&new xa(t)}function T6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new xa(r)}}var b6={provide:V0,deps:[[new uo,B0]]},D6={provide:xa,useFactory:I6,deps:[[new uo,B0],ga]};function Zne(n,...e){return Nt("angularfire",ha.full,"fst"),sc([D6,b6,{provide:B0,useFactory:T6(n),multi:!0,deps:[xt,or,pa,zl,[new uo,Gp],[new uo,Op],...e]}])}var Jne=fr(Ik,!0);var hu=fr(Ek,!0);var ere=fr(yk,!0,2);var tre=fr(ok,!0,2);var nre=fr(_k,!0,2);var wi=fr(R0,!0,2);var rre=fr(sk,!0);var pu=fr(gk,!0,2);var ire=fr(mk,!0,2);var Zr=class n{constructor(e){this.firestore=e}setHeroSection(e){let t=wi(this.firestore,"homepage/hero");return pu(t,e)}setAboutProduct(e){let t=wi(this.firestore,"homepage/about");return pu(t,e)}setHowItWorks(e){let t=wi(this.firestore,"homepage/howItWorks");return pu(t,e)}setForShopOwners(e){let t=wi(this.firestore,"homepage/shopOwners");return pu(t,e)}setWhyProteinMatters(e){let t=wi(this.firestore,"homepage/proteinFacts");return pu(t,e)}getHeroSection(){return hu(wi(this.firestore,"homepage/hero"))}getAboutProduct(){return hu(wi(this.firestore,"homepage/about"))}getHowItWorks(){return hu(wi(this.firestore,"homepage/howItWorks"))}getForShopOwners(){return hu(wi(this.firestore,"homepage/shopOwners"))}getWhyProteinMatters(){return hu(wi(this.firestore,"homepage/proteinFacts"))}static \u0275fac=function(t){return new(t||n)(gn(xa))};static \u0275prov=je({token:n,factory:n.\u0275fac,providedIn:"root"})};function S6(n,e){if(n&1&&(ee(0,"div",5)(1,"div",6),Fe(2),re(),ee(3,"h3",7),Fe(4),re(),ee(5,"p",8),Fe(6),re()()),n&2){let t=e.$implicit,r=e.index;Jy("--i",r),Qy("data-index",r),Gt(2),rn(t.number),Gt(2),rn(t.title),Gt(2),rn(t.description)}}Jh.registerPlugin(Ae);var Gg=class n{constructor(e){this.contentService=e}data;ngOnInit(){this.contentService.getHowItWorks().subscribe(e=>{this.data=e,setTimeout(()=>{this.initScrollAnimations()},100)})}ngAfterViewInit(){}initScrollAnimations(){document.querySelectorAll(".how-it-works-card").forEach((t,r)=>{let o=window.getComputedStyle(t).transform,s=0;if(o&&o!=="none"){let a=o.split("(")[1].split(")")[0].split(","),c=parseFloat(a[0]),l=parseFloat(a[1]);s=Math.round(Math.atan2(l,c)*(180/Math.PI))}Jh.fromTo(t,{y:0,rotate:s},{scrollTrigger:{trigger:t,start:"",scrub:!0},y:-r*50,rotate:s,ease:"none"})})}static \u0275fac=function(t){return new(t||n)(It(Zr))};static \u0275cmp=bn({type:n,selectors:[["app-how-it-works"]],decls:9,vars:3,consts:[[1,"how-it-works-section"],[1,"intro-column"],[1,"cards-column"],[1,"card-stack"],["class","how-it-works-card",3,"--i",4,"ngFor","ngForOf"],[1,"how-it-works-card"],[1,"card-number"],[1,"card-title"],[1,"card-description"]],template:function(t,r){t&1&&(ee(0,"section",0)(1,"div",1)(2,"h2"),Fe(3),re(),ee(4,"p"),Fe(5),re()(),ee(6,"div",2)(7,"div",3),Gy(8,S6,7,6,"div",4),re()()()),t&2&&(Gt(3),rn(r.data==null?null:r.data.title),Gt(2),xh(" ",(r.data==null?null:r.data.description)||"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam sollicitudin, turpis ac facilisis consequat, sapien nulla hendrerit tortor, eu tincidunt justo nisi vitae orci. Vivamus non tempor augue. Sed vehicula magna non massa tristique volutpat."," "),Gt(3),Zy("ngForOf",r.data.steps))},dependencies:[av,Oh],styles:['@keyframes _ngcontent-%COMP%_noonGradientShift{0%{background:linear-gradient(to bottom,#fffde7,#fffaf0)}50%{background:linear-gradient(to bottom,#fffce0,#fff9e3)}to{background:linear-gradient(to bottom,#fffde7,#fffaf0)}}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.how-it-works-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_noonGradientShift 10s ease-in-out infinite;display:flex;flex-direction:row;gap:40px;padding:60px;background:linear-gradient(to bottom,#fffde7,#fffaf0)}.how-it-works-section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeSlideUp 1.2s ease-out forwards;opacity:0}.intro-column[_ngcontent-%COMP%]{flex:.6;position:sticky;top:100px;align-self:flex-start;padding:40px;background:#ffffff26;border-radius:20px;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-shadow:0 8px 24px #0000001a;transition:transform .3s ease,box-shadow .3s ease;border:1px solid rgba(255,255,255,.3);animation:_ngcontent-%COMP%_fadeInUp 1s ease-out forwards;opacity:0}.intro-column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:1rem;color:#111;text-shadow:0 1px 2px rgba(0,0,0,.1)}.intro-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;color:#333;font-weight:400;max-width:90%}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.cards-column[_ngcontent-%COMP%]{flex:1;position:relative}.card-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;min-height:100vh}.how-it-works-card[_ngcontent-%COMP%]{position:sticky;top:90px;width:100%;max-width:500px;margin:0 auto;padding:24px;background:#ffffff26;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px;border:1px solid rgba(255,255,255,.18);box-shadow:0 12px 30px #00000040;transform-origin:center;transition:transform .4s ease,box-shadow .4s ease;opacity:0;transform:translateY(50px) rotate(-4deg);animation:_ngcontent-%COMP%_fadeInCard .6s ease-out forwards;box-sizing:border-box}.how-it-works-card[_ngcontent-%COMP%]:hover{transform:scale(1.015) rotate(0);box-shadow:0 20px 40px #00000059}.card-stack[_ngcontent-%COMP%]   .how-it-works-card[_ngcontent-%COMP%]:nth-child(1){z-index:10;animation-delay:.2s}.card-stack[_ngcontent-%COMP%]   .how-it-works-card[_ngcontent-%COMP%]:nth-child(2){transform:rotate(0);z-index:20;animation-delay:.4s}.card-stack[_ngcontent-%COMP%]   .how-it-works-card[_ngcontent-%COMP%]:nth-child(3){transform:rotate(-7deg);z-index:30;animation-delay:.6s}.card-stack[_ngcontent-%COMP%]   .how-it-works-card[_ngcontent-%COMP%]:nth-child(4){transform:rotate(-2deg);margin-top:0;z-index:40;animation-delay:.8s}.card-number[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#f57c00;margin-bottom:10px}.card-title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:600;color:#222;margin-bottom:10px}.card-description[_ngcontent-%COMP%]{font-size:1rem;color:#555;line-height:1.6}@keyframes _ngcontent-%COMP%_fadeInCard{to{opacity:1;transform:translateY(0) rotate(var(--card-rotate, -4deg))}}@media (max-width: 768px){.how-it-works-section[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.intro-column[_ngcontent-%COMP%]{position:relative;top:0;width:100%;height:auto;padding:10px}.cards-column[_ngcontent-%COMP%]{position:relative;width:100%;height:auto;padding:10px}.how-it-works-card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.how-it-works-section[_ngcontent-%COMP%], .intro-column[_ngcontent-%COMP%]{padding:20px}.how-it-works-card[_ngcontent-%COMP%]{position:relative;top:auto;width:100%;max-width:100%;margin:20px 0}}.cards-column[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.cards-column[_ngcontent-%COMP%]{padding-left:0}.cards-column[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}.how-it-works-section[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-repeat:no-repeat;opacity:.06;animation:_ngcontent-%COMP%_beachFlow 60s linear infinite;z-index:0;pointer-events:none}.how-it-works-section[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:url(https://www.svgbackgrounds.com/wp-content/uploads/2021/05/waves.svg) repeat-x;background-size:cover;background-repeat:repeat-x;opacity:.08;animation:_ngcontent-%COMP%_beachFlow 60s linear infinite;z-index:0;pointer-events:none}@keyframes _ngcontent-%COMP%_beachFlow{0%{background-position:0 0}to{background-position:1000px 0}}']})};var Kg=class n{constructor(e){this.contentService=e}data;ngOnInit(){this.contentService.getHeroSection().subscribe(e=>{this.data=e})}static \u0275fac=function(t){return new(t||n)(It(Zr))};static \u0275cmp=bn({type:n,selectors:[["app-hero-section"]],decls:13,vars:2,consts:[[1,"for-shop-owners"],[1,"animated-fitness-icons"],[1,"fas","fa-dumbbell"],[1,"fas","fa-running"],[1,"fas","fa-apple-alt"],[1,"fas","fa-heartbeat"],["href","/shop-finder",1,"find-shops-btn"]],template:function(t,r){t&1&&(ee(0,"section",0)(1,"div",1),Rt(2,"i",2)(3,"i",3)(4,"i",4)(5,"i",5),re(),ee(6,"h2"),Fe(7),re(),ee(8,"p"),Fe(9),re(),ee(10,"a",6)(11,"span"),Fe(12,"Find Shops Near You"),re()()()),t&2&&(Gt(7),rn(r.data==null?null:r.data.title),Gt(2),rn(r.data==null?null:r.data.description))},styles:['.for-shop-owners[_ngcontent-%COMP%]{padding:4rem 2rem;background:linear-gradient(135deg,#fff5e1,#ffd89b,#ffb87a);margin-bottom:0rem;border-radius:20px;text-align:center;position:relative;overflow:hidden;box-shadow:0 20px 40px #0000001a;animation:_ngcontent-%COMP%_fadeInUp 1.2s ease both}.for-shop-owners[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-40px;right:-40px;width:150px;height:150px;background-size:contain;opacity:.05;animation:_ngcontent-%COMP%_slowSpin 50s linear infinite;pointer-events:none;z-index:0}.animated-fitness-icons[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}.animated-fitness-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;font-size:2rem;opacity:.08;color:#ff7043;animation:_ngcontent-%COMP%_floatGymIcons 12s ease-in-out infinite alternate}.animated-fitness-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:nth-child(1){top:20%;left:15%;animation-delay:0s}.animated-fitness-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:nth-child(2){top:35%;left:80%;animation-delay:3s}.animated-fitness-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:nth-child(3){top:60%;left:25%;animation-delay:6s}.animated-fitness-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:nth-child(4){top:75%;left:70%;animation-delay:9s}.for-shop-owners[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.6rem;font-weight:700;margin-bottom:1rem;color:#b44600;background:linear-gradient(90deg,#e65100,#ffb74d);-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:relative;z-index:2}.for-shop-owners[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem;color:#4e342e;max-width:760px;margin:0 auto;line-height:1.75;font-weight:400;position:relative;z-index:2}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_floatGymIcons{0%{transform:translateY(0) scale(1);opacity:.06}to{transform:translateY(-30px) scale(1.2) rotate(10deg);opacity:.12}}@keyframes _ngcontent-%COMP%_slowSpin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.for-shop-owners[_ngcontent-%COMP%]{padding:3rem 1.5rem}.for-shop-owners[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.for-shop-owners[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem}}@media (max-width: 480px){.for-shop-owners[_ngcontent-%COMP%]{padding:2rem 1rem}.for-shop-owners[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem}.for-shop-owners[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}}.find-shops-btn[_ngcontent-%COMP%]{display:inline-block;margin-top:30px;padding:16px 32px;background:linear-gradient(135deg,#ff8a00,#e52e71);color:#fff;font-size:1.2rem;font-weight:600;border:none;border-radius:50px;text-decoration:none;box-shadow:0 0 18px #ff8a0066;position:relative;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;animation:_ngcontent-%COMP%_floatButton 3s ease-in-out infinite}.find-shops-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.3) 20%,transparent 60%);transform:rotate(45deg);animation:_ngcontent-%COMP%_glowSweep 4s linear infinite;pointer-events:none}.find-shops-btn[_ngcontent-%COMP%]:hover{transform:scale(1.06);box-shadow:0 0 28px #ff8a0099}@keyframes _ngcontent-%COMP%_floatButton{0%,to{transform:translateY(0)}50%{transform:translateY(-6px)}}@keyframes _ngcontent-%COMP%_glowSweep{0%{transform:translate(-100%,-100%) rotate(45deg)}to{transform:translate(100%,100%) rotate(45deg)}}@media (max-width: 600px){.find-shops-btn[_ngcontent-%COMP%]{font-size:1rem;padding:14px 28px}}']})};var Yg=class n{constructor(e){this.contentService=e}data;ngOnInit(){this.contentService.getAboutProduct().subscribe(e=>{this.data=e})}static \u0275fac=function(t){return new(t||n)(It(Zr))};static \u0275cmp=bn({type:n,selectors:[["app-about-product"]],decls:8,vars:2,consts:[[1,"about-products-wrapper","hover-wrapper"],[1,"about-product-bg"],[1,"sun-animation"],[1,"about-product"]],template:function(t,r){t&1&&(ee(0,"div",0),Rt(1,"div",1)(2,"div",2),ee(3,"section",3)(4,"h2"),Fe(5),re(),ee(6,"p"),Fe(7),re()()()),t&2&&(Gt(5),rn(r.data==null?null:r.data.title),Gt(2),rn(r.data==null?null:r.data.description))},styles:[".about-products-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;padding:40px 20px;z-index:1;overflow:hidden}.about-product-bg[_ngcontent-%COMP%]{position:absolute;left:0;margin-left:8%;width:80%;height:220px;background:linear-gradient(135deg,#f9c46b,#e67e7e);opacity:.3;transform:rotate(-2deg);border-radius:30px;z-index:0;box-shadow:0 12px 28px #0000001a}.sun-animation[_ngcontent-%COMP%]{position:absolute;top:10%;right:-50px;width:120px;height:120px;background:radial-gradient(circle,#ffd27f,#ff5e00);border-radius:50%;opacity:.5;animation:_ngcontent-%COMP%_sunSetDrift 12s linear infinite;z-index:0}@keyframes _ngcontent-%COMP%_sunSetDrift{0%{transform:translateY(0) translate(0);opacity:.6}50%{transform:translateY(30px) translate(-30px);opacity:.8}to{transform:translateY(60px) translate(-60px);opacity:.4}}.about-product[_ngcontent-%COMP%]{max-width:85%;margin:auto;padding:3rem 2rem;background:#f3ecec;color:#1e1e1e;border-radius:20px;box-shadow:0 20px 40px #00000026;transform:rotate(2deg) scale(1);text-align:center;z-index:2;transition:all .4s ease}.about-product[_ngcontent-%COMP%]:hover{background:#2c2c2c;color:#fff;transform:rotate(0) scale(1.05);box-shadow:0 30px 60px #0006}.about-product[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;font-weight:700;margin-bottom:1.2rem;letter-spacing:-.5px;background:linear-gradient(90deg,#ff9a8b,#ff6a00);-webkit-background-clip:text;-webkit-text-fill-color:transparent;transition:.4s ease}.about-product[_ngcontent-%COMP%]:hover   h2[_ngcontent-%COMP%]{background:none;-webkit-text-fill-color:#ffffff}.about-product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.8;color:#2d2d2d;max-width:720px;margin:0 auto;transition:color .4s ease}.about-product[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#eaeaea}@media (max-width: 768px){.about-product[_ngcontent-%COMP%]{padding:2rem 1.5rem}.about-product[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.about-product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem}}@media (max-width: 480px){.about-product[_ngcontent-%COMP%]{padding:1.5rem 1rem}.about-product[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem}.about-product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}}"]})};var Qg=class n{constructor(e){this.contentService=e}data;ngOnInit(){this.contentService.getForShopOwners().subscribe(e=>{this.data=e})}static \u0275fac=function(t){return new(t||n)(It(Zr))};static \u0275cmp=bn({type:n,selectors:[["app-for-shop-owners"]],decls:12,vars:2,consts:[[1,"for-shop-owners","sun-to-sunset"],[1,"floating-elements"],[1,"leaf","leaf-1"],[1,"leaf","leaf-2"],[1,"glow","glow-1"],[1,"glow","glow-2"],["href","#contact",1,"sunset-button"]],template:function(t,r){t&1&&(ee(0,"section",0)(1,"div",1),Rt(2,"span",2)(3,"span",3)(4,"span",4)(5,"span",5),re(),ee(6,"h2"),Fe(7),re(),ee(8,"p"),Fe(9),re(),ee(10,"a",6),Fe(11,"Contact Us"),re()()),t&2&&(Gt(7),rn(r.data==null?null:r.data.title),Gt(2),rn(r.data==null?null:r.data.description))},styles:['.sun-to-sunset[_ngcontent-%COMP%]{padding:4rem 2rem;background:linear-gradient(135deg,#f9c46b,#e67e7e);margin-bottom:2rem;border-radius:20px;text-align:center;position:relative;overflow:hidden;box-shadow:0 20px 50px #00000026;animation:_ngcontent-%COMP%_fadeInUp 1.2s ease both}.sun-to-sunset[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;background:linear-gradient(90deg,#ff7043,#e91e63);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1rem}.sun-to-sunset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#4e342e;max-width:720px;margin:0 auto;line-height:1.8;font-weight:400}.floating-elements[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;z-index:0}.leaf[_ngcontent-%COMP%], .glow[_ngcontent-%COMP%]{position:absolute;background-repeat:no-repeat;background-size:contain;opacity:.1;animation:_ngcontent-%COMP%_floaty 20s infinite ease-in-out}.leaf[_ngcontent-%COMP%]{width:40px;height:40px;background-image:url(https://cdn-icons-png.flaticon.com/512/616/616408.png)}.leaf-1[_ngcontent-%COMP%]{top:10%;left:5%;animation-delay:0s}.leaf-2[_ngcontent-%COMP%]{top:60%;left:80%;animation-delay:4s}.glow[_ngcontent-%COMP%]{width:25px;height:25px;background-image:url(https://cdn-icons-png.flaticon.com/512/744/744465.png);filter:blur(2px)}.glow-1[_ngcontent-%COMP%]{top:40%;left:30%;animation-delay:2s}.glow-2[_ngcontent-%COMP%]{top:20%;left:70%;animation-delay:6s}@keyframes _ngcontent-%COMP%_floaty{0%{transform:translateY(0) rotate(0);opacity:.1}50%{transform:translateY(-40px) rotate(15deg);opacity:.2}to{transform:translateY(0) rotate(0);opacity:.1}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.sun-to-sunset[_ngcontent-%COMP%]{padding:3rem 1.5rem}.sun-to-sunset[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.sun-to-sunset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem}}@media (max-width: 480px){.sun-to-sunset[_ngcontent-%COMP%]{padding:2rem 1rem}.sun-to-sunset[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem}.sun-to-sunset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}}.sunset-button[_ngcontent-%COMP%]{display:inline-block;padding:14px 36px;font-size:1.2rem;font-weight:700;color:#fff;background:linear-gradient(135deg,#ff7b5e,#f94d6a);border:none;border-radius:50px;box-shadow:0 10px 25px #f94d6a66;cursor:pointer;transition:all .35s ease;text-decoration:none;position:relative;overflow:hidden;margin-top:2%}.sunset-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:200%;height:100%;background:linear-gradient(120deg,#ffffff4d,#fff0);transition:all .5s ease;transform:skew(-20deg);z-index:0}.sunset-button[_ngcontent-%COMP%]:hover:before{left:100%}.sunset-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 15px 35px #f94d6a8c}']})};var Xg=class n{constructor(e){this.contentService=e}data;ngOnInit(){this.contentService.getWhyProteinMatters().subscribe(e=>{this.data=e})}static \u0275fac=function(t){return new(t||n)(It(Zr))};static \u0275cmp=bn({type:n,selectors:[["app-why-protein-matters"]],decls:7,vars:2,consts:[[1,"why-protein-matters","gym-evolution"],[1,"lottie-transform"],["src","https://assets6.lottiefiles.com/packages/lf20_touohxv0.json","background","transparent","speed","1","autoplay","",2,"width","180px","height","180px"]],template:function(t,r){t&1&&(ee(0,"section",0)(1,"div",1),Rt(2,"lottie-player",2),re(),ee(3,"h2"),Fe(4),re(),ee(5,"p"),Fe(6),re()()),t&2&&(Gt(4),rn(r.data==null?null:r.data.title),Gt(2),rn(r.data==null?null:r.data.description))},styles:[".gym-evolution[_ngcontent-%COMP%]{padding:4rem 2rem;background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);border-radius:24px;box-shadow:0 20px 40px #0003;text-align:center;color:#fff;position:relative;overflow:hidden;animation:_ngcontent-%COMP%_fadeInUp 1s ease both;margin-bottom:2%}.lottie-transform[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:2rem;margin-bottom:2.5rem;position:relative}.gym-evolution[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;background:linear-gradient(90deg,#8e2de2,#4a00e0);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1.2rem;text-shadow:0 1px 2px rgba(255,255,255,.3)}.gym-evolution[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.15rem;color:#dce3ea;max-width:800px;margin:0 auto;line-height:1.75}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_arrowPulse{0%,to{transform:translate(0);opacity:.6}50%{transform:translate(6px);opacity:1}}"]})};var Zg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=bn({type:n,selectors:[["app-corner-badge"]],decls:7,vars:0,consts:[[1,"corner-hang","right"],[1,"thread"],["src","../../assets/image1-removebg-preview.png","alt","Protein Packet",1,"packet-img"],[1,"corner-hang","left"],[1,"image-wrapper"],["src","../../assets/images/ekscoop logo with spoon and checkmark.png","alt","Protein Packet",1,"packet-img"]],template:function(t,r){t&1&&(ee(0,"div",0),Rt(1,"div",1)(2,"img",2),re(),ee(3,"div",3),Rt(4,"div",1),ee(5,"div",4),Rt(6,"img",5),re()())},styles:['.corner-hang[_ngcontent-%COMP%]{position:fixed;top:20px;z-index:9999;transform-origin:top center}.corner-hang.right[_ngcontent-%COMP%]{right:20px;animation:_ngcontent-%COMP%_swing 2.5s infinite ease-in-out}.corner-hang.left[_ngcontent-%COMP%]{left:20px;animation:_ngcontent-%COMP%_swing 2.5s infinite ease-in-out;transform:translate(-100px)}.thread[_ngcontent-%COMP%]{position:absolute;top:-20px;left:50%;transform:translate(-50%);width:2px;height:22px;background-color:#444;z-index:-1}.corner-hang.left[_ngcontent-%COMP%]   .thread[_ngcontent-%COMP%]{height:48px}.corner-hang.left[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{transform:translate(-15px) translateY(11px) rotate(-15deg)}@keyframes _ngcontent-%COMP%_swing{0%{transform:rotate(0)}25%{transform:rotate(6deg)}50%{transform:rotate(-4deg)}75%{transform:rotate(3deg)}to{transform:rotate(0)}}.packet-img[_ngcontent-%COMP%]{width:100px;display:block}.find-shops-btn[_ngcontent-%COMP%]{display:inline-block;margin-top:30px;padding:16px 32px;background:linear-gradient(135deg,#ff8a00,#e52e71);color:#fff;font-size:1.2rem;font-weight:600;border:none;border-radius:50px;text-decoration:none;box-shadow:0 0 18px #ff8a0066;position:relative;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;animation:_ngcontent-%COMP%_floatButton 3s ease-in-out infinite}.find-shops-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.3) 20%,transparent 60%);transform:rotate(45deg);animation:_ngcontent-%COMP%_glowSweep 4s linear infinite;pointer-events:none}.find-shops-btn[_ngcontent-%COMP%]:hover{transform:scale(1.06);box-shadow:0 0 28px #ff8a0099}@keyframes _ngcontent-%COMP%_floatButton{0%,to{transform:translateY(0)}50%{transform:translateY(-6px)}}@keyframes _ngcontent-%COMP%_glowSweep{0%{transform:translate(-100%,-100%) rotate(45deg)}to{transform:translate(100%,100%) rotate(45deg)}}@media (max-width: 600px){.find-shops-btn[_ngcontent-%COMP%]{font-size:1rem;padding:14px 28px}}']})};var Jg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=bn({type:n,selectors:[["app-footer"]],decls:47,vars:0,consts:[[1,"sunset-footer"],[1,"night-elements"],[1,"moon"],[1,"star","star-1"],[1,"star","star-2"],[1,"star","star-3"],[1,"floating-icons"],[1,"fas","fa-dumbbell"],[1,"fas","fa-seedling"],[1,"fas","fa-bolt"],[1,"fas","fa-heartbeat"],[1,"footer-inner"],[1,"footer-column"],[1,"footer-column","links"],["href","#"],[1,"footer-column","social"],[1,"fab","fa-instagram"],[1,"fab","fa-twitter"],[1,"fab","fa-youtube"],[1,"footer-bottom"]],template:function(t,r){t&1&&(ee(0,"footer",0)(1,"div",1),Rt(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),re(),ee(6,"div",6),Rt(7,"i",7)(8,"i",8)(9,"i",9)(10,"i",10),re(),ee(11,"div",11)(12,"div",12)(13,"h3"),Fe(14,"ekScoop"),re(),ee(15,"p"),Fe(16,"Empowering your body with clean, simple protein. One scoop, endless gains."),re()(),ee(17,"div",13)(18,"h4"),Fe(19,"Explore"),re(),ee(20,"a",14),Fe(21,"Home"),re(),ee(22,"a",14),Fe(23,"Our Story"),re(),ee(24,"a",14),Fe(25,"Protein Guide"),re(),ee(26,"a",14),Fe(27,"Contact"),re()(),ee(28,"div",13)(29,"h4"),Fe(30,"Legal"),re(),ee(31,"a",14),Fe(32,"Privacy"),re(),ee(33,"a",14),Fe(34,"Terms"),re()(),ee(35,"div",15)(36,"h4"),Fe(37,"Follow Us"),re(),ee(38,"a",14),Rt(39,"i",16),re(),ee(40,"a",14),Rt(41,"i",17),re(),ee(42,"a",14),Rt(43,"i",18),re()()(),ee(44,"div",19)(45,"p"),Fe(46,"\xA9 2025 ekScoop. Made with \u{1F4AA} in India."),re()()())},styles:[".sun-to-sunset[_ngcontent-%COMP%]{padding:4rem 2rem;background:linear-gradient(135deg,#f09819,#ff512f,#1d2671);margin-bottom:2rem;border-radius:20px;text-align:center;position:relative;overflow:hidden;box-shadow:0 20px 50px #00000026;animation:_ngcontent-%COMP%_fadeInUp 1.2s ease both}.sun-to-sunset[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;background:linear-gradient(90deg,#ff7043,#e91e63);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1rem}.sun-to-sunset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#f5f5f5;max-width:720px;margin:0 auto;line-height:1.8;font-weight:400}.floating-elements[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;z-index:0}.leaf[_ngcontent-%COMP%], .glow[_ngcontent-%COMP%]{position:absolute;background-repeat:no-repeat;background-size:contain;opacity:.1;animation:_ngcontent-%COMP%_floaty 20s infinite ease-in-out}.leaf[_ngcontent-%COMP%]{width:40px;height:40px;background-image:url(https://cdn-icons-png.flaticon.com/512/616/616408.png)}.leaf-1[_ngcontent-%COMP%]{top:10%;left:5%;animation-delay:0s}.leaf-2[_ngcontent-%COMP%]{top:60%;left:80%;animation-delay:4s}.glow[_ngcontent-%COMP%]{width:25px;height:25px;background-image:url(https://cdn-icons-png.flaticon.com/512/744/744465.png);filter:blur(2px)}.glow-1[_ngcontent-%COMP%]{top:40%;left:30%;animation-delay:2s}.glow-2[_ngcontent-%COMP%]{top:20%;left:70%;animation-delay:6s}@keyframes _ngcontent-%COMP%_floaty{0%{transform:translateY(0) rotate(0);opacity:.1}50%{transform:translateY(-40px) rotate(15deg);opacity:.2}to{transform:translateY(0) rotate(0);opacity:.1}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.sun-to-sunset[_ngcontent-%COMP%]{padding:3rem 1.5rem}.sun-to-sunset[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.sun-to-sunset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem}}@media (max-width: 480px){.sun-to-sunset[_ngcontent-%COMP%]{padding:2rem 1rem}.sun-to-sunset[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem}.sun-to-sunset[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}}.sunset-footer[_ngcontent-%COMP%]{position:relative;background:linear-gradient(to right,#0f2027,#203a43,#2c5364);color:#fff;padding:4rem 2rem 2rem;font-family:Poppins,sans-serif;overflow:hidden;border-top-left-radius:3rem;border-top-right-radius:3rem}.night-elements[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none}.moon[_ngcontent-%COMP%]{position:absolute;top:20%;right:10%;width:60px;height:60px;background:radial-gradient(circle at center,#fffde7,#fbc02d);border-radius:50%;box-shadow:0 0 30px #ffffc866;animation:_ngcontent-%COMP%_floatMoon 8s infinite ease-in-out}@keyframes _ngcontent-%COMP%_floatMoon{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.star[_ngcontent-%COMP%]{position:absolute;width:5px;height:5px;background:#fff;border-radius:50%;opacity:.8;animation:_ngcontent-%COMP%_twinkle 3s infinite ease-in-out alternate}.star-1[_ngcontent-%COMP%]{top:10%;left:20%;animation-delay:0s}.star-2[_ngcontent-%COMP%]{top:25%;left:70%;animation-delay:1s}.star-3[_ngcontent-%COMP%]{top:40%;left:50%;animation-delay:2s}@keyframes _ngcontent-%COMP%_twinkle{0%{opacity:.2;transform:scale(1)}to{opacity:.9;transform:scale(1.5)}}.floating-icons[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0}.floating-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;font-size:1.8rem;opacity:.1;color:#fff;animation:_ngcontent-%COMP%_floatIcons 15s infinite ease-in-out alternate}.floating-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:nth-child(1){top:20%;left:10%;animation-delay:0s}.floating-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:nth-child(2){top:40%;left:80%;animation-delay:4s}.floating-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:nth-child(3){top:60%;left:30%;animation-delay:2s}.floating-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:nth-child(4){top:75%;left:60%;animation-delay:6s}@keyframes _ngcontent-%COMP%_floatIcons{0%{transform:translateY(0) rotate(0);opacity:.08}to{transform:translateY(-30px) rotate(360deg);opacity:.15}}.footer-inner[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-wrap:wrap;justify-content:space-between;gap:2rem;max-width:1200px;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1 1 200px}.footer-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem;background:linear-gradient(90deg,#fff,#fbd786);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.footer-column[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:.75rem}.footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fefefe;font-size:.95rem;line-height:1.6;text-decoration:none;display:block;margin-bottom:.4rem;transition:all .3s ease}.footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:translate(5px);color:#ffeeba}.footer-column.social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;font-size:1.5rem;margin-right:1rem;transition:transform .3s ease,color .3s ease}.footer-column.social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff0c1;transform:scale(1.2)}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:.85rem;color:#fffbe6;position:relative;z-index:1;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.footer-inner[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.footer-column[_ngcontent-%COMP%]{flex:1 1 100%;margin-bottom:2rem}}"]})};var bk=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=bn({type:n,selectors:[["app-homecomponent"]],decls:7,vars:0,template:function(t,r){t&1&&Rt(0,"app-corner-badge")(1,"app-hero-section")(2,"app-about-product")(3,"app-how-it-works")(4,"app-for-shop-owners")(5,"app-why-protein-matters")(6,"app-footer")},dependencies:[Kg,Yg,Gg,Qg,Xg,Zg,Jg],encapsulation:2})};export{hn as a,pn as b,A6 as c,M as d,Vt as e,RT as f,me as g,xm as h,Pm as i,tr as j,Pu as k,Is as l,oi as m,d1 as n,f1 as o,h1 as p,bs as q,si as r,w1 as s,Ds as t,lf as u,T1 as v,b1 as w,D1 as x,Bo as y,C1 as z,ZT as A,S1 as B,A1 as C,ku as D,Om as E,P1 as F,R1 as G,Fm as H,M1 as I,eb as J,tb as K,N1 as L,k1 as M,rb as N,O1 as O,F1 as P,L1 as Q,V1 as R,Ce as S,TD as T,je as U,DD as V,JY as W,de as X,De as Y,gn as Z,q as _,sc as $,jD as aa,di as ba,ac as ca,KD as da,eQ as ea,tQ as fa,nQ as ga,rQ as ha,or as ia,Fb as ja,tl as ka,hc as la,jo as ma,xt as na,Os as oa,iQ as pa,gc as qa,eL as ra,OC as sa,A_ as ta,oQ as ua,Ya as va,lL as wa,zC as xa,sQ as ya,aQ as za,fh as Aa,hh as Ba,Us as Ca,SL as Da,JC as Ea,qu as Fa,cQ as Ga,Gt as Ha,Gf as Ia,Fs as Ja,Zf as Ka,GS as La,It as Ma,$s as Na,gQ as Oa,ic as Pa,CB as Qa,cA as Ra,bn as Sa,uA as Ta,al as Ua,kB as Va,Gy as Wa,yQ as Xa,Ky as Ya,Yy as Za,co as _a,Qy as $a,Zy as ab,DU as bb,vQ as cb,EQ as db,ee as eb,re as fb,Rt as gb,wQ as hb,jU as ib,GU as jb,IQ as kb,TQ as lb,bQ as mb,XU as nb,DQ as ob,CQ as pb,SQ as qb,AQ as rb,xQ as sb,PQ as tb,RQ as ub,Fe as vb,rn as wb,xh as xb,tj as yb,nj as zb,MQ as Ab,rj as Bb,oj as Cb,NQ as Db,kQ as Eb,RA as Fb,OQ as Gb,FQ as Hb,Ij as Ib,LQ as Jb,VQ as Kb,BQ as Lb,UQ as Mb,jQ as Nb,kA as Ob,Mj as Pb,OA as Qb,$Q as Rb,Ph as Sb,Rh as Tb,Lj as Ub,iv as Vb,zA as Wb,jj as Xb,Oh as Yb,$j as Zb,Hj as _b,av as $b,zj as ac,KA as bc,qj as cc,Wj as dc,cv as ec,UJ as fc,jJ as gc,xa as hc,Zne as ic,Jne as jc,ere as kc,tre as lc,nre as mc,wi as nc,rre as oc,ire as pc,Zr as qc,Gg as rc,bk as sc};
